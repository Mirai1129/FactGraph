(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Su(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const ze={},Di=[],xn=()=>{},Tv=()=>!1,Ja=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Ru=n=>n.startsWith("onUpdate:"),_t=Object.assign,Pu=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Iv=Object.prototype.hasOwnProperty,He=(n,e)=>Iv.call(n,e),ve=Array.isArray,ki=n=>Xa(n)==="[object Map]",Zp=n=>Xa(n)==="[object Set]",be=n=>typeof n=="function",ht=n=>typeof n=="string",Fr=n=>typeof n=="symbol",Je=n=>n!==null&&typeof n=="object",em=n=>(Je(n)||be(n))&&be(n.then)&&be(n.catch),tm=Object.prototype.toString,Xa=n=>tm.call(n),bv=n=>Xa(n).slice(8,-1),nm=n=>Xa(n)==="[object Object]",Du=n=>ht(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Vs=Su(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Av=/-(\w)/g,mn=Za(n=>n.replace(Av,(e,t)=>t?t.toUpperCase():"")),Cv=/\B([A-Z])/g,pi=Za(n=>n.replace(Cv,"-$1").toLowerCase()),el=Za(n=>n.charAt(0).toUpperCase()+n.slice(1)),ql=Za(n=>n?`on${el(n)}`:""),Tr=(n,e)=>!Object.is(n,e),aa=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Sc=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Rc=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Sv=n=>{const e=ht(n)?Number(n):NaN;return isNaN(e)?n:e};let ff;const tl=()=>ff||(ff=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ku(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=ht(r)?kv(r):ku(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(ht(n)||Je(n))return n}const Rv=/;(?![^(]*\))/g,Pv=/:([^]+)/,Dv=/\/\*[^]*?\*\//g;function kv(n){const e={};return n.replace(Dv,"").split(Rv).forEach(t=>{if(t){const r=t.split(Pv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Mt(n){let e="";if(ht(n))e=n;else if(ve(n))for(let t=0;t<n.length;t++){const r=Mt(n[t]);r&&(e+=r+" ")}else if(Je(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Ov="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mv=Su(Ov);function rm(n){return!!n||n===""}const im=n=>!!(n&&n.__v_isRef===!0),ti=n=>ht(n)?n:n==null?"":ve(n)||Je(n)&&(n.toString===tm||!be(n.toString))?im(n)?ti(n.value):JSON.stringify(n,sm,2):String(n),sm=(n,e)=>im(e)?sm(n,e.value):ki(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i],s)=>(t[zl(r,s)+" =>"]=i,t),{})}:Zp(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>zl(t))}:Fr(e)?zl(e):Je(e)&&!ve(e)&&!nm(e)?String(e):e,zl=(n,e="")=>{var t;return Fr(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xt;class Nv{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xt,!e&&Xt&&(this.index=(Xt.scopes||(Xt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Xt;try{return Xt=this,e()}finally{Xt=t}}}on(){++this._on===1&&(this.prevScope=Xt,Xt=this)}off(){this._on>0&&--this._on===0&&(Xt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function xv(){return Xt}let Ke;const Kl=new WeakSet;class om{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xt&&Xt.active&&Xt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kl.has(this)&&(Kl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,df(this),cm(this);const e=Ke,t=En;Ke=this,En=!0;try{return this.fn()}finally{um(this),Ke=e,En=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Nu(e);this.deps=this.depsTail=void 0,df(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pc(this)&&this.run()}get dirty(){return Pc(this)}}let am=0,Ls,Fs;function lm(n,e=!1){if(n.flags|=8,e){n.next=Fs,Fs=n;return}n.next=Ls,Ls=n}function Ou(){am++}function Mu(){if(--am>0)return;if(Fs){let e=Fs;for(Fs=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;Ls;){let e=Ls;for(Ls=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function cm(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function um(n){let e,t=n.depsTail,r=t;for(;r;){const i=r.prevDep;r.version===-1?(r===t&&(t=i),Nu(r),Vv(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}n.deps=e,n.depsTail=t}function Pc(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(hm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function hm(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===Zs)||(n.globalVersion=Zs,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!Pc(n))))return;n.flags|=2;const e=n.dep,t=Ke,r=En;Ke=n,En=!0;try{cm(n);const i=n.fn(n._value);(e.version===0||Tr(i,n._value))&&(n.flags|=128,n._value=i,e.version++)}catch(i){throw e.version++,i}finally{Ke=t,En=r,um(n),n.flags&=-3}}function Nu(n,e=!1){const{dep:t,prevSub:r,nextSub:i}=n;if(r&&(r.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Nu(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Vv(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let En=!0;const fm=[];function Xn(){fm.push(En),En=!1}function Zn(){const n=fm.pop();En=n===void 0?!0:n}function df(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=Ke;Ke=void 0;try{e()}finally{Ke=t}}}let Zs=0;class Lv{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class xu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Ke||!En||Ke===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Ke)t=this.activeLink=new Lv(Ke,this),Ke.deps?(t.prevDep=Ke.depsTail,Ke.depsTail.nextDep=t,Ke.depsTail=t):Ke.deps=Ke.depsTail=t,dm(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=Ke.depsTail,t.nextDep=void 0,Ke.depsTail.nextDep=t,Ke.depsTail=t,Ke.deps===t&&(Ke.deps=r)}return t}trigger(e){this.version++,Zs++,this.notify(e)}notify(e){Ou();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Mu()}}}function dm(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)dm(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Dc=new WeakMap,ii=Symbol(""),kc=Symbol(""),eo=Symbol("");function Nt(n,e,t){if(En&&Ke){let r=Dc.get(n);r||Dc.set(n,r=new Map);let i=r.get(t);i||(r.set(t,i=new xu),i.map=r,i.key=t),i.track()}}function Gn(n,e,t,r,i,s){const o=Dc.get(n);if(!o){Zs++;return}const l=c=>{c&&c.trigger()};if(Ou(),e==="clear")o.forEach(l);else{const c=ve(n),u=c&&Du(t);if(c&&t==="length"){const f=Number(r);o.forEach((p,m)=>{(m==="length"||m===eo||!Fr(m)&&m>=f)&&l(p)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),u&&l(o.get(eo)),e){case"add":c?u&&l(o.get("length")):(l(o.get(ii)),ki(n)&&l(o.get(kc)));break;case"delete":c||(l(o.get(ii)),ki(n)&&l(o.get(kc)));break;case"set":ki(n)&&l(o.get(ii));break}}Mu()}function wi(n){const e=Ue(n);return e===n?e:(Nt(e,"iterate",eo),wn(n)?e:e.map(Kt))}function Vu(n){return Nt(n=Ue(n),"iterate",eo),n}const Fv={__proto__:null,[Symbol.iterator](){return Wl(this,Symbol.iterator,Kt)},concat(...n){return wi(this).concat(...n.map(e=>ve(e)?wi(e):e))},entries(){return Wl(this,"entries",n=>(n[1]=Kt(n[1]),n))},every(n,e){return qn(this,"every",n,e,void 0,arguments)},filter(n,e){return qn(this,"filter",n,e,t=>t.map(Kt),arguments)},find(n,e){return qn(this,"find",n,e,Kt,arguments)},findIndex(n,e){return qn(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return qn(this,"findLast",n,e,Kt,arguments)},findLastIndex(n,e){return qn(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return qn(this,"forEach",n,e,void 0,arguments)},includes(...n){return Gl(this,"includes",n)},indexOf(...n){return Gl(this,"indexOf",n)},join(n){return wi(this).join(n)},lastIndexOf(...n){return Gl(this,"lastIndexOf",n)},map(n,e){return qn(this,"map",n,e,void 0,arguments)},pop(){return Ts(this,"pop")},push(...n){return Ts(this,"push",n)},reduce(n,...e){return pf(this,"reduce",n,e)},reduceRight(n,...e){return pf(this,"reduceRight",n,e)},shift(){return Ts(this,"shift")},some(n,e){return qn(this,"some",n,e,void 0,arguments)},splice(...n){return Ts(this,"splice",n)},toReversed(){return wi(this).toReversed()},toSorted(n){return wi(this).toSorted(n)},toSpliced(...n){return wi(this).toSpliced(...n)},unshift(...n){return Ts(this,"unshift",n)},values(){return Wl(this,"values",Kt)}};function Wl(n,e,t){const r=Vu(n),i=r[e]();return r!==n&&!wn(n)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=t(s.value)),s}),i}const Uv=Array.prototype;function qn(n,e,t,r,i,s){const o=Vu(n),l=o!==n&&!wn(n),c=o[e];if(c!==Uv[e]){const p=c.apply(n,s);return l?Kt(p):p}let u=t;o!==n&&(l?u=function(p,m){return t.call(this,Kt(p),m,n)}:t.length>2&&(u=function(p,m){return t.call(this,p,m,n)}));const f=c.call(o,u,r);return l&&i?i(f):f}function pf(n,e,t,r){const i=Vu(n);let s=t;return i!==n&&(wn(n)?t.length>3&&(s=function(o,l,c){return t.call(this,o,l,c,n)}):s=function(o,l,c){return t.call(this,o,Kt(l),c,n)}),i[e](s,...r)}function Gl(n,e,t){const r=Ue(n);Nt(r,"iterate",eo);const i=r[e](...t);return(i===-1||i===!1)&&Uu(t[0])?(t[0]=Ue(t[0]),r[e](...t)):i}function Ts(n,e,t=[]){Xn(),Ou();const r=Ue(n)[e].apply(n,t);return Mu(),Zn(),r}const Bv=Su("__proto__,__v_isRef,__isVue"),pm=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Fr));function jv(n){Fr(n)||(n=String(n));const e=Ue(this);return Nt(e,"has",n),e.hasOwnProperty(n)}class mm{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return s;if(t==="__v_raw")return r===(i?s?Jv:vm:s?_m:ym).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ve(e);if(!i){let c;if(o&&(c=Fv[t]))return c;if(t==="hasOwnProperty")return jv}const l=Reflect.get(e,t,Ut(e)?e:r);return(Fr(t)?pm.has(t):Bv(t))||(i||Nt(e,"get",t),s)?l:Ut(l)?o&&Du(t)?l:l.value:Je(l)?i?wm(l):nl(l):l}}class gm extends mm{constructor(e=!1){super(!1,e)}set(e,t,r,i){let s=e[t];if(!this._isShallow){const c=li(s);if(!wn(r)&&!li(r)&&(s=Ue(s),r=Ue(r)),!ve(e)&&Ut(s)&&!Ut(r))return c?!1:(s.value=r,!0)}const o=ve(e)&&Du(t)?Number(t)<e.length:He(e,t),l=Reflect.set(e,t,r,Ut(e)?e:i);return e===Ue(i)&&(o?Tr(r,s)&&Gn(e,"set",t,r):Gn(e,"add",t,r)),l}deleteProperty(e,t){const r=He(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&Gn(e,"delete",t,void 0),i}has(e,t){const r=Reflect.has(e,t);return(!Fr(t)||!pm.has(t))&&Nt(e,"has",t),r}ownKeys(e){return Nt(e,"iterate",ve(e)?"length":ii),Reflect.ownKeys(e)}}class Hv extends mm{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const $v=new gm,qv=new Hv,zv=new gm(!0);const Oc=n=>n,Yo=n=>Reflect.getPrototypeOf(n);function Kv(n,e,t){return function(...r){const i=this.__v_raw,s=Ue(i),o=ki(s),l=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,u=i[n](...r),f=t?Oc:e?Mc:Kt;return!e&&Nt(s,"iterate",c?kc:ii),{next(){const{value:p,done:m}=u.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function Qo(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Wv(n,e){const t={get(i){const s=this.__v_raw,o=Ue(s),l=Ue(i);n||(Tr(i,l)&&Nt(o,"get",i),Nt(o,"get",l));const{has:c}=Yo(o),u=e?Oc:n?Mc:Kt;if(c.call(o,i))return u(s.get(i));if(c.call(o,l))return u(s.get(l));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!n&&Nt(Ue(i),"iterate",ii),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Ue(s),l=Ue(i);return n||(Tr(i,l)&&Nt(o,"has",i),Nt(o,"has",l)),i===l?s.has(i):s.has(i)||s.has(l)},forEach(i,s){const o=this,l=o.__v_raw,c=Ue(l),u=e?Oc:n?Mc:Kt;return!n&&Nt(c,"iterate",ii),l.forEach((f,p)=>i.call(s,u(f),u(p),o))}};return _t(t,n?{add:Qo("add"),set:Qo("set"),delete:Qo("delete"),clear:Qo("clear")}:{add(i){!e&&!wn(i)&&!li(i)&&(i=Ue(i));const s=Ue(this);return Yo(s).has.call(s,i)||(s.add(i),Gn(s,"add",i,i)),this},set(i,s){!e&&!wn(s)&&!li(s)&&(s=Ue(s));const o=Ue(this),{has:l,get:c}=Yo(o);let u=l.call(o,i);u||(i=Ue(i),u=l.call(o,i));const f=c.call(o,i);return o.set(i,s),u?Tr(s,f)&&Gn(o,"set",i,s):Gn(o,"add",i,s),this},delete(i){const s=Ue(this),{has:o,get:l}=Yo(s);let c=o.call(s,i);c||(i=Ue(i),c=o.call(s,i)),l&&l.call(s,i);const u=s.delete(i);return c&&Gn(s,"delete",i,void 0),u},clear(){const i=Ue(this),s=i.size!==0,o=i.clear();return s&&Gn(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Kv(i,n,e)}),t}function Lu(n,e){const t=Wv(n,e);return(r,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(He(t,i)&&i in r?t:r,i,s)}const Gv={get:Lu(!1,!1)},Yv={get:Lu(!1,!0)},Qv={get:Lu(!0,!1)};const ym=new WeakMap,_m=new WeakMap,vm=new WeakMap,Jv=new WeakMap;function Xv(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zv(n){return n.__v_skip||!Object.isExtensible(n)?0:Xv(bv(n))}function nl(n){return li(n)?n:Fu(n,!1,$v,Gv,ym)}function Em(n){return Fu(n,!1,zv,Yv,_m)}function wm(n){return Fu(n,!0,qv,Qv,vm)}function Fu(n,e,t,r,i){if(!Je(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=Zv(n);if(s===0)return n;const o=i.get(n);if(o)return o;const l=new Proxy(n,s===2?r:t);return i.set(n,l),l}function Us(n){return li(n)?Us(n.__v_raw):!!(n&&n.__v_isReactive)}function li(n){return!!(n&&n.__v_isReadonly)}function wn(n){return!!(n&&n.__v_isShallow)}function Uu(n){return n?!!n.__v_raw:!1}function Ue(n){const e=n&&n.__v_raw;return e?Ue(e):n}function eE(n){return!He(n,"__v_skip")&&Object.isExtensible(n)&&Sc(n,"__v_skip",!0),n}const Kt=n=>Je(n)?nl(n):n,Mc=n=>Je(n)?wm(n):n;function Ut(n){return n?n.__v_isRef===!0:!1}function at(n){return Tm(n,!1)}function tE(n){return Tm(n,!0)}function Tm(n,e){return Ut(n)?n:new nE(n,e)}class nE{constructor(e,t){this.dep=new xu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ue(e),this._value=t?e:Kt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||wn(e)||li(e);e=r?e:Ue(e),Tr(e,t)&&(this._rawValue=e,this._value=r?e:Kt(e),this.dep.trigger())}}function Oi(n){return Ut(n)?n.value:n}const rE={get:(n,e,t)=>e==="__v_raw"?n:Oi(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return Ut(i)&&!Ut(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function Im(n){return Us(n)?n:new Proxy(n,rE)}class iE{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new xu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return lm(this,!0),!0}get value(){const e=this.dep.track();return hm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sE(n,e,t=!1){let r,i;return be(n)?r=n:(r=n.get,i=n.set),new iE(r,i,t)}const Jo={},Aa=new WeakMap;let Jr;function oE(n,e=!1,t=Jr){if(t){let r=Aa.get(t);r||Aa.set(t,r=[]),r.push(n)}}function aE(n,e,t=ze){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:l,call:c}=t,u=x=>i?x:wn(x)||i===!1||i===0?Yn(x,1):Yn(x);let f,p,m,_,P=!1,A=!1;if(Ut(n)?(p=()=>n.value,P=wn(n)):Us(n)?(p=()=>u(n),P=!0):ve(n)?(A=!0,P=n.some(x=>Us(x)||wn(x)),p=()=>n.map(x=>{if(Ut(x))return x.value;if(Us(x))return u(x);if(be(x))return c?c(x,2):x()})):be(n)?e?p=c?()=>c(n,2):n:p=()=>{if(m){Xn();try{m()}finally{Zn()}}const x=Jr;Jr=f;try{return c?c(n,3,[_]):n(_)}finally{Jr=x}}:p=xn,e&&i){const x=p,J=i===!0?1/0:i;p=()=>Yn(x(),J)}const k=xv(),$=()=>{f.stop(),k&&k.active&&Pu(k.effects,f)};if(s&&e){const x=e;e=(...J)=>{x(...J),$()}}let B=A?new Array(n.length).fill(Jo):Jo;const U=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(e){const J=f.run();if(i||P||(A?J.some((oe,R)=>Tr(oe,B[R])):Tr(J,B))){m&&m();const oe=Jr;Jr=f;try{const R=[J,B===Jo?void 0:A&&B[0]===Jo?[]:B,_];B=J,c?c(e,3,R):e(...R)}finally{Jr=oe}}}else f.run()};return l&&l(U),f=new om(p),f.scheduler=o?()=>o(U,!1):U,_=x=>oE(x,!1,f),m=f.onStop=()=>{const x=Aa.get(f);if(x){if(c)c(x,4);else for(const J of x)J();Aa.delete(f)}},e?r?U(!0):B=f.run():o?o(U.bind(null,!0),!0):f.run(),$.pause=f.pause.bind(f),$.resume=f.resume.bind(f),$.stop=$,$}function Yn(n,e=1/0,t){if(e<=0||!Je(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Ut(n))Yn(n.value,e,t);else if(ve(n))for(let r=0;r<n.length;r++)Yn(n[r],e,t);else if(Zp(n)||ki(n))n.forEach(r=>{Yn(r,e,t)});else if(nm(n)){for(const r in n)Yn(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Yn(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _o(n,e,t,r){try{return r?n(...r):n()}catch(i){rl(i,e,t)}}function Tn(n,e,t,r){if(be(n)){const i=_o(n,e,t,r);return i&&em(i)&&i.catch(s=>{rl(s,e,t)}),i}if(ve(n)){const i=[];for(let s=0;s<n.length;s++)i.push(Tn(n[s],e,t,r));return i}}function rl(n,e,t,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ze;if(e){let l=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](n,c,u)===!1)return}l=l.parent}if(s){Xn(),_o(s,null,10,[n,c,u]),Zn();return}}lE(n,t,i,r,o)}function lE(n,e,t,r=!0,i=!1){if(i)throw n;console.error(n)}const Wt=[];let Dn=-1;const Mi=[];let fr=null,Ti=0;const bm=Promise.resolve();let Ca=null;function Am(n){const e=Ca||bm;return n?e.then(this?n.bind(this):n):e}function cE(n){let e=Dn+1,t=Wt.length;for(;e<t;){const r=e+t>>>1,i=Wt[r],s=to(i);s<n||s===n&&i.flags&2?e=r+1:t=r}return e}function Bu(n){if(!(n.flags&1)){const e=to(n),t=Wt[Wt.length-1];!t||!(n.flags&2)&&e>=to(t)?Wt.push(n):Wt.splice(cE(e),0,n),n.flags|=1,Cm()}}function Cm(){Ca||(Ca=bm.then(Rm))}function uE(n){ve(n)?Mi.push(...n):fr&&n.id===-1?fr.splice(Ti+1,0,n):n.flags&1||(Mi.push(n),n.flags|=1),Cm()}function mf(n,e,t=Dn+1){for(;t<Wt.length;t++){const r=Wt[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Wt.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Sm(n){if(Mi.length){const e=[...new Set(Mi)].sort((t,r)=>to(t)-to(r));if(Mi.length=0,fr){fr.push(...e);return}for(fr=e,Ti=0;Ti<fr.length;Ti++){const t=fr[Ti];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}fr=null,Ti=0}}const to=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Rm(n){try{for(Dn=0;Dn<Wt.length;Dn++){const e=Wt[Dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_o(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Dn<Wt.length;Dn++){const e=Wt[Dn];e&&(e.flags&=-2)}Dn=-1,Wt.length=0,Sm(),Ca=null,(Wt.length||Mi.length)&&Rm()}}let nn=null,Pm=null;function Sa(n){const e=nn;return nn=n,Pm=n&&n.type.__scopeId||null,e}function Ra(n,e=nn,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&Cf(-1);const s=Sa(e);let o;try{o=n(...i)}finally{Sa(s),r._d&&Cf(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Nc(n,e){if(nn===null)return n;const t=cl(nn),r=n.dirs||(n.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,l,c=ze]=e[i];s&&(be(s)&&(s={mounted:s,updated:s}),s.deep&&Yn(o),r.push({dir:s,instance:t,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function Wr(n,e,t,r){const i=n.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];s&&(l.oldValue=s[o].value);let c=l.dir[r];c&&(Xn(),Tn(c,t,8,[n.el,l,n,e]),Zn())}}const hE=Symbol("_vte"),Dm=n=>n.__isTeleport,dr=Symbol("_leaveCb"),Xo=Symbol("_enterCb");function fE(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ol(()=>{n.isMounted=!0}),Um(()=>{n.isUnmounting=!0}),n}const dn=[Function,Array],km={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:dn,onEnter:dn,onAfterEnter:dn,onEnterCancelled:dn,onBeforeLeave:dn,onLeave:dn,onAfterLeave:dn,onLeaveCancelled:dn,onBeforeAppear:dn,onAppear:dn,onAfterAppear:dn,onAppearCancelled:dn},Om=n=>{const e=n.subTree;return e.component?Om(e.component):e},dE={name:"BaseTransition",props:km,setup(n,{slots:e}){const t=uw(),r=fE();return()=>{const i=e.default&&xm(e.default(),!0);if(!i||!i.length)return;const s=Mm(i),o=Ue(n),{mode:l}=o;if(r.isLeaving)return Yl(s);const c=gf(s);if(!c)return Yl(s);let u=xc(c,o,r,t,p=>u=p);c.type!==Gt&&no(c,u);let f=t.subTree&&gf(t.subTree);if(f&&f.type!==Gt&&!Zr(c,f)&&Om(t).type!==Gt){let p=xc(f,o,r,t);if(no(f,p),l==="out-in"&&c.type!==Gt)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete p.afterLeave,f=void 0},Yl(s);l==="in-out"&&c.type!==Gt?p.delayLeave=(m,_,P)=>{const A=Nm(r,f);A[String(f.key)]=f,m[dr]=()=>{_(),m[dr]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{P(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return s}}};function Mm(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==Gt){e=t;break}}return e}const pE=dE;function Nm(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function xc(n,e,t,r,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:_,onAfterLeave:P,onLeaveCancelled:A,onBeforeAppear:k,onAppear:$,onAfterAppear:B,onAppearCancelled:U}=e,x=String(n.key),J=Nm(t,n),oe=(E,S)=>{E&&Tn(E,r,9,S)},R=(E,S)=>{const D=S[1];oe(E,S),ve(E)?E.every(C=>C.length<=1)&&D():E.length<=1&&D()},w={mode:o,persisted:l,beforeEnter(E){let S=c;if(!t.isMounted)if(s)S=k||c;else return;E[dr]&&E[dr](!0);const D=J[x];D&&Zr(n,D)&&D.el[dr]&&D.el[dr](),oe(S,[E])},enter(E){let S=u,D=f,C=p;if(!t.isMounted)if(s)S=$||u,D=B||f,C=U||p;else return;let T=!1;const Be=E[Xo]=et=>{T||(T=!0,et?oe(C,[E]):oe(D,[E]),w.delayedLeave&&w.delayedLeave(),E[Xo]=void 0)};S?R(S,[E,Be]):Be()},leave(E,S){const D=String(n.key);if(E[Xo]&&E[Xo](!0),t.isUnmounting)return S();oe(m,[E]);let C=!1;const T=E[dr]=Be=>{C||(C=!0,S(),Be?oe(A,[E]):oe(P,[E]),E[dr]=void 0,J[D]===n&&delete J[D])};J[D]=n,_?R(_,[E,T]):T()},clone(E){const S=xc(E,e,t,r,i);return i&&i(S),S}};return w}function Yl(n){if(il(n))return n=Dr(n),n.children=null,n}function gf(n){if(!il(n))return Dm(n.type)&&n.children?Mm(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&be(t.default))return t.default()}}function no(n,e){n.shapeFlag&6&&n.component?(n.transition=e,no(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function xm(n,e=!1,t){let r=[],i=0;for(let s=0;s<n.length;s++){let o=n[s];const l=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===xt?(o.patchFlag&128&&i++,r=r.concat(xm(o.children,e,l))):(e||o.type!==Gt)&&r.push(l!=null?Dr(o,{key:l}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Vm(n,e){return be(n)?_t({name:n.name},e,{setup:n}):n}function Lm(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Bs(n,e,t,r,i=!1){if(ve(n)){n.forEach((P,A)=>Bs(P,e&&(ve(e)?e[A]:e),t,r,i));return}if(js(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Bs(n,e,t,r.component.subTree);return}const s=r.shapeFlag&4?cl(r.component):r.el,o=i?null:s,{i:l,r:c}=n,u=e&&e.r,f=l.refs===ze?l.refs={}:l.refs,p=l.setupState,m=Ue(p),_=p===ze?()=>!1:P=>He(m,P);if(u!=null&&u!==c&&(ht(u)?(f[u]=null,_(u)&&(p[u]=null)):Ut(u)&&(u.value=null)),be(c))_o(c,l,12,[o,f]);else{const P=ht(c),A=Ut(c);if(P||A){const k=()=>{if(n.f){const $=P?_(c)?p[c]:f[c]:c.value;i?ve($)&&Pu($,s):ve($)?$.includes(s)||$.push(s):P?(f[c]=[s],_(c)&&(p[c]=f[c])):(c.value=[s],n.k&&(f[n.k]=c.value))}else P?(f[c]=o,_(c)&&(p[c]=o)):A&&(c.value=o,n.k&&(f[n.k]=o))};o?(k.id=-1,un(k,t)):k()}}}tl().requestIdleCallback;tl().cancelIdleCallback;const js=n=>!!n.type.__asyncLoader,il=n=>n.type.__isKeepAlive;function mE(n,e){Fm(n,"a",e)}function gE(n,e){Fm(n,"da",e)}function Fm(n,e,t=Tt){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(sl(e,r,t),t){let i=t.parent;for(;i&&i.parent;)il(i.parent.vnode)&&yE(r,e,t,i),i=i.parent}}function yE(n,e,t,r){const i=sl(e,n,r,!0);Bm(()=>{Pu(r[e],i)},t)}function sl(n,e,t=Tt,r=!1){if(t){const i=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{Xn();const l=vo(t),c=Tn(e,t,n,o);return l(),Zn(),c});return r?i.unshift(s):i.push(s),s}}const ir=n=>(e,t=Tt)=>{(!io||n==="sp")&&sl(n,(...r)=>e(...r),t)},_E=ir("bm"),ol=ir("m"),vE=ir("bu"),EE=ir("u"),Um=ir("bum"),Bm=ir("um"),wE=ir("sp"),TE=ir("rtg"),IE=ir("rtc");function bE(n,e=Tt){sl("ec",n,e)}const AE="components";function CE(n,e){return RE(AE,n,!0,e)||n}const SE=Symbol.for("v-ndc");function RE(n,e,t=!0,r=!1){const i=nn||Tt;if(i){const s=i.type;{const l=mw(s,!1);if(l&&(l===e||l===mn(e)||l===el(mn(e))))return s}const o=yf(i[n]||s[n],e)||yf(i.appContext[n],e);return!o&&r?s:o}}function yf(n,e){return n&&(n[e]||n[mn(e)]||n[el(mn(e))])}const Vc=n=>n?ag(n)?cl(n):Vc(n.parent):null,Hs=_t(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Vc(n.parent),$root:n=>Vc(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Hm(n),$forceUpdate:n=>n.f||(n.f=()=>{Bu(n.update)}),$nextTick:n=>n.n||(n.n=Am.bind(n.proxy)),$watch:n=>YE.bind(n)}),Ql=(n,e)=>n!==ze&&!n.__isScriptSetup&&He(n,e),PE={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:i,props:s,accessCache:o,type:l,appContext:c}=n;let u;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return s[e]}else{if(Ql(r,e))return o[e]=1,r[e];if(i!==ze&&He(i,e))return o[e]=2,i[e];if((u=n.propsOptions[0])&&He(u,e))return o[e]=3,s[e];if(t!==ze&&He(t,e))return o[e]=4,t[e];Lc&&(o[e]=0)}}const f=Hs[e];let p,m;if(f)return e==="$attrs"&&Nt(n.attrs,"get",""),f(n);if((p=l.__cssModules)&&(p=p[e]))return p;if(t!==ze&&He(t,e))return o[e]=4,t[e];if(m=c.config.globalProperties,He(m,e))return m[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:s}=n;return Ql(i,e)?(i[e]=t,!0):r!==ze&&He(r,e)?(r[e]=t,!0):He(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:s}},o){let l;return!!t[o]||n!==ze&&He(n,o)||Ql(e,o)||(l=s[0])&&He(l,o)||He(r,o)||He(Hs,o)||He(i.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:He(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function _f(n){return ve(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Lc=!0;function DE(n){const e=Hm(n),t=n.proxy,r=n.ctx;Lc=!1,e.beforeCreate&&vf(e.beforeCreate,n,"bc");const{data:i,computed:s,methods:o,watch:l,provide:c,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:_,updated:P,activated:A,deactivated:k,beforeDestroy:$,beforeUnmount:B,destroyed:U,unmounted:x,render:J,renderTracked:oe,renderTriggered:R,errorCaptured:w,serverPrefetch:E,expose:S,inheritAttrs:D,components:C,directives:T,filters:Be}=e;if(u&&kE(u,r,null),o)for(const Pe in o){const Re=o[Pe];be(Re)&&(r[Pe]=Re.bind(t))}if(i){const Pe=i.call(t,t);Je(Pe)&&(n.data=nl(Pe))}if(Lc=!0,s)for(const Pe in s){const Re=s[Pe],bt=be(Re)?Re.bind(t,t):be(Re.get)?Re.get.bind(t,t):xn,on=!be(Re)&&be(Re.set)?Re.set.bind(t):xn,At=tn({get:bt,set:on});Object.defineProperty(r,Pe,{enumerable:!0,configurable:!0,get:()=>At.value,set:Ge=>At.value=Ge})}if(l)for(const Pe in l)jm(l[Pe],r,t,Pe);if(c){const Pe=be(c)?c.call(t):c;Reflect.ownKeys(Pe).forEach(Re=>{la(Re,Pe[Re])})}f&&vf(f,n,"c");function We(Pe,Re){ve(Re)?Re.forEach(bt=>Pe(bt.bind(t))):Re&&Pe(Re.bind(t))}if(We(_E,p),We(ol,m),We(vE,_),We(EE,P),We(mE,A),We(gE,k),We(bE,w),We(IE,oe),We(TE,R),We(Um,B),We(Bm,x),We(wE,E),ve(S))if(S.length){const Pe=n.exposed||(n.exposed={});S.forEach(Re=>{Object.defineProperty(Pe,Re,{get:()=>t[Re],set:bt=>t[Re]=bt})})}else n.exposed||(n.exposed={});J&&n.render===xn&&(n.render=J),D!=null&&(n.inheritAttrs=D),C&&(n.components=C),T&&(n.directives=T),E&&Lm(n)}function kE(n,e,t=xn){ve(n)&&(n=Fc(n));for(const r in n){const i=n[r];let s;Je(i)?"default"in i?s=Vn(i.from||r,i.default,!0):s=Vn(i.from||r):s=Vn(i),Ut(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function vf(n,e,t){Tn(ve(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function jm(n,e,t,r){let i=r.includes(".")?tg(t,r):()=>t[r];if(ht(n)){const s=e[n];be(s)&&ca(i,s)}else if(be(n))ca(i,n.bind(t));else if(Je(n))if(ve(n))n.forEach(s=>jm(s,e,t,r));else{const s=be(n.handler)?n.handler.bind(t):e[n.handler];be(s)&&ca(i,s,n)}}function Hm(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,l=s.get(e);let c;return l?c=l:!i.length&&!t&&!r?c=e:(c={},i.length&&i.forEach(u=>Pa(c,u,o,!0)),Pa(c,e,o)),Je(e)&&s.set(e,c),c}function Pa(n,e,t,r=!1){const{mixins:i,extends:s}=e;s&&Pa(n,s,t,!0),i&&i.forEach(o=>Pa(n,o,t,!0));for(const o in e)if(!(r&&o==="expose")){const l=OE[o]||t&&t[o];n[o]=l?l(n[o],e[o]):e[o]}return n}const OE={data:Ef,props:wf,emits:wf,methods:ks,computed:ks,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:ks,directives:ks,watch:NE,provide:Ef,inject:ME};function Ef(n,e){return e?n?function(){return _t(be(n)?n.call(this,this):n,be(e)?e.call(this,this):e)}:e:n}function ME(n,e){return ks(Fc(n),Fc(e))}function Fc(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function qt(n,e){return n?[...new Set([].concat(n,e))]:e}function ks(n,e){return n?_t(Object.create(null),n,e):e}function wf(n,e){return n?ve(n)&&ve(e)?[...new Set([...n,...e])]:_t(Object.create(null),_f(n),_f(e??{})):e}function NE(n,e){if(!n)return e;if(!e)return n;const t=_t(Object.create(null),n);for(const r in e)t[r]=qt(n[r],e[r]);return t}function $m(){return{app:null,config:{isNativeTag:Tv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xE=0;function VE(n,e){return function(r,i=null){be(r)||(r=_t({},r)),i!=null&&!Je(i)&&(i=null);const s=$m(),o=new WeakSet,l=[];let c=!1;const u=s.app={_uid:xE++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:yw,get config(){return s.config},set config(f){},use(f,...p){return o.has(f)||(f&&be(f.install)?(o.add(f),f.install(u,...p)):be(f)&&(o.add(f),f(u,...p))),u},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),u},component(f,p){return p?(s.components[f]=p,u):s.components[f]},directive(f,p){return p?(s.directives[f]=p,u):s.directives[f]},mount(f,p,m){if(!c){const _=u._ceVNode||Ft(r,i);return _.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),n(_,f,m),c=!0,u._container=f,f.__vue_app__=u,cl(_.component)}},onUnmount(f){l.push(f)},unmount(){c&&(Tn(l,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(f,p){return s.provides[f]=p,u},runWithContext(f){const p=Ni;Ni=u;try{return f()}finally{Ni=p}}};return u}}let Ni=null;function la(n,e){if(Tt){let t=Tt.provides;const r=Tt.parent&&Tt.parent.provides;r===t&&(t=Tt.provides=Object.create(r)),t[n]=e}}function Vn(n,e,t=!1){const r=Tt||nn;if(r||Ni){let i=Ni?Ni._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return t&&be(e)?e.call(r&&r.proxy):e}}const qm={},zm=()=>Object.create(qm),Km=n=>Object.getPrototypeOf(n)===qm;function LE(n,e,t,r=!1){const i={},s=zm();n.propsDefaults=Object.create(null),Wm(n,e,i,s);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);t?n.props=r?i:Em(i):n.type.props?n.props=i:n.props=s,n.attrs=s}function FE(n,e,t,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=n,l=Ue(i),[c]=n.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=n.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(al(n.emitsOptions,m))continue;const _=e[m];if(c)if(He(s,m))_!==s[m]&&(s[m]=_,u=!0);else{const P=mn(m);i[P]=Uc(c,l,P,_,n,!1)}else _!==s[m]&&(s[m]=_,u=!0)}}}else{Wm(n,e,i,s)&&(u=!0);let f;for(const p in l)(!e||!He(e,p)&&((f=pi(p))===p||!He(e,f)))&&(c?t&&(t[p]!==void 0||t[f]!==void 0)&&(i[p]=Uc(c,l,p,void 0,n,!0)):delete i[p]);if(s!==l)for(const p in s)(!e||!He(e,p))&&(delete s[p],u=!0)}u&&Gn(n.attrs,"set","")}function Wm(n,e,t,r){const[i,s]=n.propsOptions;let o=!1,l;if(e)for(let c in e){if(Vs(c))continue;const u=e[c];let f;i&&He(i,f=mn(c))?!s||!s.includes(f)?t[f]=u:(l||(l={}))[f]=u:al(n.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=Ue(t),u=l||ze;for(let f=0;f<s.length;f++){const p=s[f];t[p]=Uc(i,c,p,u[p],n,!He(u,p))}}return o}function Uc(n,e,t,r,i,s){const o=n[t];if(o!=null){const l=He(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&be(c)){const{propsDefaults:u}=i;if(t in u)r=u[t];else{const f=vo(i);r=u[t]=c.call(null,e),f()}}else r=c;i.ce&&i.ce._setProp(t,r)}o[0]&&(s&&!l?r=!1:o[1]&&(r===""||r===pi(t))&&(r=!0))}return r}const UE=new WeakMap;function Gm(n,e,t=!1){const r=t?UE:e.propsCache,i=r.get(n);if(i)return i;const s=n.props,o={},l=[];let c=!1;if(!be(n)){const f=p=>{c=!0;const[m,_]=Gm(p,e,!0);_t(o,m),_&&l.push(..._)};!t&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!s&&!c)return Je(n)&&r.set(n,Di),Di;if(ve(s))for(let f=0;f<s.length;f++){const p=mn(s[f]);Tf(p)&&(o[p]=ze)}else if(s)for(const f in s){const p=mn(f);if(Tf(p)){const m=s[f],_=o[p]=ve(m)||be(m)?{type:m}:_t({},m),P=_.type;let A=!1,k=!0;if(ve(P))for(let $=0;$<P.length;++$){const B=P[$],U=be(B)&&B.name;if(U==="Boolean"){A=!0;break}else U==="String"&&(k=!1)}else A=be(P)&&P.name==="Boolean";_[0]=A,_[1]=k,(A||He(_,"default"))&&l.push(p)}}const u=[o,l];return Je(n)&&r.set(n,u),u}function Tf(n){return n[0]!=="$"&&!Vs(n)}const ju=n=>n[0]==="_"||n==="$stable",Hu=n=>ve(n)?n.map(On):[On(n)],BE=(n,e,t)=>{if(e._n)return e;const r=Ra((...i)=>Hu(e(...i)),t);return r._c=!1,r},Ym=(n,e,t)=>{const r=n._ctx;for(const i in n){if(ju(i))continue;const s=n[i];if(be(s))e[i]=BE(i,s,r);else if(s!=null){const o=Hu(s);e[i]=()=>o}}},Qm=(n,e)=>{const t=Hu(e);n.slots.default=()=>t},Jm=(n,e,t)=>{for(const r in e)(t||!ju(r))&&(n[r]=e[r])},jE=(n,e,t)=>{const r=n.slots=zm();if(n.vnode.shapeFlag&32){const i=e.__;i&&Sc(r,"__",i,!0);const s=e._;s?(Jm(r,e,t),t&&Sc(r,"_",s,!0)):Ym(e,r)}else e&&Qm(n,e)},HE=(n,e,t)=>{const{vnode:r,slots:i}=n;let s=!0,o=ze;if(r.shapeFlag&32){const l=e._;l?t&&l===1?s=!1:Jm(i,e,t):(s=!e.$stable,Ym(e,i)),o=e}else e&&(Qm(n,e),o={default:1});if(s)for(const l in i)!ju(l)&&o[l]==null&&delete i[l]},un=nw;function $E(n){return qE(n)}function qE(n,e){const t=tl();t.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:l,createComment:c,setText:u,setElementText:f,parentNode:p,nextSibling:m,setScopeId:_=xn,insertStaticContent:P}=n,A=(I,b,M,H=null,z=null,q=null,ne=void 0,Y=null,Q=!!b.dynamicChildren)=>{if(I===b)return;I&&!Zr(I,b)&&(H=j(I),Ge(I,z,q,!0),I=null),b.patchFlag===-2&&(Q=!1,b.dynamicChildren=null);const{type:W,ref:fe,shapeFlag:ee}=b;switch(W){case ll:k(I,b,M,H);break;case Gt:$(I,b,M,H);break;case Xl:I==null&&B(b,M,H,ne);break;case xt:C(I,b,M,H,z,q,ne,Y,Q);break;default:ee&1?J(I,b,M,H,z,q,ne,Y,Q):ee&6?T(I,b,M,H,z,q,ne,Y,Q):(ee&64||ee&128)&&W.process(I,b,M,H,z,q,ne,Y,Q,ce)}fe!=null&&z?Bs(fe,I&&I.ref,q,b||I,!b):fe==null&&I&&I.ref!=null&&Bs(I.ref,null,q,I,!0)},k=(I,b,M,H)=>{if(I==null)r(b.el=l(b.children),M,H);else{const z=b.el=I.el;b.children!==I.children&&u(z,b.children)}},$=(I,b,M,H)=>{I==null?r(b.el=c(b.children||""),M,H):b.el=I.el},B=(I,b,M,H)=>{[I.el,I.anchor]=P(I.children,b,M,H,I.el,I.anchor)},U=({el:I,anchor:b},M,H)=>{let z;for(;I&&I!==b;)z=m(I),r(I,M,H),I=z;r(b,M,H)},x=({el:I,anchor:b})=>{let M;for(;I&&I!==b;)M=m(I),i(I),I=M;i(b)},J=(I,b,M,H,z,q,ne,Y,Q)=>{b.type==="svg"?ne="svg":b.type==="math"&&(ne="mathml"),I==null?oe(b,M,H,z,q,ne,Y,Q):E(I,b,z,q,ne,Y,Q)},oe=(I,b,M,H,z,q,ne,Y)=>{let Q,W;const{props:fe,shapeFlag:ee,transition:he,dirs:me}=I;if(Q=I.el=o(I.type,q,fe&&fe.is,fe),ee&8?f(Q,I.children):ee&16&&w(I.children,Q,null,H,z,Jl(I,q),ne,Y),me&&Wr(I,null,H,"created"),R(Q,I,I.scopeId,ne,H),fe){for(const we in fe)we!=="value"&&!Vs(we)&&s(Q,we,null,fe[we],q,H);"value"in fe&&s(Q,"value",null,fe.value,q),(W=fe.onVnodeBeforeMount)&&Rn(W,H,I)}me&&Wr(I,null,H,"beforeMount");const ge=zE(z,he);ge&&he.beforeEnter(Q),r(Q,b,M),((W=fe&&fe.onVnodeMounted)||ge||me)&&un(()=>{W&&Rn(W,H,I),ge&&he.enter(Q),me&&Wr(I,null,H,"mounted")},z)},R=(I,b,M,H,z)=>{if(M&&_(I,M),H)for(let q=0;q<H.length;q++)_(I,H[q]);if(z){let q=z.subTree;if(b===q||rg(q.type)&&(q.ssContent===b||q.ssFallback===b)){const ne=z.vnode;R(I,ne,ne.scopeId,ne.slotScopeIds,z.parent)}}},w=(I,b,M,H,z,q,ne,Y,Q=0)=>{for(let W=Q;W<I.length;W++){const fe=I[W]=Y?pr(I[W]):On(I[W]);A(null,fe,b,M,H,z,q,ne,Y)}},E=(I,b,M,H,z,q,ne)=>{const Y=b.el=I.el;let{patchFlag:Q,dynamicChildren:W,dirs:fe}=b;Q|=I.patchFlag&16;const ee=I.props||ze,he=b.props||ze;let me;if(M&&Gr(M,!1),(me=he.onVnodeBeforeUpdate)&&Rn(me,M,b,I),fe&&Wr(b,I,M,"beforeUpdate"),M&&Gr(M,!0),(ee.innerHTML&&he.innerHTML==null||ee.textContent&&he.textContent==null)&&f(Y,""),W?S(I.dynamicChildren,W,Y,M,H,Jl(b,z),q):ne||Re(I,b,Y,null,M,H,Jl(b,z),q,!1),Q>0){if(Q&16)D(Y,ee,he,M,z);else if(Q&2&&ee.class!==he.class&&s(Y,"class",null,he.class,z),Q&4&&s(Y,"style",ee.style,he.style,z),Q&8){const ge=b.dynamicProps;for(let we=0;we<ge.length;we++){const De=ge[we],st=ee[De],ft=he[De];(ft!==st||De==="value")&&s(Y,De,st,ft,z,M)}}Q&1&&I.children!==b.children&&f(Y,b.children)}else!ne&&W==null&&D(Y,ee,he,M,z);((me=he.onVnodeUpdated)||fe)&&un(()=>{me&&Rn(me,M,b,I),fe&&Wr(b,I,M,"updated")},H)},S=(I,b,M,H,z,q,ne)=>{for(let Y=0;Y<b.length;Y++){const Q=I[Y],W=b[Y],fe=Q.el&&(Q.type===xt||!Zr(Q,W)||Q.shapeFlag&198)?p(Q.el):M;A(Q,W,fe,null,H,z,q,ne,!0)}},D=(I,b,M,H,z)=>{if(b!==M){if(b!==ze)for(const q in b)!Vs(q)&&!(q in M)&&s(I,q,b[q],null,z,H);for(const q in M){if(Vs(q))continue;const ne=M[q],Y=b[q];ne!==Y&&q!=="value"&&s(I,q,Y,ne,z,H)}"value"in M&&s(I,"value",b.value,M.value,z)}},C=(I,b,M,H,z,q,ne,Y,Q)=>{const W=b.el=I?I.el:l(""),fe=b.anchor=I?I.anchor:l("");let{patchFlag:ee,dynamicChildren:he,slotScopeIds:me}=b;me&&(Y=Y?Y.concat(me):me),I==null?(r(W,M,H),r(fe,M,H),w(b.children||[],M,fe,z,q,ne,Y,Q)):ee>0&&ee&64&&he&&I.dynamicChildren?(S(I.dynamicChildren,he,M,z,q,ne,Y),(b.key!=null||z&&b===z.subTree)&&Xm(I,b,!0)):Re(I,b,M,fe,z,q,ne,Y,Q)},T=(I,b,M,H,z,q,ne,Y,Q)=>{b.slotScopeIds=Y,I==null?b.shapeFlag&512?z.ctx.activate(b,M,H,ne,Q):Be(b,M,H,z,q,ne,Q):et(I,b,Q)},Be=(I,b,M,H,z,q,ne)=>{const Y=I.component=cw(I,H,z);if(il(I)&&(Y.ctx.renderer=ce),hw(Y,!1,ne),Y.asyncDep){if(z&&z.registerDep(Y,We,ne),!I.el){const Q=Y.subTree=Ft(Gt);$(null,Q,b,M)}}else We(Y,I,b,M,z,q,ne)},et=(I,b,M)=>{const H=b.component=I.component;if(ew(I,b,M))if(H.asyncDep&&!H.asyncResolved){Pe(H,b,M);return}else H.next=b,H.update();else b.el=I.el,H.vnode=b},We=(I,b,M,H,z,q,ne)=>{const Y=()=>{if(I.isMounted){let{next:ee,bu:he,u:me,parent:ge,vnode:we}=I;{const dt=Zm(I);if(dt){ee&&(ee.el=we.el,Pe(I,ee,ne)),dt.asyncDep.then(()=>{I.isUnmounted||Y()});return}}let De=ee,st;Gr(I,!1),ee?(ee.el=we.el,Pe(I,ee,ne)):ee=we,he&&aa(he),(st=ee.props&&ee.props.onVnodeBeforeUpdate)&&Rn(st,ge,ee,we),Gr(I,!0);const ft=bf(I),Jt=I.subTree;I.subTree=ft,A(Jt,ft,p(Jt.el),j(Jt),I,z,q),ee.el=ft.el,De===null&&tw(I,ft.el),me&&un(me,z),(st=ee.props&&ee.props.onVnodeUpdated)&&un(()=>Rn(st,ge,ee,we),z)}else{let ee;const{el:he,props:me}=b,{bm:ge,m:we,parent:De,root:st,type:ft}=I,Jt=js(b);Gr(I,!1),ge&&aa(ge),!Jt&&(ee=me&&me.onVnodeBeforeMount)&&Rn(ee,De,b),Gr(I,!0);{st.ce&&st.ce._def.shadowRoot!==!1&&st.ce._injectChildStyle(ft);const dt=I.subTree=bf(I);A(null,dt,M,H,I,z,q),b.el=dt.el}if(we&&un(we,z),!Jt&&(ee=me&&me.onVnodeMounted)){const dt=b;un(()=>Rn(ee,De,dt),z)}(b.shapeFlag&256||De&&js(De.vnode)&&De.vnode.shapeFlag&256)&&I.a&&un(I.a,z),I.isMounted=!0,b=M=H=null}};I.scope.on();const Q=I.effect=new om(Y);I.scope.off();const W=I.update=Q.run.bind(Q),fe=I.job=Q.runIfDirty.bind(Q);fe.i=I,fe.id=I.uid,Q.scheduler=()=>Bu(fe),Gr(I,!0),W()},Pe=(I,b,M)=>{b.component=I;const H=I.vnode.props;I.vnode=b,I.next=null,FE(I,b.props,H,M),HE(I,b.children,M),Xn(),mf(I),Zn()},Re=(I,b,M,H,z,q,ne,Y,Q=!1)=>{const W=I&&I.children,fe=I?I.shapeFlag:0,ee=b.children,{patchFlag:he,shapeFlag:me}=b;if(he>0){if(he&128){on(W,ee,M,H,z,q,ne,Y,Q);return}else if(he&256){bt(W,ee,M,H,z,q,ne,Y,Q);return}}me&8?(fe&16&&gt(W,z,q),ee!==W&&f(M,ee)):fe&16?me&16?on(W,ee,M,H,z,q,ne,Y,Q):gt(W,z,q,!0):(fe&8&&f(M,""),me&16&&w(ee,M,H,z,q,ne,Y,Q))},bt=(I,b,M,H,z,q,ne,Y,Q)=>{I=I||Di,b=b||Di;const W=I.length,fe=b.length,ee=Math.min(W,fe);let he;for(he=0;he<ee;he++){const me=b[he]=Q?pr(b[he]):On(b[he]);A(I[he],me,M,null,z,q,ne,Y,Q)}W>fe?gt(I,z,q,!0,!1,ee):w(b,M,H,z,q,ne,Y,Q,ee)},on=(I,b,M,H,z,q,ne,Y,Q)=>{let W=0;const fe=b.length;let ee=I.length-1,he=fe-1;for(;W<=ee&&W<=he;){const me=I[W],ge=b[W]=Q?pr(b[W]):On(b[W]);if(Zr(me,ge))A(me,ge,M,null,z,q,ne,Y,Q);else break;W++}for(;W<=ee&&W<=he;){const me=I[ee],ge=b[he]=Q?pr(b[he]):On(b[he]);if(Zr(me,ge))A(me,ge,M,null,z,q,ne,Y,Q);else break;ee--,he--}if(W>ee){if(W<=he){const me=he+1,ge=me<fe?b[me].el:H;for(;W<=he;)A(null,b[W]=Q?pr(b[W]):On(b[W]),M,ge,z,q,ne,Y,Q),W++}}else if(W>he)for(;W<=ee;)Ge(I[W],z,q,!0),W++;else{const me=W,ge=W,we=new Map;for(W=ge;W<=he;W++){const Se=b[W]=Q?pr(b[W]):On(b[W]);Se.key!=null&&we.set(Se.key,W)}let De,st=0;const ft=he-ge+1;let Jt=!1,dt=0;const Cn=new Array(ft);for(W=0;W<ft;W++)Cn[W]=0;for(W=me;W<=ee;W++){const Se=I[W];if(st>=ft){Ge(Se,z,q,!0);continue}let St;if(Se.key!=null)St=we.get(Se.key);else for(De=ge;De<=he;De++)if(Cn[De-ge]===0&&Zr(Se,b[De])){St=De;break}St===void 0?Ge(Se,z,q,!0):(Cn[St-ge]=W+1,St>=dt?dt=St:Jt=!0,A(Se,b[St],M,null,z,q,ne,Y,Q),st++)}const Br=Jt?KE(Cn):Di;for(De=Br.length-1,W=ft-1;W>=0;W--){const Se=ge+W,St=b[Se],or=Se+1<fe?b[Se+1].el:H;Cn[W]===0?A(null,St,M,or,z,q,ne,Y,Q):Jt&&(De<0||W!==Br[De]?At(St,M,or,2):De--)}}},At=(I,b,M,H,z=null)=>{const{el:q,type:ne,transition:Y,children:Q,shapeFlag:W}=I;if(W&6){At(I.component.subTree,b,M,H);return}if(W&128){I.suspense.move(b,M,H);return}if(W&64){ne.move(I,b,M,ce);return}if(ne===xt){r(q,b,M);for(let ee=0;ee<Q.length;ee++)At(Q[ee],b,M,H);r(I.anchor,b,M);return}if(ne===Xl){U(I,b,M);return}if(H!==2&&W&1&&Y)if(H===0)Y.beforeEnter(q),r(q,b,M),un(()=>Y.enter(q),z);else{const{leave:ee,delayLeave:he,afterLeave:me}=Y,ge=()=>{I.ctx.isUnmounted?i(q):r(q,b,M)},we=()=>{ee(q,()=>{ge(),me&&me()})};he?he(q,ge,we):we()}else r(q,b,M)},Ge=(I,b,M,H=!1,z=!1)=>{const{type:q,props:ne,ref:Y,children:Q,dynamicChildren:W,shapeFlag:fe,patchFlag:ee,dirs:he,cacheIndex:me}=I;if(ee===-2&&(z=!1),Y!=null&&(Xn(),Bs(Y,null,M,I,!0),Zn()),me!=null&&(b.renderCache[me]=void 0),fe&256){b.ctx.deactivate(I);return}const ge=fe&1&&he,we=!js(I);let De;if(we&&(De=ne&&ne.onVnodeBeforeUnmount)&&Rn(De,b,I),fe&6)Ct(I.component,M,H);else{if(fe&128){I.suspense.unmount(M,H);return}ge&&Wr(I,null,b,"beforeUnmount"),fe&64?I.type.remove(I,b,M,ce,H):W&&!W.hasOnce&&(q!==xt||ee>0&&ee&64)?gt(W,b,M,!1,!0):(q===xt&&ee&384||!z&&fe&16)&&gt(Q,b,M),H&&Ye(I)}(we&&(De=ne&&ne.onVnodeUnmounted)||ge)&&un(()=>{De&&Rn(De,b,I),ge&&Wr(I,null,b,"unmounted")},M)},Ye=I=>{const{type:b,el:M,anchor:H,transition:z}=I;if(b===xt){An(M,H);return}if(b===Xl){x(I);return}const q=()=>{i(M),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(I.shapeFlag&1&&z&&!z.persisted){const{leave:ne,delayLeave:Y}=z,Q=()=>ne(M,q);Y?Y(I.el,q,Q):Q()}else q()},An=(I,b)=>{let M;for(;I!==b;)M=m(I),i(I),I=M;i(b)},Ct=(I,b,M)=>{const{bum:H,scope:z,job:q,subTree:ne,um:Y,m:Q,a:W,parent:fe,slots:{__:ee}}=I;If(Q),If(W),H&&aa(H),fe&&ve(ee)&&ee.forEach(he=>{fe.renderCache[he]=void 0}),z.stop(),q&&(q.flags|=8,Ge(ne,I,b,M)),Y&&un(Y,b),un(()=>{I.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},gt=(I,b,M,H=!1,z=!1,q=0)=>{for(let ne=q;ne<I.length;ne++)Ge(I[ne],b,M,H,z)},j=I=>{if(I.shapeFlag&6)return j(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const b=m(I.anchor||I.el),M=b&&b[hE];return M?m(M):b};let ie=!1;const te=(I,b,M)=>{I==null?b._vnode&&Ge(b._vnode,null,null,!0):A(b._vnode||null,I,b,null,null,null,M),b._vnode=I,ie||(ie=!0,mf(),Sm(),ie=!1)},ce={p:A,um:Ge,m:At,r:Ye,mt:Be,mc:w,pc:Re,pbc:S,n:j,o:n};return{render:te,hydrate:void 0,createApp:VE(te)}}function Jl({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Gr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function zE(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Xm(n,e,t=!1){const r=n.children,i=e.children;if(ve(r)&&ve(i))for(let s=0;s<r.length;s++){const o=r[s];let l=i[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[s]=pr(i[s]),l.el=o.el),!t&&l.patchFlag!==-2&&Xm(o,l)),l.type===ll&&(l.el=o.el),l.type===Gt&&!l.el&&(l.el=o.el)}}function KE(n){const e=n.slice(),t=[0];let r,i,s,o,l;const c=n.length;for(r=0;r<c;r++){const u=n[r];if(u!==0){if(i=t[t.length-1],n[i]<u){e[r]=i,t.push(r);continue}for(s=0,o=t.length-1;s<o;)l=s+o>>1,n[t[l]]<u?s=l+1:o=l;u<n[t[s]]&&(s>0&&(e[r]=t[s-1]),t[s]=r)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function Zm(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Zm(e)}function If(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const WE=Symbol.for("v-scx"),GE=()=>Vn(WE);function ca(n,e,t){return eg(n,e,t)}function eg(n,e,t=ze){const{immediate:r,deep:i,flush:s,once:o}=t,l=_t({},t),c=e&&r||!e&&s!=="post";let u;if(io){if(s==="sync"){const _=GE();u=_.__watcherHandles||(_.__watcherHandles=[])}else if(!c){const _=()=>{};return _.stop=xn,_.resume=xn,_.pause=xn,_}}const f=Tt;l.call=(_,P,A)=>Tn(_,f,P,A);let p=!1;s==="post"?l.scheduler=_=>{un(_,f&&f.suspense)}:s!=="sync"&&(p=!0,l.scheduler=(_,P)=>{P?_():Bu(_)}),l.augmentJob=_=>{e&&(_.flags|=4),p&&(_.flags|=2,f&&(_.id=f.uid,_.i=f))};const m=aE(n,e,l);return io&&(u?u.push(m):c&&m()),m}function YE(n,e,t){const r=this.proxy,i=ht(n)?n.includes(".")?tg(r,n):()=>r[n]:n.bind(r,r);let s;be(e)?s=e:(s=e.handler,t=e);const o=vo(this),l=eg(i,s.bind(r),t);return o(),l}function tg(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}const QE=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${mn(e)}Modifiers`]||n[`${pi(e)}Modifiers`];function JE(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ze;let i=t;const s=e.startsWith("update:"),o=s&&QE(r,e.slice(7));o&&(o.trim&&(i=t.map(f=>ht(f)?f.trim():f)),o.number&&(i=t.map(Rc)));let l,c=r[l=ql(e)]||r[l=ql(mn(e))];!c&&s&&(c=r[l=ql(pi(e))]),c&&Tn(c,n,6,i);const u=r[l+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,Tn(u,n,6,i)}}function ng(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const s=n.emits;let o={},l=!1;if(!be(n)){const c=u=>{const f=ng(u,e,!0);f&&(l=!0,_t(o,f))};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!s&&!l?(Je(n)&&r.set(n,null),null):(ve(s)?s.forEach(c=>o[c]=null):_t(o,s),Je(n)&&r.set(n,o),o)}function al(n,e){return!n||!Ja(e)?!1:(e=e.slice(2).replace(/Once$/,""),He(n,e[0].toLowerCase()+e.slice(1))||He(n,pi(e))||He(n,e))}function bf(n){const{type:e,vnode:t,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:f,props:p,data:m,setupState:_,ctx:P,inheritAttrs:A}=n,k=Sa(n);let $,B;try{if(t.shapeFlag&4){const x=i||r,J=x;$=On(u.call(J,x,f,p,_,m,P)),B=l}else{const x=e;$=On(x.length>1?x(p,{attrs:l,slots:o,emit:c}):x(p,null)),B=e.props?l:XE(l)}}catch(x){$s.length=0,rl(x,n,1),$=Ft(Gt)}let U=$;if(B&&A!==!1){const x=Object.keys(B),{shapeFlag:J}=U;x.length&&J&7&&(s&&x.some(Ru)&&(B=ZE(B,s)),U=Dr(U,B,!1,!0))}return t.dirs&&(U=Dr(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(t.dirs):t.dirs),t.transition&&no(U,t.transition),$=U,Sa(k),$}const XE=n=>{let e;for(const t in n)(t==="class"||t==="style"||Ja(t))&&((e||(e={}))[t]=n[t]);return e},ZE=(n,e)=>{const t={};for(const r in n)(!Ru(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function ew(n,e,t){const{props:r,children:i,component:s}=n,{props:o,children:l,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&c>=0){if(c&1024)return!0;if(c&16)return r?Af(r,o,u):!!o;if(c&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(o[m]!==r[m]&&!al(u,m))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Af(r,o,u):!0:!!o;return!1}function Af(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==n[s]&&!al(t,s))return!0}return!1}function tw({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const rg=n=>n.__isSuspense;function nw(n,e){e&&e.pendingBranch?ve(n)?e.effects.push(...n):e.effects.push(n):uE(n)}const xt=Symbol.for("v-fgt"),ll=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),Xl=Symbol.for("v-stc"),$s=[];let fn=null;function zt(n=!1){$s.push(fn=n?null:[])}function rw(){$s.pop(),fn=$s[$s.length-1]||null}let ro=1;function Cf(n,e=!1){ro+=n,n<0&&fn&&e&&(fn.hasOnce=!0)}function ig(n){return n.dynamicChildren=ro>0?fn||Di:null,rw(),ro>0&&fn&&fn.push(n),n}function hn(n,e,t,r,i,s){return ig(re(n,e,t,r,i,s,!0))}function sg(n,e,t,r,i){return ig(Ft(n,e,t,r,i,!0))}function Da(n){return n?n.__v_isVNode===!0:!1}function Zr(n,e){return n.type===e.type&&n.key===e.key}const og=({key:n})=>n??null,ua=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ht(n)||Ut(n)||be(n)?{i:nn,r:n,k:e,f:!!t}:n:null);function re(n,e=null,t=null,r=0,i=null,s=n===xt?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&og(e),ref:e&&ua(e),scopeId:Pm,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:nn};return l?(qu(c,t),s&128&&n.normalize(c)):t&&(c.shapeFlag|=ht(t)?8:16),ro>0&&!o&&fn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&fn.push(c),c}const Ft=iw;function iw(n,e=null,t=null,r=0,i=null,s=!1){if((!n||n===SE)&&(n=Gt),Da(n)){const l=Dr(n,e,!0);return t&&qu(l,t),ro>0&&!s&&fn&&(l.shapeFlag&6?fn[fn.indexOf(n)]=l:fn.push(l)),l.patchFlag=-2,l}if(gw(n)&&(n=n.__vccOpts),e){e=sw(e);let{class:l,style:c}=e;l&&!ht(l)&&(e.class=Mt(l)),Je(c)&&(Uu(c)&&!ve(c)&&(c=_t({},c)),e.style=ku(c))}const o=ht(n)?1:rg(n)?128:Dm(n)?64:Je(n)?4:be(n)?2:0;return re(n,e,t,r,i,o,s,!0)}function sw(n){return n?Uu(n)||Km(n)?_t({},n):n:null}function Dr(n,e,t=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:l,transition:c}=n,u=e?ow(i||{},e):i,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&og(u),ref:e&&e.ref?t&&s?ve(s)?s.concat(ua(e)):[s,ua(e)]:ua(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==xt?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Dr(n.ssContent),ssFallback:n.ssFallback&&Dr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&r&&no(f,c.clone(f)),f}function $u(n=" ",e=0){return Ft(ll,null,n,e)}function Bc(n="",e=!1){return e?(zt(),sg(Gt,null,n)):Ft(Gt,null,n)}function On(n){return n==null||typeof n=="boolean"?Ft(Gt):ve(n)?Ft(xt,null,n.slice()):Da(n)?pr(n):Ft(ll,null,String(n))}function pr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Dr(n)}function qu(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(ve(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),qu(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!Km(e)?e._ctx=nn:i===3&&nn&&(nn.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:nn},t=32):(e=String(e),r&64?(t=16,e=[$u(e)]):t=8);n.children=e,n.shapeFlag|=t}function ow(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Mt([e.class,r.class]));else if(i==="style")e.style=ku([e.style,r.style]);else if(Ja(i)){const s=e[i],o=r[i];o&&s!==o&&!(ve(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Rn(n,e,t,r=null){Tn(n,e,7,[t,r])}const aw=$m();let lw=0;function cw(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||aw,s={uid:lw++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Gm(r,i),emitsOptions:ng(r,i),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:r.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=JE.bind(null,s),n.ce&&n.ce(s),s}let Tt=null;const uw=()=>Tt||nn;let ka,jc;{const n=tl(),e=(t,r)=>{let i;return(i=n[t])||(i=n[t]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};ka=e("__VUE_INSTANCE_SETTERS__",t=>Tt=t),jc=e("__VUE_SSR_SETTERS__",t=>io=t)}const vo=n=>{const e=Tt;return ka(n),n.scope.on(),()=>{n.scope.off(),ka(e)}},Sf=()=>{Tt&&Tt.scope.off(),ka(null)};function ag(n){return n.vnode.shapeFlag&4}let io=!1;function hw(n,e=!1,t=!1){e&&jc(e);const{props:r,children:i}=n.vnode,s=ag(n);LE(n,r,s,e),jE(n,i,t||e);const o=s?fw(n,e):void 0;return e&&jc(!1),o}function fw(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,PE);const{setup:r}=t;if(r){Xn();const i=n.setupContext=r.length>1?pw(n):null,s=vo(n),o=_o(r,n,0,[n.props,i]),l=em(o);if(Zn(),s(),(l||n.sp)&&!js(n)&&Lm(n),l){if(o.then(Sf,Sf),e)return o.then(c=>{Rf(n,c)}).catch(c=>{rl(c,n,0)});n.asyncDep=o}else Rf(n,o)}else lg(n)}function Rf(n,e,t){be(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Je(e)&&(n.setupState=Im(e)),lg(n)}function lg(n,e,t){const r=n.type;n.render||(n.render=r.render||xn);{const i=vo(n);Xn();try{DE(n)}finally{Zn(),i()}}}const dw={get(n,e){return Nt(n,"get",""),n[e]}};function pw(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,dw),slots:n.slots,emit:n.emit,expose:e}}function cl(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Im(eE(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in Hs)return Hs[t](n)},has(e,t){return t in e||t in Hs}})):n.proxy}function mw(n,e=!0){return be(n)?n.displayName||n.name:n.name||e&&n.__name}function gw(n){return be(n)&&"__vccOpts"in n}const tn=(n,e)=>sE(n,e,io);function zu(n,e,t){const r=arguments.length;return r===2?Je(e)&&!ve(e)?Da(e)?Ft(n,null,[e]):Ft(n,e):Ft(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&Da(t)&&(t=[t]),Ft(n,e,t))}const yw="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Hc;const Pf=typeof window<"u"&&window.trustedTypes;if(Pf)try{Hc=Pf.createPolicy("vue",{createHTML:n=>n})}catch{}const cg=Hc?n=>Hc.createHTML(n):n=>n,_w="http://www.w3.org/2000/svg",vw="http://www.w3.org/1998/Math/MathML",Wn=typeof document<"u"?document:null,Df=Wn&&Wn.createElement("template"),Ew={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e==="svg"?Wn.createElementNS(_w,n):e==="mathml"?Wn.createElementNS(vw,n):t?Wn.createElement(n,{is:t}):Wn.createElement(n);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>Wn.createTextNode(n),createComment:n=>Wn.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Wn.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,s){const o=t?t.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===s||!(i=i.nextSibling)););else{Df.innerHTML=cg(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=Df.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},cr="transition",Is="animation",so=Symbol("_vtc"),ug={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ww=_t({},km,ug),Tw=n=>(n.displayName="Transition",n.props=ww,n),$c=Tw((n,{slots:e})=>zu(pE,Iw(n),e)),Yr=(n,e=[])=>{ve(n)?n.forEach(t=>t(...e)):n&&n(...e)},kf=n=>n?ve(n)?n.some(e=>e.length>1):n.length>1:!1;function Iw(n){const e={};for(const C in n)C in ug||(e[C]=n[C]);if(n.css===!1)return e;const{name:t="v",type:r,duration:i,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:c=s,appearActiveClass:u=o,appearToClass:f=l,leaveFromClass:p=`${t}-leave-from`,leaveActiveClass:m=`${t}-leave-active`,leaveToClass:_=`${t}-leave-to`}=n,P=bw(i),A=P&&P[0],k=P&&P[1],{onBeforeEnter:$,onEnter:B,onEnterCancelled:U,onLeave:x,onLeaveCancelled:J,onBeforeAppear:oe=$,onAppear:R=B,onAppearCancelled:w=U}=e,E=(C,T,Be,et)=>{C._enterCancelled=et,Qr(C,T?f:l),Qr(C,T?u:o),Be&&Be()},S=(C,T)=>{C._isLeaving=!1,Qr(C,p),Qr(C,_),Qr(C,m),T&&T()},D=C=>(T,Be)=>{const et=C?R:B,We=()=>E(T,C,Be);Yr(et,[T,We]),Of(()=>{Qr(T,C?c:s),zn(T,C?f:l),kf(et)||Mf(T,r,A,We)})};return _t(e,{onBeforeEnter(C){Yr($,[C]),zn(C,s),zn(C,o)},onBeforeAppear(C){Yr(oe,[C]),zn(C,c),zn(C,u)},onEnter:D(!1),onAppear:D(!0),onLeave(C,T){C._isLeaving=!0;const Be=()=>S(C,T);zn(C,p),C._enterCancelled?(zn(C,m),Vf()):(Vf(),zn(C,m)),Of(()=>{C._isLeaving&&(Qr(C,p),zn(C,_),kf(x)||Mf(C,r,k,Be))}),Yr(x,[C,Be])},onEnterCancelled(C){E(C,!1,void 0,!0),Yr(U,[C])},onAppearCancelled(C){E(C,!0,void 0,!0),Yr(w,[C])},onLeaveCancelled(C){S(C),Yr(J,[C])}})}function bw(n){if(n==null)return null;if(Je(n))return[Zl(n.enter),Zl(n.leave)];{const e=Zl(n);return[e,e]}}function Zl(n){return Sv(n)}function zn(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[so]||(n[so]=new Set)).add(e)}function Qr(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[so];t&&(t.delete(e),t.size||(n[so]=void 0))}function Of(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Aw=0;function Mf(n,e,t,r){const i=n._endId=++Aw,s=()=>{i===n._endId&&r()};if(t!=null)return setTimeout(s,t);const{type:o,timeout:l,propCount:c}=Cw(n,e);if(!o)return r();const u=o+"end";let f=0;const p=()=>{n.removeEventListener(u,m),s()},m=_=>{_.target===n&&++f>=c&&p()};setTimeout(()=>{f<c&&p()},l+1),n.addEventListener(u,m)}function Cw(n,e){const t=window.getComputedStyle(n),r=P=>(t[P]||"").split(", "),i=r(`${cr}Delay`),s=r(`${cr}Duration`),o=Nf(i,s),l=r(`${Is}Delay`),c=r(`${Is}Duration`),u=Nf(l,c);let f=null,p=0,m=0;e===cr?o>0&&(f=cr,p=o,m=s.length):e===Is?u>0&&(f=Is,p=u,m=c.length):(p=Math.max(o,u),f=p>0?o>u?cr:Is:null,m=f?f===cr?s.length:c.length:0);const _=f===cr&&/\b(transform|all)(,|$)/.test(r(`${cr}Property`).toString());return{type:f,timeout:p,propCount:m,hasTransform:_}}function Nf(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>xf(t)+xf(n[r])))}function xf(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Vf(){return document.body.offsetHeight}function Sw(n,e,t){const r=n[so];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const Oa=Symbol("_vod"),hg=Symbol("_vsh"),fg={beforeMount(n,{value:e},{transition:t}){n[Oa]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):bs(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),bs(n,!0),r.enter(n)):r.leave(n,()=>{bs(n,!1)}):bs(n,e))},beforeUnmount(n,{value:e}){bs(n,e)}};function bs(n,e){n.style.display=e?n[Oa]:"none",n[hg]=!e}const Rw=Symbol(""),Pw=/(^|;)\s*display\s*:/;function Dw(n,e,t){const r=n.style,i=ht(t);let s=!1;if(t&&!i){if(e)if(ht(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&ha(r,l,"")}else for(const o in e)t[o]==null&&ha(r,o,"");for(const o in t)o==="display"&&(s=!0),ha(r,o,t[o])}else if(i){if(e!==t){const o=r[Rw];o&&(t+=";"+o),r.cssText=t,s=Pw.test(t)}}else e&&n.removeAttribute("style");Oa in n&&(n[Oa]=s?r.display:"",n[hg]&&(r.display="none"))}const Lf=/\s*!important$/;function ha(n,e,t){if(ve(t))t.forEach(r=>ha(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=kw(n,e);Lf.test(t)?n.setProperty(pi(r),t.replace(Lf,""),"important"):n[r]=t}}const Ff=["Webkit","Moz","ms"],ec={};function kw(n,e){const t=ec[e];if(t)return t;let r=mn(e);if(r!=="filter"&&r in n)return ec[e]=r;r=el(r);for(let i=0;i<Ff.length;i++){const s=Ff[i]+r;if(s in n)return ec[e]=s}return e}const Uf="http://www.w3.org/1999/xlink";function Bf(n,e,t,r,i,s=Mv(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Uf,e.slice(6,e.length)):n.setAttributeNS(Uf,e,t):t==null||s&&!rm(t)?n.removeAttribute(e):n.setAttribute(e,s?"":Fr(t)?String(t):t)}function jf(n,e,t,r,i){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?cg(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const l=s==="OPTION"?n.getAttribute("value")||"":n.value,c=t==null?n.type==="checkbox"?"on":"":String(t);(l!==c||!("_value"in n))&&(n.value=c),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=rm(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(i||e)}function Ii(n,e,t,r){n.addEventListener(e,t,r)}function Ow(n,e,t,r){n.removeEventListener(e,t,r)}const Hf=Symbol("_vei");function Mw(n,e,t,r,i=null){const s=n[Hf]||(n[Hf]={}),o=s[e];if(r&&o)o.value=r;else{const[l,c]=Nw(e);if(r){const u=s[e]=Lw(r,i);Ii(n,l,u,c)}else o&&(Ow(n,l,o,c),s[e]=void 0)}}const $f=/(?:Once|Passive|Capture)$/;function Nw(n){let e;if($f.test(n)){e={};let r;for(;r=n.match($f);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):pi(n.slice(2)),e]}let tc=0;const xw=Promise.resolve(),Vw=()=>tc||(xw.then(()=>tc=0),tc=Date.now());function Lw(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;Tn(Fw(r,t.value),e,5,[r])};return t.value=n,t.attached=Vw(),t}function Fw(n,e){if(ve(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const qf=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Uw=(n,e,t,r,i,s)=>{const o=i==="svg";e==="class"?Sw(n,r,o):e==="style"?Dw(n,t,r):Ja(e)?Ru(e)||Mw(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Bw(n,e,r,o))?(jf(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bf(n,e,r,o,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ht(r))?jf(n,mn(e),r,s,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),Bf(n,e,r,o))};function Bw(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&qf(e)&&be(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return qf(e)&&ht(t)?!1:e in n}const zf=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ve(e)?t=>aa(e,t):e};function jw(n){n.target.composing=!0}function Kf(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const nc=Symbol("_assign"),Hw={created(n,{modifiers:{lazy:e,trim:t,number:r}},i){n[nc]=zf(i);const s=r||i.props&&i.props.type==="number";Ii(n,e?"change":"input",o=>{if(o.target.composing)return;let l=n.value;t&&(l=l.trim()),s&&(l=Rc(l)),n[nc](l)}),t&&Ii(n,"change",()=>{n.value=n.value.trim()}),e||(Ii(n,"compositionstart",jw),Ii(n,"compositionend",Kf),Ii(n,"change",Kf))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:r,trim:i,number:s}},o){if(n[nc]=zf(o),n.composing)return;const l=(s||n.type==="number")&&!/^0\d/.test(n.value)?Rc(n.value):n.value,c=e??"";l!==c&&(document.activeElement===n&&n.type!=="range"&&(r&&e===t||i&&n.value.trim()===c)||(n.value=c))}},$w=_t({patchProp:Uw},Ew);let Wf;function qw(){return Wf||(Wf=$E($w))}const zw=(...n)=>{const e=qw().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=Ww(r);if(!i)return;const s=e._component;!be(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=t(i,!1,Kw(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Kw(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Ww(n){return ht(n)?document.querySelector(n):n}const Gw={__name:"App",setup(n){return(e,t)=>{const r=CE("router-view");return zt(),sg(r)}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const bi=typeof document<"u";function dg(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Yw(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&dg(n.default)}const je=Object.assign;function rc(n,e){const t={};for(const r in e){const i=e[r];t[r]=In(i)?i.map(n):n(i)}return t}const qs=()=>{},In=Array.isArray,pg=/#/g,Qw=/&/g,Jw=/\//g,Xw=/=/g,Zw=/\?/g,mg=/\+/g,eT=/%5B/g,tT=/%5D/g,gg=/%5E/g,nT=/%60/g,yg=/%7B/g,rT=/%7C/g,_g=/%7D/g,iT=/%20/g;function Ku(n){return encodeURI(""+n).replace(rT,"|").replace(eT,"[").replace(tT,"]")}function sT(n){return Ku(n).replace(yg,"{").replace(_g,"}").replace(gg,"^")}function qc(n){return Ku(n).replace(mg,"%2B").replace(iT,"+").replace(pg,"%23").replace(Qw,"%26").replace(nT,"`").replace(yg,"{").replace(_g,"}").replace(gg,"^")}function oT(n){return qc(n).replace(Xw,"%3D")}function aT(n){return Ku(n).replace(pg,"%23").replace(Zw,"%3F")}function lT(n){return n==null?"":aT(n).replace(Jw,"%2F")}function oo(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const cT=/\/$/,uT=n=>n.replace(cT,"");function ic(n,e,t="/"){let r,i={},s="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,l>-1?l:e.length),i=n(s)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=pT(r??e,t),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:oo(o)}}function hT(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Gf(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function fT(n,e,t){const r=e.matched.length-1,i=t.matched.length-1;return r>-1&&r===i&&zi(e.matched[r],t.matched[i])&&vg(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function zi(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function vg(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!dT(n[t],e[t]))return!1;return!0}function dT(n,e){return In(n)?Yf(n,e):In(e)?Yf(e,n):n===e}function Yf(n,e){return In(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function pT(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=t.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const ur={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ao;(function(n){n.pop="pop",n.push="push"})(ao||(ao={}));var zs;(function(n){n.back="back",n.forward="forward",n.unknown=""})(zs||(zs={}));function mT(n){if(!n)if(bi){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),uT(n)}const gT=/^[^#]+#/;function yT(n,e){return n.replace(gT,"#")+e}function _T(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const ul=()=>({left:window.scrollX,top:window.scrollY});function vT(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=_T(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Qf(n,e){return(history.state?history.state.position-e:-1)+n}const zc=new Map;function ET(n,e){zc.set(n,e)}function wT(n){const e=zc.get(n);return zc.delete(n),e}let TT=()=>location.protocol+"//"+location.host;function Eg(n,e){const{pathname:t,search:r,hash:i}=e,s=n.indexOf("#");if(s>-1){let l=i.includes(n.slice(s))?n.slice(s).length:1,c=i.slice(l);return c[0]!=="/"&&(c="/"+c),Gf(c,"")}return Gf(t,n)+r+i}function IT(n,e,t,r){let i=[],s=[],o=null;const l=({state:m})=>{const _=Eg(n,location),P=t.value,A=e.value;let k=0;if(m){if(t.value=_,e.value=m,o&&o===P){o=null;return}k=A?m.position-A.position:0}else r(_);i.forEach($=>{$(t.value,P,{delta:k,type:ao.pop,direction:k?k>0?zs.forward:zs.back:zs.unknown})})};function c(){o=t.value}function u(m){i.push(m);const _=()=>{const P=i.indexOf(m);P>-1&&i.splice(P,1)};return s.push(_),_}function f(){const{history:m}=window;m.state&&m.replaceState(je({},m.state,{scroll:ul()}),"")}function p(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:c,listen:u,destroy:p}}function Jf(n,e,t,r=!1,i=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:i?ul():null}}function bT(n){const{history:e,location:t}=window,r={value:Eg(n,t)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,f){const p=n.indexOf("#"),m=p>-1?(t.host&&document.querySelector("base")?n:n.slice(p))+c:TT()+n+c;try{e[f?"replaceState":"pushState"](u,"",m),i.value=u}catch(_){console.error(_),t[f?"replace":"assign"](m)}}function o(c,u){const f=je({},e.state,Jf(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,f,!0),r.value=c}function l(c,u){const f=je({},i.value,e.state,{forward:c,scroll:ul()});s(f.current,f,!0);const p=je({},Jf(r.value,c,null),{position:f.position+1},u);s(c,p,!1),r.value=c}return{location:r,state:i,push:l,replace:o}}function AT(n){n=mT(n);const e=bT(n),t=IT(n,e.state,e.location,e.replace);function r(s,o=!0){o||t.pauseListeners(),history.go(s)}const i=je({location:"",base:n,go:r,createHref:yT.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function CT(n){return typeof n=="string"||n&&typeof n=="object"}function wg(n){return typeof n=="string"||typeof n=="symbol"}const Tg=Symbol("");var Xf;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Xf||(Xf={}));function Ki(n,e){return je(new Error,{type:n,[Tg]:!0},e)}function Kn(n,e){return n instanceof Error&&Tg in n&&(e==null||!!(n.type&e))}const Zf="[^/]+?",ST={sensitive:!1,strict:!1,start:!0,end:!0},RT=/[.+*?^${}()[\]/\\]/g;function PT(n,e){const t=je({},ST,e),r=[];let i=t.start?"^":"";const s=[];for(const u of n){const f=u.length?[]:[90];t.strict&&!u.length&&(i+="/");for(let p=0;p<u.length;p++){const m=u[p];let _=40+(t.sensitive?.25:0);if(m.type===0)p||(i+="/"),i+=m.value.replace(RT,"\\$&"),_+=40;else if(m.type===1){const{value:P,repeatable:A,optional:k,regexp:$}=m;s.push({name:P,repeatable:A,optional:k});const B=$||Zf;if(B!==Zf){_+=10;try{new RegExp(`(${B})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${P}" (${B}): `+x.message)}}let U=A?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;p||(U=k&&u.length<2?`(?:/${U})`:"/"+U),k&&(U+="?"),i+=U,_+=20,k&&(_+=-8),A&&(_+=-20),B===".*"&&(_+=-50)}f.push(_)}r.push(f)}if(t.strict&&t.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,t.sensitive?"":"i");function l(u){const f=u.match(o),p={};if(!f)return null;for(let m=1;m<f.length;m++){const _=f[m]||"",P=s[m-1];p[P.name]=_&&P.repeatable?_.split("/"):_}return p}function c(u){let f="",p=!1;for(const m of n){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const _ of m)if(_.type===0)f+=_.value;else if(_.type===1){const{value:P,repeatable:A,optional:k}=_,$=P in u?u[P]:"";if(In($)&&!A)throw new Error(`Provided param "${P}" is an array but it is not repeatable (* or + modifiers)`);const B=In($)?$.join("/"):$;if(!B)if(k)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${P}"`);f+=B}}return f||"/"}return{re:o,score:r,keys:s,parse:l,stringify:c}}function DT(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Ig(n,e){let t=0;const r=n.score,i=e.score;for(;t<r.length&&t<i.length;){const s=DT(r[t],i[t]);if(s)return s;t++}if(Math.abs(i.length-r.length)===1){if(ed(r))return 1;if(ed(i))return-1}return i.length-r.length}function ed(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const kT={type:0,value:""},OT=/[a-zA-Z0-9_]/;function MT(n){if(!n)return[[]];if(n==="/")return[[kT]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(_){throw new Error(`ERR (${t})/"${u}": ${_}`)}let t=0,r=t;const i=[];let s;function o(){s&&i.push(s),s=[]}let l=0,c,u="",f="";function p(){u&&(t===0?s.push({type:0,value:u}):t===1||t===2||t===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:f,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=c}for(;l<n.length;){if(c=n[l++],c==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:c==="/"?(u&&p(),o()):c===":"?(p(),t=1):m();break;case 4:m(),t=r;break;case 1:c==="("?t=2:OT.test(c)?m():(p(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+c:t=3:f+=c;break;case 3:p(),t=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,f="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${u}"`),p(),o(),i}function NT(n,e,t){const r=PT(MT(n.path),t),i=je(r,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function xT(n,e){const t=[],r=new Map;e=id({strict:!1,end:!0,sensitive:!1},e);function i(p){return r.get(p)}function s(p,m,_){const P=!_,A=nd(p);A.aliasOf=_&&_.record;const k=id(e,p),$=[A];if("alias"in p){const x=typeof p.alias=="string"?[p.alias]:p.alias;for(const J of x)$.push(nd(je({},A,{components:_?_.record.components:A.components,path:J,aliasOf:_?_.record:A})))}let B,U;for(const x of $){const{path:J}=x;if(m&&J[0]!=="/"){const oe=m.record.path,R=oe[oe.length-1]==="/"?"":"/";x.path=m.record.path+(J&&R+J)}if(B=NT(x,m,k),_?_.alias.push(B):(U=U||B,U!==B&&U.alias.push(B),P&&p.name&&!rd(B)&&o(p.name)),bg(B)&&c(B),A.children){const oe=A.children;for(let R=0;R<oe.length;R++)s(oe[R],B,_&&_.children[R])}_=_||B}return U?()=>{o(U)}:qs}function o(p){if(wg(p)){const m=r.get(p);m&&(r.delete(p),t.splice(t.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=t.indexOf(p);m>-1&&(t.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function l(){return t}function c(p){const m=FT(p,t);t.splice(m,0,p),p.record.name&&!rd(p)&&r.set(p.record.name,p)}function u(p,m){let _,P={},A,k;if("name"in p&&p.name){if(_=r.get(p.name),!_)throw Ki(1,{location:p});k=_.record.name,P=je(td(m.params,_.keys.filter(U=>!U.optional).concat(_.parent?_.parent.keys.filter(U=>U.optional):[]).map(U=>U.name)),p.params&&td(p.params,_.keys.map(U=>U.name))),A=_.stringify(P)}else if(p.path!=null)A=p.path,_=t.find(U=>U.re.test(A)),_&&(P=_.parse(A),k=_.record.name);else{if(_=m.name?r.get(m.name):t.find(U=>U.re.test(m.path)),!_)throw Ki(1,{location:p,currentLocation:m});k=_.record.name,P=je({},m.params,p.params),A=_.stringify(P)}const $=[];let B=_;for(;B;)$.unshift(B.record),B=B.parent;return{name:k,path:A,params:P,matched:$,meta:LT($)}}n.forEach(p=>s(p));function f(){t.length=0,r.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:f,getRoutes:l,getRecordMatcher:i}}function td(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function nd(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:VT(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function VT(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function rd(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function LT(n){return n.reduce((e,t)=>je(e,t.meta),{})}function id(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function FT(n,e){let t=0,r=e.length;for(;t!==r;){const s=t+r>>1;Ig(n,e[s])<0?r=s:t=s+1}const i=UT(n);return i&&(r=e.lastIndexOf(i,r-1)),r}function UT(n){let e=n;for(;e=e.parent;)if(bg(e)&&Ig(n,e)===0)return e}function bg({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function BT(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(mg," "),o=s.indexOf("="),l=oo(o<0?s:s.slice(0,o)),c=o<0?null:oo(s.slice(o+1));if(l in e){let u=e[l];In(u)||(u=e[l]=[u]),u.push(c)}else e[l]=c}return e}function sd(n){let e="";for(let t in n){const r=n[t];if(t=oT(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(In(r)?r.map(s=>s&&qc(s)):[r&&qc(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function jT(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=In(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const HT=Symbol(""),od=Symbol(""),Wu=Symbol(""),Gu=Symbol(""),Kc=Symbol("");function As(){let n=[];function e(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function mr(n,e,t,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,c)=>{const u=m=>{m===!1?c(Ki(4,{from:t,to:e})):m instanceof Error?c(m):CT(m)?c(Ki(2,{from:e,to:m})):(o&&r.enterCallbacks[i]===o&&typeof m=="function"&&o.push(m),l())},f=s(()=>n.call(r&&r.instances[i],e,t,u));let p=Promise.resolve(f);n.length<3&&(p=p.then(u)),p.catch(m=>c(m))})}function sc(n,e,t,r,i=s=>s()){const s=[];for(const o of n)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(dg(c)){const f=(c.__vccOpts||c)[e];f&&s.push(mr(f,t,r,o,l,i))}else{let u=c();s.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const p=Yw(f)?f.default:f;o.mods[l]=f,o.components[l]=p;const _=(p.__vccOpts||p)[e];return _&&mr(_,t,r,o,l,i)()}))}}return s}function ad(n){const e=Vn(Wu),t=Vn(Gu),r=tn(()=>{const c=Oi(n.to);return e.resolve(c)}),i=tn(()=>{const{matched:c}=r.value,{length:u}=c,f=c[u-1],p=t.matched;if(!f||!p.length)return-1;const m=p.findIndex(zi.bind(null,f));if(m>-1)return m;const _=ld(c[u-2]);return u>1&&ld(f)===_&&p[p.length-1].path!==_?p.findIndex(zi.bind(null,c[u-2])):m}),s=tn(()=>i.value>-1&&WT(t.params,r.value.params)),o=tn(()=>i.value>-1&&i.value===t.matched.length-1&&vg(t.params,r.value.params));function l(c={}){if(KT(c)){const u=e[Oi(n.replace)?"replace":"push"](Oi(n.to)).catch(qs);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:tn(()=>r.value.href),isActive:s,isExactActive:o,navigate:l}}function $T(n){return n.length===1?n[0]:n}const qT=Vm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ad,setup(n,{slots:e}){const t=nl(ad(n)),{options:r}=Vn(Wu),i=tn(()=>({[cd(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[cd(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&$T(e.default(t));return n.custom?s:zu("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},s)}}}),zT=qT;function KT(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function WT(n,e){for(const t in e){const r=e[t],i=n[t];if(typeof r=="string"){if(r!==i)return!1}else if(!In(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function ld(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const cd=(n,e,t)=>n??e??t,GT=Vm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Vn(Kc),i=tn(()=>n.route||r.value),s=Vn(od,0),o=tn(()=>{let u=Oi(s);const{matched:f}=i.value;let p;for(;(p=f[u])&&!p.components;)u++;return u}),l=tn(()=>i.value.matched[o.value]);la(od,tn(()=>o.value+1)),la(HT,l),la(Kc,i);const c=at();return ca(()=>[c.value,l.value,n.name],([u,f,p],[m,_,P])=>{f&&(f.instances[p]=u,_&&_!==f&&u&&u===m&&(f.leaveGuards.size||(f.leaveGuards=_.leaveGuards),f.updateGuards.size||(f.updateGuards=_.updateGuards))),u&&f&&(!_||!zi(f,_)||!m)&&(f.enterCallbacks[p]||[]).forEach(A=>A(u))},{flush:"post"}),()=>{const u=i.value,f=n.name,p=l.value,m=p&&p.components[f];if(!m)return ud(t.default,{Component:m,route:u});const _=p.props[f],P=_?_===!0?u.params:typeof _=="function"?_(u):_:null,k=zu(m,je({},P,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(p.instances[f]=null)},ref:c}));return ud(t.default,{Component:k,route:u})||k}}});function ud(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const YT=GT;function QT(n){const e=xT(n.routes,n),t=n.parseQuery||BT,r=n.stringifyQuery||sd,i=n.history,s=As(),o=As(),l=As(),c=tE(ur);let u=ur;bi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=rc.bind(null,j=>""+j),p=rc.bind(null,lT),m=rc.bind(null,oo);function _(j,ie){let te,ce;return wg(j)?(te=e.getRecordMatcher(j),ce=ie):ce=j,e.addRoute(ce,te)}function P(j){const ie=e.getRecordMatcher(j);ie&&e.removeRoute(ie)}function A(){return e.getRoutes().map(j=>j.record)}function k(j){return!!e.getRecordMatcher(j)}function $(j,ie){if(ie=je({},ie||c.value),typeof j=="string"){const M=ic(t,j,ie.path),H=e.resolve({path:M.path},ie),z=i.createHref(M.fullPath);return je(M,H,{params:m(H.params),hash:oo(M.hash),redirectedFrom:void 0,href:z})}let te;if(j.path!=null)te=je({},j,{path:ic(t,j.path,ie.path).path});else{const M=je({},j.params);for(const H in M)M[H]==null&&delete M[H];te=je({},j,{params:p(M)}),ie.params=p(ie.params)}const ce=e.resolve(te,ie),Oe=j.hash||"";ce.params=f(m(ce.params));const I=hT(r,je({},j,{hash:sT(Oe),path:ce.path})),b=i.createHref(I);return je({fullPath:I,hash:Oe,query:r===sd?jT(j.query):j.query||{}},ce,{redirectedFrom:void 0,href:b})}function B(j){return typeof j=="string"?ic(t,j,c.value.path):je({},j)}function U(j,ie){if(u!==j)return Ki(8,{from:ie,to:j})}function x(j){return R(j)}function J(j){return x(je(B(j),{replace:!0}))}function oe(j){const ie=j.matched[j.matched.length-1];if(ie&&ie.redirect){const{redirect:te}=ie;let ce=typeof te=="function"?te(j):te;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=B(ce):{path:ce},ce.params={}),je({query:j.query,hash:j.hash,params:ce.path!=null?{}:j.params},ce)}}function R(j,ie){const te=u=$(j),ce=c.value,Oe=j.state,I=j.force,b=j.replace===!0,M=oe(te);if(M)return R(je(B(M),{state:typeof M=="object"?je({},Oe,M.state):Oe,force:I,replace:b}),ie||te);const H=te;H.redirectedFrom=ie;let z;return!I&&fT(r,ce,te)&&(z=Ki(16,{to:H,from:ce}),At(ce,ce,!0,!1)),(z?Promise.resolve(z):S(H,ce)).catch(q=>Kn(q)?Kn(q,2)?q:on(q):Re(q,H,ce)).then(q=>{if(q){if(Kn(q,2))return R(je({replace:b},B(q.to),{state:typeof q.to=="object"?je({},Oe,q.to.state):Oe,force:I}),ie||H)}else q=C(H,ce,!0,b,Oe);return D(H,ce,q),q})}function w(j,ie){const te=U(j,ie);return te?Promise.reject(te):Promise.resolve()}function E(j){const ie=An.values().next().value;return ie&&typeof ie.runWithContext=="function"?ie.runWithContext(j):j()}function S(j,ie){let te;const[ce,Oe,I]=JT(j,ie);te=sc(ce.reverse(),"beforeRouteLeave",j,ie);for(const M of ce)M.leaveGuards.forEach(H=>{te.push(mr(H,j,ie))});const b=w.bind(null,j,ie);return te.push(b),gt(te).then(()=>{te=[];for(const M of s.list())te.push(mr(M,j,ie));return te.push(b),gt(te)}).then(()=>{te=sc(Oe,"beforeRouteUpdate",j,ie);for(const M of Oe)M.updateGuards.forEach(H=>{te.push(mr(H,j,ie))});return te.push(b),gt(te)}).then(()=>{te=[];for(const M of I)if(M.beforeEnter)if(In(M.beforeEnter))for(const H of M.beforeEnter)te.push(mr(H,j,ie));else te.push(mr(M.beforeEnter,j,ie));return te.push(b),gt(te)}).then(()=>(j.matched.forEach(M=>M.enterCallbacks={}),te=sc(I,"beforeRouteEnter",j,ie,E),te.push(b),gt(te))).then(()=>{te=[];for(const M of o.list())te.push(mr(M,j,ie));return te.push(b),gt(te)}).catch(M=>Kn(M,8)?M:Promise.reject(M))}function D(j,ie,te){l.list().forEach(ce=>E(()=>ce(j,ie,te)))}function C(j,ie,te,ce,Oe){const I=U(j,ie);if(I)return I;const b=ie===ur,M=bi?history.state:{};te&&(ce||b?i.replace(j.fullPath,je({scroll:b&&M&&M.scroll},Oe)):i.push(j.fullPath,Oe)),c.value=j,At(j,ie,te,b),on()}let T;function Be(){T||(T=i.listen((j,ie,te)=>{if(!Ct.listening)return;const ce=$(j),Oe=oe(ce);if(Oe){R(je(Oe,{replace:!0,force:!0}),ce).catch(qs);return}u=ce;const I=c.value;bi&&ET(Qf(I.fullPath,te.delta),ul()),S(ce,I).catch(b=>Kn(b,12)?b:Kn(b,2)?(R(je(B(b.to),{force:!0}),ce).then(M=>{Kn(M,20)&&!te.delta&&te.type===ao.pop&&i.go(-1,!1)}).catch(qs),Promise.reject()):(te.delta&&i.go(-te.delta,!1),Re(b,ce,I))).then(b=>{b=b||C(ce,I,!1),b&&(te.delta&&!Kn(b,8)?i.go(-te.delta,!1):te.type===ao.pop&&Kn(b,20)&&i.go(-1,!1)),D(ce,I,b)}).catch(qs)}))}let et=As(),We=As(),Pe;function Re(j,ie,te){on(j);const ce=We.list();return ce.length?ce.forEach(Oe=>Oe(j,ie,te)):console.error(j),Promise.reject(j)}function bt(){return Pe&&c.value!==ur?Promise.resolve():new Promise((j,ie)=>{et.add([j,ie])})}function on(j){return Pe||(Pe=!j,Be(),et.list().forEach(([ie,te])=>j?te(j):ie()),et.reset()),j}function At(j,ie,te,ce){const{scrollBehavior:Oe}=n;if(!bi||!Oe)return Promise.resolve();const I=!te&&wT(Qf(j.fullPath,0))||(ce||!te)&&history.state&&history.state.scroll||null;return Am().then(()=>Oe(j,ie,I)).then(b=>b&&vT(b)).catch(b=>Re(b,j,ie))}const Ge=j=>i.go(j);let Ye;const An=new Set,Ct={currentRoute:c,listening:!0,addRoute:_,removeRoute:P,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:A,resolve:$,options:n,push:x,replace:J,go:Ge,back:()=>Ge(-1),forward:()=>Ge(1),beforeEach:s.add,beforeResolve:o.add,afterEach:l.add,onError:We.add,isReady:bt,install(j){const ie=this;j.component("RouterLink",zT),j.component("RouterView",YT),j.config.globalProperties.$router=ie,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Oi(c)}),bi&&!Ye&&c.value===ur&&(Ye=!0,x(i.location).catch(Oe=>{}));const te={};for(const Oe in ur)Object.defineProperty(te,Oe,{get:()=>c.value[Oe],enumerable:!0});j.provide(Wu,ie),j.provide(Gu,Em(te)),j.provide(Kc,c);const ce=j.unmount;An.add(j),j.unmount=function(){An.delete(j),An.size<1&&(u=ur,T&&T(),T=null,c.value=ur,Ye=!1,Pe=!1),ce()}}};function gt(j){return j.reduce((ie,te)=>ie.then(()=>E(te)),Promise.resolve())}return Ct}function JT(n,e){const t=[],r=[],i=[],s=Math.max(e.matched.length,n.matched.length);for(let o=0;o<s;o++){const l=e.matched[o];l&&(n.matched.find(u=>zi(u,l))?r.push(l):t.push(l));const c=n.matched[o];c&&(e.matched.find(u=>zi(u,c))||i.push(c))}return[t,r,i]}function XT(n){return Vn(Gu)}const xi="/dog%20hend.png",Ag="/camara%20icon.png",Cg="/dog%20icon.png";function Sg(n,e){return function(){return n.apply(e,arguments)}}const{toString:ZT}=Object.prototype,{getPrototypeOf:Yu}=Object,{iterator:hl,toStringTag:Rg}=Symbol,fl=(n=>e=>{const t=ZT.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),bn=n=>(n=n.toLowerCase(),e=>fl(e)===n),dl=n=>e=>typeof e===n,{isArray:ts}=Array,lo=dl("undefined");function eI(n){return n!==null&&!lo(n)&&n.constructor!==null&&!lo(n.constructor)&&rn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Pg=bn("ArrayBuffer");function tI(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Pg(n.buffer),e}const nI=dl("string"),rn=dl("function"),Dg=dl("number"),pl=n=>n!==null&&typeof n=="object",rI=n=>n===!0||n===!1,fa=n=>{if(fl(n)!=="object")return!1;const e=Yu(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Rg in n)&&!(hl in n)},iI=bn("Date"),sI=bn("File"),oI=bn("Blob"),aI=bn("FileList"),lI=n=>pl(n)&&rn(n.pipe),cI=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||rn(n.append)&&((e=fl(n))==="formdata"||e==="object"&&rn(n.toString)&&n.toString()==="[object FormData]"))},uI=bn("URLSearchParams"),[hI,fI,dI,pI]=["ReadableStream","Request","Response","Headers"].map(bn),mI=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Eo(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ts(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,n[l],l,n)}}function kg(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Og=n=>!lo(n)&&n!==ni;function Wc(){const{caseless:n}=Og(this)&&this||{},e={},t=(r,i)=>{const s=n&&kg(e,i)||i;fa(e[s])&&fa(r)?e[s]=Wc(e[s],r):fa(r)?e[s]=Wc({},r):ts(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Eo(arguments[r],t);return e}const gI=(n,e,t,{allOwnKeys:r}={})=>(Eo(e,(i,s)=>{t&&rn(i)?n[s]=Sg(i,t):n[s]=i},{allOwnKeys:r}),n),yI=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_I=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},vI=(n,e,t,r)=>{let i,s,o;const l={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!l[o]&&(e[o]=n[o],l[o]=!0);n=t!==!1&&Yu(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},EI=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},wI=n=>{if(!n)return null;if(ts(n))return n;let e=n.length;if(!Dg(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},TI=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Yu(Uint8Array)),II=(n,e)=>{const r=(n&&n[hl]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},bI=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},AI=bn("HTMLFormElement"),CI=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),hd=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),SI=bn("RegExp"),Mg=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Eo(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},RI=n=>{Mg(n,(e,t)=>{if(rn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(rn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},PI=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return ts(n)?r(n):r(String(n).split(e)),t},DI=()=>{},kI=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function OI(n){return!!(n&&rn(n.append)&&n[Rg]==="FormData"&&n[hl])}const MI=n=>{const e=new Array(10),t=(r,i)=>{if(pl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ts(r)?[]:{};return Eo(r,(o,l)=>{const c=t(o,i+1);!lo(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return t(n,0)},NI=bn("AsyncFunction"),xI=n=>n&&(pl(n)||rn(n))&&rn(n.then)&&rn(n.catch),Ng=((n,e)=>n?setImmediate:e?((t,r)=>(ni.addEventListener("message",({source:i,data:s})=>{i===ni&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ni.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",rn(ni.postMessage)),VI=typeof queueMicrotask<"u"?queueMicrotask.bind(ni):typeof process<"u"&&process.nextTick||Ng,LI=n=>n!=null&&rn(n[hl]),V={isArray:ts,isArrayBuffer:Pg,isBuffer:eI,isFormData:cI,isArrayBufferView:tI,isString:nI,isNumber:Dg,isBoolean:rI,isObject:pl,isPlainObject:fa,isReadableStream:hI,isRequest:fI,isResponse:dI,isHeaders:pI,isUndefined:lo,isDate:iI,isFile:sI,isBlob:oI,isRegExp:SI,isFunction:rn,isStream:lI,isURLSearchParams:uI,isTypedArray:TI,isFileList:aI,forEach:Eo,merge:Wc,extend:gI,trim:mI,stripBOM:yI,inherits:_I,toFlatObject:vI,kindOf:fl,kindOfTest:bn,endsWith:EI,toArray:wI,forEachEntry:II,matchAll:bI,isHTMLForm:AI,hasOwnProperty:hd,hasOwnProp:hd,reduceDescriptors:Mg,freezeMethods:RI,toObjectSet:PI,toCamelCase:CI,noop:DI,toFiniteNumber:kI,findKey:kg,global:ni,isContextDefined:Og,isSpecCompliantForm:OI,toJSONObject:MI,isAsyncFn:NI,isThenable:xI,setImmediate:Ng,asap:VI,isIterable:LI};function Ce(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const xg=Ce.prototype,Vg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Vg[n]={value:n}});Object.defineProperties(Ce,Vg);Object.defineProperty(xg,"isAxiosError",{value:!0});Ce.from=(n,e,t,r,i,s)=>{const o=Object.create(xg);return V.toFlatObject(n,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Ce.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const FI=null;function Gc(n){return V.isPlainObject(n)||V.isArray(n)}function Lg(n){return V.endsWith(n,"[]")?n.slice(0,-2):n}function fd(n,e,t){return n?n.concat(e).map(function(i,s){return i=Lg(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function UI(n){return V.isArray(n)&&!n.some(Gc)}const BI=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function ml(n,e,t){if(!V.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=V.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!V.isUndefined(k[A])});const r=t.metaTokens,i=t.visitor||f,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function u(P){if(P===null)return"";if(V.isDate(P))return P.toISOString();if(V.isBoolean(P))return P.toString();if(!c&&V.isBlob(P))throw new Ce("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(P)||V.isTypedArray(P)?c&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function f(P,A,k){let $=P;if(P&&!k&&typeof P=="object"){if(V.endsWith(A,"{}"))A=r?A:A.slice(0,-2),P=JSON.stringify(P);else if(V.isArray(P)&&UI(P)||(V.isFileList(P)||V.endsWith(A,"[]"))&&($=V.toArray(P)))return A=Lg(A),$.forEach(function(U,x){!(V.isUndefined(U)||U===null)&&e.append(o===!0?fd([A],x,s):o===null?A:A+"[]",u(U))}),!1}return Gc(P)?!0:(e.append(fd(k,A,s),u(P)),!1)}const p=[],m=Object.assign(BI,{defaultVisitor:f,convertValue:u,isVisitable:Gc});function _(P,A){if(!V.isUndefined(P)){if(p.indexOf(P)!==-1)throw Error("Circular reference detected in "+A.join("."));p.push(P),V.forEach(P,function($,B){(!(V.isUndefined($)||$===null)&&i.call(e,$,V.isString(B)?B.trim():B,A,m))===!0&&_($,A?A.concat(B):[B])}),p.pop()}}if(!V.isObject(n))throw new TypeError("data must be an object");return _(n),e}function dd(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Qu(n,e){this._pairs=[],n&&ml(n,this,e)}const Fg=Qu.prototype;Fg.append=function(e,t){this._pairs.push([e,t])};Fg.toString=function(e){const t=e?function(r){return e.call(this,r,dd)}:dd;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function jI(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ug(n,e,t){if(!e)return n;const r=t&&t.encode||jI;V.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=V.isURLSearchParams(e)?e.toString():new Qu(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class pd{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Bg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},HI=typeof URLSearchParams<"u"?URLSearchParams:Qu,$I=typeof FormData<"u"?FormData:null,qI=typeof Blob<"u"?Blob:null,zI={isBrowser:!0,classes:{URLSearchParams:HI,FormData:$I,Blob:qI},protocols:["http","https","file","blob","url","data"]},Ju=typeof window<"u"&&typeof document<"u",Yc=typeof navigator=="object"&&navigator||void 0,KI=Ju&&(!Yc||["ReactNative","NativeScript","NS"].indexOf(Yc.product)<0),WI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GI=Ju&&window.location.href||"http://localhost",YI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ju,hasStandardBrowserEnv:KI,hasStandardBrowserWebWorkerEnv:WI,navigator:Yc,origin:GI},Symbol.toStringTag,{value:"Module"})),Lt={...YI,...zI};function QI(n,e){return ml(n,new Lt.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Lt.isNode&&V.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function JI(n){return V.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function XI(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function jg(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=t.length;return o=!o&&V.isArray(i)?i.length:o,c?(V.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!V.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&V.isArray(i[o])&&(i[o]=XI(i[o])),!l)}if(V.isFormData(n)&&V.isFunction(n.entries)){const t={};return V.forEachEntry(n,(r,i)=>{e(JI(r),i,t,0)}),t}return null}function ZI(n,e,t){if(V.isString(n))try{return(e||JSON.parse)(n),V.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const wo={transitional:Bg,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(jg(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return QI(e,this.formSerializer).toString();if((l=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ml(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),ZI(e)):e}],transformResponse:[function(e){const t=this.transitional||wo.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],n=>{wo.headers[n]={}});const eb=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),tb=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&eb[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},md=Symbol("internals");function Cs(n){return n&&String(n).trim().toLowerCase()}function da(n){return n===!1||n==null?n:V.isArray(n)?n.map(da):String(n)}function nb(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const rb=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function oc(n,e,t,r,i){if(V.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function ib(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function sb(n,e){const t=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let sn=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(l,c,u){const f=Cs(c);if(!f)throw new Error("header name must be a non-empty string");const p=V.findKey(i,f);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=da(l))}const o=(l,c)=>V.forEach(l,(u,f)=>s(u,f,c));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(V.isString(e)&&(e=e.trim())&&!rb(e))o(tb(e),t);else if(V.isObject(e)&&V.isIterable(e)){let l={},c,u;for(const f of e){if(!V.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[u=f[0]]=(c=l[u])?V.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}o(l,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Cs(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return nb(i);if(V.isFunction(t))return t.call(this,i,r);if(V.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Cs(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||oc(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Cs(o),o){const l=V.findKey(r,o);l&&(!t||oc(r,r[l],l,t))&&(delete r[l],i=!0)}}return V.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||oc(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return V.forEach(this,(i,s)=>{const o=V.findKey(r,s);if(o){t[o]=da(i),delete t[s];return}const l=e?ib(s):String(s).trim();l!==s&&delete t[s],t[l]=da(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&V.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[md]=this[md]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Cs(o);r[l]||(sb(i,o),r[l]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}};sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(sn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});V.freezeMethods(sn);function ac(n,e){const t=this||wo,r=e||t,i=sn.from(r.headers);let s=r.data;return V.forEach(n,function(l){s=l.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Hg(n){return!!(n&&n.__CANCEL__)}function ns(n,e,t){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}V.inherits(ns,Ce,{__CANCEL__:!0});function $g(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ob(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ab(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),f=r[s];o||(o=u),t[i]=c,r[i]=u;let p=s,m=0;for(;p!==i;)m+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const _=f&&u-f;return _?Math.round(m*1e3/_):void 0}}function lb(n,e){let t=0,r=1e3/e,i,s;const o=(u,f=Date.now())=>{t=f,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const f=Date.now(),p=f-t;p>=r?o(u,f):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const Ma=(n,e,t=3)=>{let r=0;const i=ab(50,250);return lb(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),f=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&f?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(p)},t)},gd=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},yd=n=>(...e)=>V.asap(()=>n(...e)),cb=Lt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Lt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,ub=Lt.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];V.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hb(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function fb(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function qg(n,e,t){let r=!hb(e);return n&&(r||t==!1)?fb(n,e):e}const _d=n=>n instanceof sn?{...n}:n;function ci(n,e){e=e||{};const t={};function r(u,f,p,m){return V.isPlainObject(u)&&V.isPlainObject(f)?V.merge.call({caseless:m},u,f):V.isPlainObject(f)?V.merge({},f):V.isArray(f)?f.slice():f}function i(u,f,p,m){if(V.isUndefined(f)){if(!V.isUndefined(u))return r(void 0,u,p,m)}else return r(u,f,p,m)}function s(u,f){if(!V.isUndefined(f))return r(void 0,f)}function o(u,f){if(V.isUndefined(f)){if(!V.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function l(u,f,p){if(p in e)return r(u,f);if(p in n)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,f,p)=>i(_d(u),_d(f),p,!0)};return V.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=c[f]||i,m=p(n[f],e[f],f);V.isUndefined(m)&&p!==l||(t[f]=m)}),t}const zg=n=>{const e=ci({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=sn.from(o),e.url=Ug(qg(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(V.isFormData(t)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Lt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&cb(e.url))){const u=i&&s&&ub.read(s);u&&o.set(i,u)}return e},db=typeof XMLHttpRequest<"u",pb=db&&function(n){return new Promise(function(t,r){const i=zg(n);let s=i.data;const o=sn.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,f,p,m,_,P;function A(){_&&_(),P&&P(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function $(){if(!k)return;const U=sn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),J={data:!l||l==="text"||l==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:U,config:n,request:k};$g(function(R){t(R),A()},function(R){r(R),A()},J),k=null}"onloadend"in k?k.onloadend=$:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout($)},k.onabort=function(){k&&(r(new Ce("Request aborted",Ce.ECONNABORTED,n,k)),k=null)},k.onerror=function(){r(new Ce("Network Error",Ce.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||Bg;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new Ce(x,J.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,k)),k=null},s===void 0&&o.setContentType(null),"setRequestHeader"in k&&V.forEach(o.toJSON(),function(x,J){k.setRequestHeader(J,x)}),V.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),l&&l!=="json"&&(k.responseType=i.responseType),u&&([m,P]=Ma(u,!0),k.addEventListener("progress",m)),c&&k.upload&&([p,_]=Ma(c),k.upload.addEventListener("progress",p),k.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(f=U=>{k&&(r(!U||U.type?new ns(null,n,k):U),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const B=ob(i.url);if(B&&Lt.protocols.indexOf(B)===-1){r(new Ce("Unsupported protocol "+B+":",Ce.ERR_BAD_REQUEST,n));return}k.send(s||null)})},mb=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const f=u instanceof Error?u:this.reason;r.abort(f instanceof Ce?f:new ns(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const l=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>V.asap(l),c}},gb=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},yb=async function*(n,e){for await(const t of _b(n))yield*gb(t,e)},_b=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},vd=(n,e,t,r)=>{const i=yb(n,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await i.next();if(u){l(),c.close();return}let p=f.byteLength;if(t){let m=s+=p;t(m)}c.enqueue(new Uint8Array(f))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},gl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kg=gl&&typeof ReadableStream=="function",vb=gl&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Wg=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Eb=Kg&&Wg(()=>{let n=!1;const e=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Ed=64*1024,Qc=Kg&&Wg(()=>V.isReadableStream(new Response("").body)),Na={stream:Qc&&(n=>n.body)};gl&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Na[e]&&(Na[e]=V.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,r)})})})(new Response);const wb=async n=>{if(n==null)return 0;if(V.isBlob(n))return n.size;if(V.isSpecCompliantForm(n))return(await new Request(Lt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(V.isArrayBufferView(n)||V.isArrayBuffer(n))return n.byteLength;if(V.isURLSearchParams(n)&&(n=n+""),V.isString(n))return(await vb(n)).byteLength},Tb=async(n,e)=>{const t=V.toFiniteNumber(n.getContentLength());return t??wb(e)},Ib=gl&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:f,withCredentials:p="same-origin",fetchOptions:m}=zg(n);u=u?(u+"").toLowerCase():"text";let _=mb([i,s&&s.toAbortSignal()],o),P;const A=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let k;try{if(c&&Eb&&t!=="get"&&t!=="head"&&(k=await Tb(f,r))!==0){let J=new Request(e,{method:"POST",body:r,duplex:"half"}),oe;if(V.isFormData(r)&&(oe=J.headers.get("content-type"))&&f.setContentType(oe),J.body){const[R,w]=gd(k,Ma(yd(c)));r=vd(J.body,Ed,R,w)}}V.isString(p)||(p=p?"include":"omit");const $="credentials"in Request.prototype;P=new Request(e,{...m,signal:_,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:$?p:void 0});let B=await fetch(P,m);const U=Qc&&(u==="stream"||u==="response");if(Qc&&(l||U&&A)){const J={};["status","statusText","headers"].forEach(E=>{J[E]=B[E]});const oe=V.toFiniteNumber(B.headers.get("content-length")),[R,w]=l&&gd(oe,Ma(yd(l),!0))||[];B=new Response(vd(B.body,Ed,R,()=>{w&&w(),A&&A()}),J)}u=u||"text";let x=await Na[V.findKey(Na,u)||"text"](B,n);return!U&&A&&A(),await new Promise((J,oe)=>{$g(J,oe,{data:x,headers:sn.from(B.headers),status:B.status,statusText:B.statusText,config:n,request:P})})}catch($){throw A&&A(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,n,P),{cause:$.cause||$}):Ce.from($,$&&$.code,n,P)}}),Jc={http:FI,xhr:pb,fetch:Ib};V.forEach(Jc,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const wd=n=>`- ${n}`,bb=n=>V.isFunction(n)||n===null||n===!1,Gg={getAdapter:n=>{n=V.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!bb(t)&&(r=Jc[(o=String(t)).toLowerCase()],r===void 0))throw new Ce(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(wd).join(`
`):" "+wd(s[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Jc};function lc(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ns(null,n)}function Td(n){return lc(n),n.headers=sn.from(n.headers),n.data=ac.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Gg.getAdapter(n.adapter||wo.adapter)(n).then(function(r){return lc(n),r.data=ac.call(n,n.transformResponse,r),r.headers=sn.from(r.headers),r},function(r){return Hg(r)||(lc(n),r&&r.response&&(r.response.data=ac.call(n,n.transformResponse,r.response),r.response.headers=sn.from(r.response.headers))),Promise.reject(r)})}const Yg="1.10.0",yl={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{yl[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Id={};yl.transitional=function(e,t,r){function i(s,o){return"[Axios v"+Yg+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new Ce(i(o," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!Id[o]&&(Id[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,l):!0}};yl.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Ab(n,e,t){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=n[s],c=l===void 0||o(l,s,n);if(c!==!0)throw new Ce("option "+s+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}}const pa={assertOptions:Ab,validators:yl},Pn=pa.validators;let si=class{constructor(e){this.defaults=e||{},this.interceptors={request:new pd,response:new pd}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ci(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&pa.assertOptions(r,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),i!=null&&(V.isFunction(i)?t.paramsSerializer={serialize:i}:pa.assertOptions(i,{encode:Pn.function,serialize:Pn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),pa.assertOptions(t,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&V.merge(s.common,s[t.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],P=>{delete s[P]}),t.headers=sn.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(c=c&&A.synchronous,l.unshift(A.fulfilled,A.rejected))});const u=[];this.interceptors.response.forEach(function(A){u.push(A.fulfilled,A.rejected)});let f,p=0,m;if(!c){const P=[Td.bind(this),void 0];for(P.unshift.apply(P,l),P.push.apply(P,u),m=P.length,f=Promise.resolve(t);p<m;)f=f.then(P[p++],P[p++]);return f}m=l.length;let _=t;for(p=0;p<m;){const P=l[p++],A=l[p++];try{_=P(_)}catch(k){A.call(this,k);break}}try{f=Td.call(this,_)}catch(P){return Promise.reject(P)}for(p=0,m=u.length;p<m;)f=f.then(u[p++],u[p++]);return f}getUri(e){e=ci(this.defaults,e);const t=qg(e.baseURL,e.url,e.allowAbsoluteUrls);return Ug(t,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){si.prototype[e]=function(t,r){return this.request(ci(r||{},{method:e,url:t,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,l){return this.request(ci(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}si.prototype[e]=t(),si.prototype[e+"Form"]=t(!0)});let Cb=class Qg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new ns(s,o,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Qg(function(i){e=i}),cancel:e}}};function Sb(n){return function(t){return n.apply(null,t)}}function Rb(n){return V.isObject(n)&&n.isAxiosError===!0}const Xc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Xc).forEach(([n,e])=>{Xc[e]=n});function Jg(n){const e=new si(n),t=Sg(si.prototype.request,e);return V.extend(t,si.prototype,e,{allOwnKeys:!0}),V.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Jg(ci(n,i))},t}const rt=Jg(wo);rt.Axios=si;rt.CanceledError=ns;rt.CancelToken=Cb;rt.isCancel=Hg;rt.VERSION=Yg;rt.toFormData=ml;rt.AxiosError=Ce;rt.Cancel=rt.CanceledError;rt.all=function(e){return Promise.all(e)};rt.spread=Sb;rt.isAxiosError=Rb;rt.mergeConfig=ci;rt.AxiosHeaders=sn;rt.formToJSON=n=>jg(V.isHTMLForm(n)?new FormData(n):n);rt.getAdapter=Gg.getAdapter;rt.HttpStatusCode=Xc;rt.default=rt;const{Axios:ZP,AxiosError:eD,CanceledError:tD,isCancel:nD,CancelToken:rD,VERSION:iD,all:sD,Cancel:oD,isAxiosError:aD,spread:lD,toFormData:cD,AxiosHeaders:uD,HttpStatusCode:hD,formToJSON:fD,getAdapter:dD,mergeConfig:pD}=rt;var cc=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Vi={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},co={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},en=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},pn=function(n){return n===!0?1:0};function bd(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var uc=function(n){return n instanceof Array?n:[n]};function $t(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Fe(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function Zo(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Xg(n,e){if(e(n))return n;if(n.parentNode)return Xg(n.parentNode,e)}function ea(n,e){var t=Fe("div","numInputWrapper"),r=Fe("input","numInput "+n),i=Fe("span","arrowUp"),s=Fe("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var o in e)r.setAttribute(o,e[o]);return t.appendChild(r),t.appendChild(i),t.appendChild(s),t}function ln(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var hc=function(){},xa=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},Pb={D:hc,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*pn(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:hc,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:hc,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ei={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ks={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[Ks.w(n,e,t)]},F:function(n,e,t){return xa(Ks.n(n,e,t)-1,!1,e)},G:function(n,e,t){return en(Ks.h(n,e,t))},H:function(n){return en(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[pn(n.getHours()>11)]},M:function(n,e){return xa(n.getMonth(),!0,e)},S:function(n){return en(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return en(n.getFullYear(),4)},d:function(n){return en(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return en(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return en(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Zg=function(n){var e=n.config,t=e===void 0?Vi:e,r=n.l10n,i=r===void 0?co:r,s=n.isMobile,o=s===void 0?!1:s;return function(l,c,u){var f=u||i;return t.formatDate!==void 0&&!o?t.formatDate(l,c,f):c.split("").map(function(p,m,_){return Ks[p]&&_[m-1]!=="\\"?Ks[p](l,f,t):p!=="\\"?p:""}).join("")}},Zc=function(n){var e=n.config,t=e===void 0?Vi:e,r=n.l10n,i=r===void 0?co:r;return function(s,o,l,c){if(!(s!==0&&!s)){var u=c||i,f,p=s;if(s instanceof Date)f=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)f=new Date(s);else if(typeof s=="string"){var m=o||(t||Vi).dateFormat,_=String(s).trim();if(_==="today")f=new Date,l=!0;else if(t&&t.parseDate)f=t.parseDate(s,m);else if(/Z$/.test(_)||/GMT$/.test(_))f=new Date(s);else{for(var P=void 0,A=[],k=0,$=0,B="";k<m.length;k++){var U=m[k],x=U==="\\",J=m[k-1]==="\\"||x;if(ei[U]&&!J){B+=ei[U];var oe=new RegExp(B).exec(s);oe&&(P=!0)&&A[U!=="Y"?"push":"unshift"]({fn:Pb[U],val:oe[++$]})}else x||(B+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),A.forEach(function(R){var w=R.fn,E=R.val;return f=w(f,E,u)||f}),f=P?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return l===!0&&f.setHours(0,0,0,0),f}}};function cn(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var Db=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},fc=function(n,e,t){return n*3600+e*60+t},kb=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},Ob={DAY:864e5};function dc(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),s=n.minDate.getMinutes(),o=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<s&&(t=s),e===i&&t===s&&r<o&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var l=n.maxDate.getHours(),c=n.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(c,t)),e===l&&t===c&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(l){l&&Object.keys(l).forEach(function(c){return n[c]=l[c]})},i=0,s=e;i<s.length;i++){var o=s[i];r(o)}return n});var kt=function(){return kt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},kt.apply(this,arguments)},Ad=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,l=s.length;o<l;o++,i++)r[i]=s[o];return r},Mb=300;function Nb(n,e){var t={config:kt(kt({},Vi),lt.defaultConfig),l10n:co};t.parseDate=Zc({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=A,t._setHoursFromDate=m,t._positionCalendar=Y,t.changeMonth=At,t.changeYear=j,t.clear=Ge,t.close=Ye,t.onMouseOver=I,t._createElement=Fe,t.createDay=oe,t.destroy=An,t.isEnabled=ie,t.jumpToDate=B,t.updateValue=jt,t.open=M,t.redraw=fe,t.set=ge,t.setDate=De,t.toggle=Br;function r(){t.utils={getDaysInMonth:function(y,v){return y===void 0&&(y=t.currentMonth),v===void 0&&(v=t.currentYear),y===1&&(v%4===0&&v%100!==0||v%400===0)?29:t.l10n.daysInMonth[y]}}}function i(){t.element=t.input=n,t.isOpen=!1,z(),ne(),Jt(),ft(),r(),t.isMobile||J(),$(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),jt(!1)),l();var y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&y&&Y(),Se("onReady")}function s(){var y;return((y=t.calendarContainer)===null||y===void 0?void 0:y.getRootNode()).activeElement||document.activeElement}function o(y){return y.bind(t)}function l(){var y=t.config;y.weekNumbers===!1&&y.showMonths===1||y.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var v=(t.days.offsetWidth+1)*y.showMonths;t.daysContainer.style.width=v+"px",t.calendarContainer.style.width=v+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function c(y){if(t.selectedDates.length===0){var v=t.config.minDate===void 0||cn(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),O=dc(t.config);v.setHours(O.hours,O.minutes,O.seconds,v.getMilliseconds()),t.selectedDates=[v],t.latestSelectedDateObj=v}y!==void 0&&y.type!=="blur"&&hs(y);var F=t._input.value;p(),jt(),t._input.value!==F&&t._debouncedChange()}function u(y,v){return y%12+12*pn(v===t.l10n.amPM[1])}function f(y){switch(y%24){case 0:case 12:return 12;default:return y%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var y=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,v=(parseInt(t.minuteElement.value,10)||0)%60,O=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(y=u(y,t.amPM.textContent));var F=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&cn(t.latestSelectedDateObj,t.config.minDate,!0)===0,G=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&cn(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var se=fc(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),de=fc(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),ue=fc(y,v,O);if(ue>de&&ue<se){var Te=kb(se);y=Te[0],v=Te[1],O=Te[2]}}else{if(G){var ae=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;y=Math.min(y,ae.getHours()),y===ae.getHours()&&(v=Math.min(v,ae.getMinutes())),v===ae.getMinutes()&&(O=Math.min(O,ae.getSeconds()))}if(F){var _e=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;y=Math.max(y,_e.getHours()),y===_e.getHours()&&v<_e.getMinutes()&&(v=_e.getMinutes()),v===_e.getMinutes()&&(O=Math.max(O,_e.getSeconds()))}}_(y,v,O)}}function m(y){var v=y||t.latestSelectedDateObj;v&&v instanceof Date&&_(v.getHours(),v.getMinutes(),v.getSeconds())}function _(y,v,O){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(y%24,v,O||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=en(t.config.time_24hr?y:(12+y)%12+12*pn(y%12===0)),t.minuteElement.value=en(v),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[pn(y>=12)]),t.secondElement!==void 0&&(t.secondElement.value=en(O)))}function P(y){var v=ln(y),O=parseInt(v.value)+(y.delta||0);(O/1e3>1||y.key==="Enter"&&!/[^\d]/.test(O.toString()))&&j(O)}function A(y,v,O,F){if(v instanceof Array)return v.forEach(function(G){return A(y,G,O,F)});if(y instanceof Array)return y.forEach(function(G){return A(G,v,O,F)});y.addEventListener(v,O,F),t._handlers.push({remove:function(){return y.removeEventListener(v,O,F)}})}function k(){Se("onChange")}function $(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(O){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+O+"]"),function(F){return A(F,"click",t[O])})}),t.isMobile){Cn();return}var y=bd(b,50);if(t._debouncedChange=bd(k,Mb),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&A(t.daysContainer,"mouseover",function(O){t.config.mode==="range"&&I(ln(O))}),A(t._input,"keydown",Oe),t.calendarContainer!==void 0&&A(t.calendarContainer,"keydown",Oe),!t.config.inline&&!t.config.static&&A(window,"resize",y),window.ontouchstart!==void 0?A(window.document,"touchstart",gt):A(window.document,"mousedown",gt),A(window.document,"focus",gt,{capture:!0}),t.config.clickOpens===!0&&(A(t._input,"focus",t.open),A(t._input,"click",t.open)),t.daysContainer!==void 0&&(A(t.monthNav,"click",us),A(t.monthNav,["keyup","increment"],P),A(t.daysContainer,"click",he)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var v=function(O){return ln(O).select()};A(t.timeContainer,["increment"],c),A(t.timeContainer,"blur",c,{capture:!0}),A(t.timeContainer,"click",U),A([t.hourElement,t.minuteElement],["focus","click"],v),t.secondElement!==void 0&&A(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&A(t.amPM,"click",function(O){c(O)})}t.config.allowInput&&A(t._input,"blur",ce)}function B(y,v){var O=y!==void 0?t.parseDate(y):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),F=t.currentYear,G=t.currentMonth;try{O!==void 0&&(t.currentYear=O.getFullYear(),t.currentMonth=O.getMonth())}catch(se){se.message="Invalid date supplied: "+O,t.config.errorHandler(se)}v&&t.currentYear!==F&&(Se("onYearChange"),T()),v&&(t.currentYear!==F||t.currentMonth!==G)&&Se("onMonthChange"),t.redraw()}function U(y){var v=ln(y);~v.className.indexOf("arrow")&&x(y,v.classList.contains("arrowUp")?1:-1)}function x(y,v,O){var F=y&&ln(y),G=O||F&&F.parentNode&&F.parentNode.firstChild,se=St("increment");se.delta=v,G&&G.dispatchEvent(se)}function J(){var y=window.document.createDocumentFragment();if(t.calendarContainer=Fe("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(y.appendChild(We()),t.innerContainer=Fe("div","flatpickr-innerContainer"),t.config.weekNumbers){var v=on(),O=v.weekWrapper,F=v.weekNumbers;t.innerContainer.appendChild(O),t.weekNumbers=F,t.weekWrapper=O}t.rContainer=Fe("div","flatpickr-rContainer"),t.rContainer.appendChild(Re()),t.daysContainer||(t.daysContainer=Fe("div","flatpickr-days"),t.daysContainer.tabIndex=-1),C(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),y.appendChild(t.innerContainer)}t.config.enableTime&&y.appendChild(Pe()),$t(t.calendarContainer,"rangeMode",t.config.mode==="range"),$t(t.calendarContainer,"animate",t.config.animate===!0),$t(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(y);var G=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!G&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var se=Fe("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(se,t.element),se.appendChild(t.element),t.altInput&&se.appendChild(t.altInput),se.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function oe(y,v,O,F){var G=ie(v,!0),se=Fe("span",y,v.getDate().toString());return se.dateObj=v,se.$i=F,se.setAttribute("aria-label",t.formatDate(v,t.config.ariaDateFormat)),y.indexOf("hidden")===-1&&cn(v,t.now)===0&&(t.todayDateElem=se,se.classList.add("today"),se.setAttribute("aria-current","date")),G?(se.tabIndex=-1,or(v)&&(se.classList.add("selected"),t.selectedDateElem=se,t.config.mode==="range"&&($t(se,"startRange",t.selectedDates[0]&&cn(v,t.selectedDates[0],!0)===0),$t(se,"endRange",t.selectedDates[1]&&cn(v,t.selectedDates[1],!0)===0),y==="nextMonthDay"&&se.classList.add("inRange")))):se.classList.add("flatpickr-disabled"),t.config.mode==="range"&&cs(v)&&!or(v)&&se.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&y!=="prevMonthDay"&&F%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(v)+"</span>"),Se("onDayCreate",se),se}function R(y){y.focus(),t.config.mode==="range"&&I(y)}function w(y){for(var v=y>0?0:t.config.showMonths-1,O=y>0?t.config.showMonths:-1,F=v;F!=O;F+=y)for(var G=t.daysContainer.children[F],se=y>0?0:G.children.length-1,de=y>0?G.children.length:-1,ue=se;ue!=de;ue+=y){var Te=G.children[ue];if(Te.className.indexOf("hidden")===-1&&ie(Te.dateObj))return Te}}function E(y,v){for(var O=y.className.indexOf("Month")===-1?y.dateObj.getMonth():t.currentMonth,F=v>0?t.config.showMonths:-1,G=v>0?1:-1,se=O-t.currentMonth;se!=F;se+=G)for(var de=t.daysContainer.children[se],ue=O-t.currentMonth===se?y.$i+v:v<0?de.children.length-1:0,Te=de.children.length,ae=ue;ae>=0&&ae<Te&&ae!=(v>0?Te:-1);ae+=G){var _e=de.children[ae];if(_e.className.indexOf("hidden")===-1&&ie(_e.dateObj)&&Math.abs(y.$i-ae)>=Math.abs(v))return R(_e)}t.changeMonth(G),S(w(G),0)}function S(y,v){var O=s(),F=te(O||document.body),G=y!==void 0?y:F?O:t.selectedDateElem!==void 0&&te(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&te(t.todayDateElem)?t.todayDateElem:w(v>0?1:-1);G===void 0?t._input.focus():F?E(G,v):R(G)}function D(y,v){for(var O=(new Date(y,v,1).getDay()-t.l10n.firstDayOfWeek+7)%7,F=t.utils.getDaysInMonth((v-1+12)%12,y),G=t.utils.getDaysInMonth(v,y),se=window.document.createDocumentFragment(),de=t.config.showMonths>1,ue=de?"prevMonthDay hidden":"prevMonthDay",Te=de?"nextMonthDay hidden":"nextMonthDay",ae=F+1-O,_e=0;ae<=F;ae++,_e++)se.appendChild(oe("flatpickr-day "+ue,new Date(y,v-1,ae),ae,_e));for(ae=1;ae<=G;ae++,_e++)se.appendChild(oe("flatpickr-day",new Date(y,v,ae),ae,_e));for(var $e=G+1;$e<=42-O&&(t.config.showMonths===1||_e%7!==0);$e++,_e++)se.appendChild(oe("flatpickr-day "+Te,new Date(y,v+1,$e%G),$e,_e));var vt=Fe("div","dayContainer");return vt.appendChild(se),vt}function C(){if(t.daysContainer!==void 0){Zo(t.daysContainer),t.weekNumbers&&Zo(t.weekNumbers);for(var y=document.createDocumentFragment(),v=0;v<t.config.showMonths;v++){var O=new Date(t.currentYear,t.currentMonth,1);O.setMonth(t.currentMonth+v),y.appendChild(D(O.getFullYear(),O.getMonth()))}t.daysContainer.appendChild(y),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&I()}}function T(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var y=function(F){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&F<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&F>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var v=0;v<12;v++)if(y(v)){var O=Fe("option","flatpickr-monthDropdown-month");O.value=new Date(t.currentYear,v).getMonth().toString(),O.textContent=xa(v,t.config.shorthandCurrentMonth,t.l10n),O.tabIndex=-1,t.currentMonth===v&&(O.selected=!0),t.monthsDropdownContainer.appendChild(O)}}}function Be(){var y=Fe("div","flatpickr-month"),v=window.document.createDocumentFragment(),O;t.config.showMonths>1||t.config.monthSelectorType==="static"?O=Fe("span","cur-month"):(t.monthsDropdownContainer=Fe("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),A(t.monthsDropdownContainer,"change",function(de){var ue=ln(de),Te=parseInt(ue.value,10);t.changeMonth(Te-t.currentMonth),Se("onMonthChange")}),T(),O=t.monthsDropdownContainer);var F=ea("cur-year",{tabindex:"-1"}),G=F.getElementsByTagName("input")[0];G.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&G.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(G.setAttribute("max",t.config.maxDate.getFullYear().toString()),G.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var se=Fe("div","flatpickr-current-month");return se.appendChild(O),se.appendChild(F),v.appendChild(se),y.appendChild(v),{container:y,yearElement:G,monthElement:O}}function et(){Zo(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var y=t.config.showMonths;y--;){var v=Be();t.yearElements.push(v.yearElement),t.monthElements.push(v.monthElement),t.monthNav.appendChild(v.container)}t.monthNav.appendChild(t.nextMonthNav)}function We(){return t.monthNav=Fe("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Fe("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Fe("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,et(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(y){t.__hidePrevMonthArrow!==y&&($t(t.prevMonthNav,"flatpickr-disabled",y),t.__hidePrevMonthArrow=y)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(y){t.__hideNextMonthArrow!==y&&($t(t.nextMonthNav,"flatpickr-disabled",y),t.__hideNextMonthArrow=y)}}),t.currentYearElement=t.yearElements[0],jr(),t.monthNav}function Pe(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var y=dc(t.config);t.timeContainer=Fe("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var v=Fe("span","flatpickr-time-separator",":"),O=ea("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=O.getElementsByTagName("input")[0];var F=ea("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=F.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?y.hours:f(y.hours)),t.minuteElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():y.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(O),t.timeContainer.appendChild(v),t.timeContainer.appendChild(F),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var G=ea("flatpickr-second");t.secondElement=G.getElementsByTagName("input")[0],t.secondElement.value=en(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():y.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Fe("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(G)}return t.config.time_24hr||(t.amPM=Fe("span","flatpickr-am-pm",t.l10n.amPM[pn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Re(){t.weekdayContainer?Zo(t.weekdayContainer):t.weekdayContainer=Fe("div","flatpickr-weekdays");for(var y=t.config.showMonths;y--;){var v=Fe("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(v)}return bt(),t.weekdayContainer}function bt(){if(t.weekdayContainer){var y=t.l10n.firstDayOfWeek,v=Ad(t.l10n.weekdays.shorthand);y>0&&y<v.length&&(v=Ad(v.splice(y,v.length),v.splice(0,y)));for(var O=t.config.showMonths;O--;)t.weekdayContainer.children[O].innerHTML=`
      <span class='flatpickr-weekday'>
        `+v.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function on(){t.calendarContainer.classList.add("hasWeeks");var y=Fe("div","flatpickr-weekwrapper");y.appendChild(Fe("span","flatpickr-weekday",t.l10n.weekAbbreviation));var v=Fe("div","flatpickr-weeks");return y.appendChild(v),{weekWrapper:y,weekNumbers:v}}function At(y,v){v===void 0&&(v=!0);var O=v?y:y-t.currentMonth;O<0&&t._hidePrevMonthArrow===!0||O>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=O,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Se("onYearChange"),T()),C(),Se("onMonthChange"),jr())}function Ge(y,v){if(y===void 0&&(y=!0),v===void 0&&(v=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,v===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var O=dc(t.config),F=O.hours,G=O.minutes,se=O.seconds;_(F,G,se)}t.redraw(),y&&Se("onChange")}function Ye(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Se("onClose")}function An(){t.config!==void 0&&Se("onDestroy");for(var y=t._handlers.length;y--;)t._handlers[y].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var v=t.calendarContainer.parentNode;if(v.lastChild&&v.removeChild(v.lastChild),v.parentNode){for(;v.firstChild;)v.parentNode.insertBefore(v.firstChild,v);v.parentNode.removeChild(v)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(O){try{delete t[O]}catch{}})}function Ct(y){return t.calendarContainer.contains(y)}function gt(y){if(t.isOpen&&!t.config.inline){var v=ln(y),O=Ct(v),F=v===t.input||v===t.altInput||t.element.contains(v)||y.path&&y.path.indexOf&&(~y.path.indexOf(t.input)||~y.path.indexOf(t.altInput)),G=!F&&!O&&!Ct(y.relatedTarget),se=!t.config.ignoredFocusElements.some(function(de){return de.contains(v)});G&&se&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&c(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function j(y){if(!(!y||t.config.minDate&&y<t.config.minDate.getFullYear()||t.config.maxDate&&y>t.config.maxDate.getFullYear())){var v=y,O=t.currentYear!==v;t.currentYear=v||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),O&&(t.redraw(),Se("onYearChange"),T())}}function ie(y,v){var O;v===void 0&&(v=!0);var F=t.parseDate(y,void 0,v);if(t.config.minDate&&F&&cn(F,t.config.minDate,v!==void 0?v:!t.minDateHasTime)<0||t.config.maxDate&&F&&cn(F,t.config.maxDate,v!==void 0?v:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(F===void 0)return!1;for(var G=!!t.config.enable,se=(O=t.config.enable)!==null&&O!==void 0?O:t.config.disable,de=0,ue=void 0;de<se.length;de++){if(ue=se[de],typeof ue=="function"&&ue(F))return G;if(ue instanceof Date&&F!==void 0&&ue.getTime()===F.getTime())return G;if(typeof ue=="string"){var Te=t.parseDate(ue,void 0,!0);return Te&&Te.getTime()===F.getTime()?G:!G}else if(typeof ue=="object"&&F!==void 0&&ue.from&&ue.to&&F.getTime()>=ue.from.getTime()&&F.getTime()<=ue.to.getTime())return G}return!G}function te(y){return t.daysContainer!==void 0?y.className.indexOf("hidden")===-1&&y.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(y):!1}function ce(y){var v=y.target===t._input,O=t._input.value.trimEnd()!==gi();v&&O&&!(y.relatedTarget&&Ct(y.relatedTarget))&&t.setDate(t._input.value,!0,y.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Oe(y){var v=ln(y),O=t.config.wrap?n.contains(v):v===t._input,F=t.config.allowInput,G=t.isOpen&&(!F||!O),se=t.config.inline&&O&&!F;if(y.keyCode===13&&O){if(F)return t.setDate(t._input.value,!0,v===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),v.blur();t.open()}else if(Ct(v)||G||se){var de=!!t.timeContainer&&t.timeContainer.contains(v);switch(y.keyCode){case 13:de?(y.preventDefault(),c(),ee()):he(y);break;case 27:y.preventDefault(),ee();break;case 8:case 46:O&&!t.config.allowInput&&(y.preventDefault(),t.clear());break;case 37:case 39:if(!de&&!O){y.preventDefault();var ue=s();if(t.daysContainer!==void 0&&(F===!1||ue&&te(ue))){var Te=y.keyCode===39?1:-1;y.ctrlKey?(y.stopPropagation(),At(Te),S(w(1),0)):S(void 0,Te)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:y.preventDefault();var ae=y.keyCode===40?1:-1;t.daysContainer&&v.$i!==void 0||v===t.input||v===t.altInput?y.ctrlKey?(y.stopPropagation(),j(t.currentYear-ae),S(w(1),0)):de||S(void 0,ae*7):v===t.currentYearElement?j(t.currentYear-ae):t.config.enableTime&&(!de&&t.hourElement&&t.hourElement.focus(),c(y),t._debouncedChange());break;case 9:if(de){var _e=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Ht){return Ht}),$e=_e.indexOf(v);if($e!==-1){var vt=_e[$e+(y.shiftKey?-1:1)];y.preventDefault(),(vt||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(v)&&y.shiftKey&&(y.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&v===t.amPM)switch(y.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),jt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),jt();break}(O||Ct(v))&&Se("onKeyDown",y)}function I(y,v){if(v===void 0&&(v="flatpickr-day"),!(t.selectedDates.length!==1||y&&(!y.classList.contains(v)||y.classList.contains("flatpickr-disabled")))){for(var O=y?y.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),F=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),G=Math.min(O,t.selectedDates[0].getTime()),se=Math.max(O,t.selectedDates[0].getTime()),de=!1,ue=0,Te=0,ae=G;ae<se;ae+=Ob.DAY)ie(new Date(ae),!0)||(de=de||ae>G&&ae<se,ae<F&&(!ue||ae>ue)?ue=ae:ae>F&&(!Te||ae<Te)&&(Te=ae));var _e=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+v));_e.forEach(function($e){var vt=$e.dateObj,Ht=vt.getTime(),Hr=ue>0&&Ht<ue||Te>0&&Ht>Te;if(Hr){$e.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(gn){$e.classList.remove(gn)});return}else if(de&&!Hr)return;["startRange","inRange","endRange","notAllowed"].forEach(function(gn){$e.classList.remove(gn)}),y!==void 0&&(y.classList.add(O<=t.selectedDates[0].getTime()?"startRange":"endRange"),F<O&&Ht===F?$e.classList.add("startRange"):F>O&&Ht===F&&$e.classList.add("endRange"),Ht>=ue&&(Te===0||Ht<=Te)&&Db(Ht,F,O)&&$e.classList.add("inRange"))})}}function b(){t.isOpen&&!t.config.static&&!t.config.inline&&Y()}function M(y,v){if(v===void 0&&(v=t._positionElement),t.isMobile===!0){if(y){y.preventDefault();var O=ln(y);O&&O.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Se("onOpen");return}else if(t._input.disabled||t.config.inline)return;var F=t.isOpen;t.isOpen=!0,F||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Se("onOpen"),Y(v)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(y===void 0||!t.timeContainer.contains(y.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function H(y){return function(v){var O=t.config["_"+y+"Date"]=t.parseDate(v,t.config.dateFormat),F=t.config["_"+(y==="min"?"max":"min")+"Date"];O!==void 0&&(t[y==="min"?"minDateHasTime":"maxDateHasTime"]=O.getHours()>0||O.getMinutes()>0||O.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(G){return ie(G)}),!t.selectedDates.length&&y==="min"&&m(O),jt()),t.daysContainer&&(fe(),O!==void 0?t.currentYearElement[y]=O.getFullYear().toString():t.currentYearElement.removeAttribute(y),t.currentYearElement.disabled=!!F&&O!==void 0&&F.getFullYear()===O.getFullYear())}}function z(){var y=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],v=kt(kt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),O={};t.config.parseDate=v.parseDate,t.config.formatDate=v.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(_e){t.config._enable=st(_e)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(_e){t.config._disable=st(_e)}});var F=v.mode==="time";if(!v.dateFormat&&(v.enableTime||F)){var G=lt.defaultConfig.dateFormat||Vi.dateFormat;O.dateFormat=v.noCalendar||F?"H:i"+(v.enableSeconds?":S":""):G+" H:i"+(v.enableSeconds?":S":"")}if(v.altInput&&(v.enableTime||F)&&!v.altFormat){var se=lt.defaultConfig.altFormat||Vi.altFormat;O.altFormat=v.noCalendar||F?"h:i"+(v.enableSeconds?":S K":" K"):se+(" h:i"+(v.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:H("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:H("max")});var de=function(_e){return function($e){t.config[_e==="min"?"_minTime":"_maxTime"]=t.parseDate($e,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:de("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:de("max")}),v.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,O,v);for(var ue=0;ue<y.length;ue++)t.config[y[ue]]=t.config[y[ue]]===!0||t.config[y[ue]]==="true";cc.filter(function(_e){return t.config[_e]!==void 0}).forEach(function(_e){t.config[_e]=uc(t.config[_e]||[]).map(o)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ue=0;ue<t.config.plugins.length;ue++){var Te=t.config.plugins[ue](t)||{};for(var ae in Te)cc.indexOf(ae)>-1?t.config[ae]=uc(Te[ae]).map(o).concat(t.config[ae]):typeof v[ae]>"u"&&(t.config[ae]=Te[ae])}v.altInputClass||(t.config.altInputClass=q().className+" "+t.config.altInputClass),Se("onParseConfig")}function q(){return t.config.wrap?n.querySelector("[data-input]"):n}function ne(){typeof t.config.locale!="object"&&typeof lt.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=kt(kt({},lt.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?lt.l10ns[t.config.locale]:void 0),ei.D="("+t.l10n.weekdays.shorthand.join("|")+")",ei.l="("+t.l10n.weekdays.longhand.join("|")+")",ei.M="("+t.l10n.months.shorthand.join("|")+")",ei.F="("+t.l10n.months.longhand.join("|")+")",ei.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var y=kt(kt({},e),JSON.parse(JSON.stringify(n.dataset||{})));y.time_24hr===void 0&&lt.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Zg(t),t.parseDate=Zc({config:t.config,l10n:t.l10n})}function Y(y){if(typeof t.config.position=="function")return void t.config.position(t,y);if(t.calendarContainer!==void 0){Se("onPreCalendarPosition");var v=y||t._positionElement,O=Array.prototype.reduce.call(t.calendarContainer.children,function(xo,Vo){return xo+Vo.offsetHeight},0),F=t.calendarContainer.offsetWidth,G=t.config.position.split(" "),se=G[0],de=G.length>1?G[1]:null,ue=v.getBoundingClientRect(),Te=window.innerHeight-ue.bottom,ae=se==="above"||se!=="below"&&Te<O&&ue.top>O,_e=window.pageYOffset+ue.top+(ae?-O-2:v.offsetHeight+2);if($t(t.calendarContainer,"arrowTop",!ae),$t(t.calendarContainer,"arrowBottom",ae),!t.config.inline){var $e=window.pageXOffset+ue.left,vt=!1,Ht=!1;de==="center"?($e-=(F-ue.width)/2,vt=!0):de==="right"&&($e-=F-ue.width,Ht=!0),$t(t.calendarContainer,"arrowLeft",!vt&&!Ht),$t(t.calendarContainer,"arrowCenter",vt),$t(t.calendarContainer,"arrowRight",Ht);var Hr=window.document.body.offsetWidth-(window.pageXOffset+ue.right),gn=$e+F>window.document.body.offsetWidth,Oo=Hr+F>window.document.body.offsetWidth;if($t(t.calendarContainer,"rightMost",gn),!t.config.static)if(t.calendarContainer.style.top=_e+"px",!gn)t.calendarContainer.style.left=$e+"px",t.calendarContainer.style.right="auto";else if(!Oo)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Hr+"px";else{var $r=Q();if($r===void 0)return;var yi=window.document.body.offsetWidth,Sn=Math.max(0,yi/2-F/2),Mo=".flatpickr-calendar.centerMost:before",No=".flatpickr-calendar.centerMost:after",fs=$r.cssRules.length,ds="{left:"+ue.left+"px;right:auto;}";$t(t.calendarContainer,"rightMost",!1),$t(t.calendarContainer,"centerMost",!0),$r.insertRule(Mo+","+No+ds,fs),t.calendarContainer.style.left=Sn+"px",t.calendarContainer.style.right="auto"}}}}function Q(){for(var y=null,v=0;v<document.styleSheets.length;v++){var O=document.styleSheets[v];if(O.cssRules){try{O.cssRules}catch{continue}y=O;break}}return y??W()}function W(){var y=document.createElement("style");return document.head.appendChild(y),y.sheet}function fe(){t.config.noCalendar||t.isMobile||(T(),jr(),C())}function ee(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function he(y){y.preventDefault(),y.stopPropagation();var v=function(_e){return _e.classList&&_e.classList.contains("flatpickr-day")&&!_e.classList.contains("flatpickr-disabled")&&!_e.classList.contains("notAllowed")},O=Xg(ln(y),v);if(O!==void 0){var F=O,G=t.latestSelectedDateObj=new Date(F.dateObj.getTime()),se=(G.getMonth()<t.currentMonth||G.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=F,t.config.mode==="single")t.selectedDates=[G];else if(t.config.mode==="multiple"){var de=or(G);de?t.selectedDates.splice(parseInt(de),1):t.selectedDates.push(G)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=G,t.selectedDates.push(G),cn(G,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(_e,$e){return _e.getTime()-$e.getTime()}));if(p(),se){var ue=t.currentYear!==G.getFullYear();t.currentYear=G.getFullYear(),t.currentMonth=G.getMonth(),ue&&(Se("onYearChange"),T()),Se("onMonthChange")}if(jr(),C(),jt(),!se&&t.config.mode!=="range"&&t.config.showMonths===1?R(F):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Te=t.config.mode==="single"&&!t.config.enableTime,ae=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Te||ae)&&ee()}k()}}var me={locale:[ne,bt],showMonths:[et,l,Re],minDate:[B],maxDate:[B],positionElement:[dt],clickOpens:[function(){t.config.clickOpens===!0?(A(t._input,"focus",t.open),A(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function ge(y,v){if(y!==null&&typeof y=="object"){Object.assign(t.config,y);for(var O in y)me[O]!==void 0&&me[O].forEach(function(F){return F()})}else t.config[y]=v,me[y]!==void 0?me[y].forEach(function(F){return F()}):cc.indexOf(y)>-1&&(t.config[y]=uc(v));t.redraw(),jt(!0)}function we(y,v){var O=[];if(y instanceof Array)O=y.map(function(F){return t.parseDate(F,v)});else if(y instanceof Date||typeof y=="number")O=[t.parseDate(y,v)];else if(typeof y=="string")switch(t.config.mode){case"single":case"time":O=[t.parseDate(y,v)];break;case"multiple":O=y.split(t.config.conjunction).map(function(F){return t.parseDate(F,v)});break;case"range":O=y.split(t.l10n.rangeSeparator).map(function(F){return t.parseDate(F,v)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(y)));t.selectedDates=t.config.allowInvalidPreload?O:O.filter(function(F){return F instanceof Date&&ie(F,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(F,G){return F.getTime()-G.getTime()})}function De(y,v,O){if(v===void 0&&(v=!1),O===void 0&&(O=t.config.dateFormat),y!==0&&!y||y instanceof Array&&y.length===0)return t.clear(v);we(y,O),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),B(void 0,v),m(),t.selectedDates.length===0&&t.clear(!1),jt(v),v&&Se("onChange")}function st(y){return y.slice().map(function(v){return typeof v=="string"||typeof v=="number"||v instanceof Date?t.parseDate(v,void 0,!0):v&&typeof v=="object"&&v.from&&v.to?{from:t.parseDate(v.from,void 0),to:t.parseDate(v.to,void 0)}:v}).filter(function(v){return v})}function ft(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var y=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);y&&we(y,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Jt(){if(t.input=q(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Fe(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),dt()}function dt(){t._positionElement=t.config.positionElement||t._input}function Cn(){var y=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Fe("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=y,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=y==="datetime-local"?"Y-m-d\\TH:i:S":y==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}A(t.mobileInput,"change",function(v){t.setDate(ln(v).value,!1,t.mobileFormatStr),Se("onChange"),Se("onClose")})}function Br(y){if(t.isOpen===!0)return t.close();t.open(y)}function Se(y,v){if(t.config!==void 0){var O=t.config[y];if(O!==void 0&&O.length>0)for(var F=0;O[F]&&F<O.length;F++)O[F](t.selectedDates,t.input.value,t,v);y==="onChange"&&(t.input.dispatchEvent(St("change")),t.input.dispatchEvent(St("input")))}}function St(y){var v=document.createEvent("Event");return v.initEvent(y,!0,!0),v}function or(y){for(var v=0;v<t.selectedDates.length;v++){var O=t.selectedDates[v];if(O instanceof Date&&cn(O,y)===0)return""+v}return!1}function cs(y){return t.config.mode!=="range"||t.selectedDates.length<2?!1:cn(y,t.selectedDates[0])>=0&&cn(y,t.selectedDates[1])<=0}function jr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(y,v){var O=new Date(t.currentYear,t.currentMonth,1);O.setMonth(t.currentMonth+v),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[v].textContent=xa(O.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=O.getMonth().toString(),y.value=O.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function gi(y){var v=y||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(O){return t.formatDate(O,v)}).filter(function(O,F,G){return t.config.mode!=="range"||t.config.enableTime||G.indexOf(O)===F}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function jt(y){y===void 0&&(y=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=gi(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=gi(t.config.altFormat)),y!==!1&&Se("onValueUpdate")}function us(y){var v=ln(y),O=t.prevMonthNav.contains(v),F=t.nextMonthNav.contains(v);O||F?At(O?-1:1):t.yearElements.indexOf(v)>=0?v.select():v.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):v.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function hs(y){y.preventDefault();var v=y.type==="keydown",O=ln(y),F=O;t.amPM!==void 0&&O===t.amPM&&(t.amPM.textContent=t.l10n.amPM[pn(t.amPM.textContent===t.l10n.amPM[0])]);var G=parseFloat(F.getAttribute("min")),se=parseFloat(F.getAttribute("max")),de=parseFloat(F.getAttribute("step")),ue=parseInt(F.value,10),Te=y.delta||(v?y.which===38?1:-1:0),ae=ue+de*Te;if(typeof F.value<"u"&&F.value.length===2){var _e=F===t.hourElement,$e=F===t.minuteElement;ae<G?(ae=se+ae+pn(!_e)+(pn(_e)&&pn(!t.amPM)),$e&&x(void 0,-1,t.hourElement)):ae>se&&(ae=F===t.hourElement?ae-se-pn(!t.amPM):G,$e&&x(void 0,1,t.hourElement)),t.amPM&&_e&&(de===1?ae+ue===23:Math.abs(ae-ue)>de)&&(t.amPM.textContent=t.l10n.amPM[pn(t.amPM.textContent===t.l10n.amPM[0])]),F.value=en(ae)}}return i(),t}function Li(n,e){for(var t=Array.prototype.slice.call(n).filter(function(o){return o instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var s=t[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Nb(s,e||{}),r.push(s._flatpickr)}catch(o){console.error(o)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Li(this,n)},HTMLElement.prototype.flatpickr=function(n){return Li([this],n)});var lt=function(n,e){return typeof n=="string"?Li(window.document.querySelectorAll(n),e):n instanceof Node?Li([n],e):Li(n,e)};lt.defaultConfig={};lt.l10ns={en:kt({},co),default:kt({},co)};lt.localize=function(n){lt.l10ns.default=kt(kt({},lt.l10ns.default),n)};lt.setDefaults=function(n){lt.defaultConfig=kt(kt({},lt.defaultConfig),n)};lt.parseDate=Zc({});lt.formatDate=Zg({});lt.compareDates=cn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Li(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=lt);const xb=()=>{};var Cd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Vb=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],l=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,l=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|u>>6,_=u&63;c||(_=64,o||(m=64)),r.push(t[f],t[p],t[m],t[_])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ey(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Vb(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],l=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||l==null||u==null||p==null)throw new Lb;const m=s<<2|l>>4;if(r.push(m),u!==64){const _=l<<4&240|u>>2;if(r.push(_),p!==64){const P=u<<6&192|p;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fb=function(n){const e=ey(n);return ty.encodeByteArray(e,!0)},Va=function(n){return Fb(n).replace(/\./g,"")},ny=function(n){try{return ty.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=()=>Ub().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof Cd>"u")return;const n=Cd.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Hb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ny(n[1]);return e&&JSON.parse(e)},_l=()=>{try{return xb()||Bb()||jb()||Hb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ry=n=>_l()?.emulatorHosts?.[n],$b=n=>{const e=ry(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iy=()=>_l()?.config,sy=n=>_l()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Va(JSON.stringify(t)),Va(JSON.stringify(o)),""].join(".")}const Ws={};function Kb(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ws))Ws[e]?n.emulator.push(e):n.prod.push(e);return n}function Wb(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Sd=!1;function ay(n,e){if(typeof window>"u"||typeof document>"u"||!rs(window.location.host)||Ws[n]===e||Ws[n]||Sd)return;Ws[n]=e;function t(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=Kb().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Sd=!0,o()},m}function f(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=Wb(r),_=t("text"),P=document.getElementById(_)||document.createElement("span"),A=t("learnmore"),k=document.getElementById(A)||document.createElement("a"),$=t("preprendIcon"),B=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const U=m.element;l(U),f(k,A);const x=u();c(B,$),U.append(B,P,k,x),document.body.appendChild(U)}s?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function Yb(){const n=_l()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Qb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const n=Bt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eA(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class sr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=rA,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,To.prototype.create)}}class To{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iA(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new sr(i,l,r)}}function iA(n,e){return n.replace(sA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sA=/\{\$([^}]+)}/g;function oA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ui(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Rd(s)&&Rd(o)){if(!ui(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Rd(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aA(n,e){const t=new lA(n,e);return t.subscribe.bind(t)}class lA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=pc),i.error===void 0&&(i.error=pc),i.complete===void 0&&(i.complete=pc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function pc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(n){return n&&n._delegate?n._delegate:n}class hi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new qb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(n){return n===Xr?void 0:n}function fA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const pA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},mA=ke.INFO,gA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},yA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=gA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xu{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const _A=(n,e)=>e.some(t=>n instanceof t);let Pd,Dd;function vA(){return Pd||(Pd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return Dd||(Dd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ly=new WeakMap,eu=new WeakMap,cy=new WeakMap,mc=new WeakMap,Zu=new WeakMap;function wA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ir(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ly.set(t,n)}).catch(()=>{}),Zu.set(e,n),e}function TA(n){if(eu.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});eu.set(n,e)}let tu={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eu.get(n);if(e==="objectStoreNames")return n.objectStoreNames||cy.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ir(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IA(n){tu=n(tu)}function bA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(gc(this),e,...t);return cy.set(r,e.sort?e.sort():[e]),Ir(r)}:EA().includes(n)?function(...e){return n.apply(gc(this),e),Ir(ly.get(this))}:function(...e){return Ir(n.apply(gc(this),e))}}function AA(n){return typeof n=="function"?bA(n):(n instanceof IDBTransaction&&TA(n),_A(n,vA())?new Proxy(n,tu):n)}function Ir(n){if(n instanceof IDBRequest)return wA(n);if(mc.has(n))return mc.get(n);const e=AA(n);return e!==n&&(mc.set(n,e),Zu.set(e,n)),e}const gc=n=>Zu.get(n);function CA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),l=Ir(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ir(o.result),c.oldVersion,c.newVersion,Ir(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const SA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],yc=new Map;function kd(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(yc.get(e))return yc.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=RA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||SA.includes(t)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[t](...l),i&&c.done]))[0]};return yc.set(e,s),s}IA(n=>({...n,get:(e,t,r)=>kd(e,t)||n.get(e,t,r),has:(e,t)=>!!kd(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function DA(n){return n.getComponent()?.type==="VERSION"}const nu="@firebase/app",Od="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Xu("@firebase/app"),kA="@firebase/app-compat",OA="@firebase/analytics-compat",MA="@firebase/analytics",NA="@firebase/app-check-compat",xA="@firebase/app-check",VA="@firebase/auth",LA="@firebase/auth-compat",FA="@firebase/database",UA="@firebase/data-connect",BA="@firebase/database-compat",jA="@firebase/functions",HA="@firebase/functions-compat",$A="@firebase/installations",qA="@firebase/installations-compat",zA="@firebase/messaging",KA="@firebase/messaging-compat",WA="@firebase/performance",GA="@firebase/performance-compat",YA="@firebase/remote-config",QA="@firebase/remote-config-compat",JA="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",e0="@firebase/ai",t0="@firebase/firestore-compat",n0="firebase",r0="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="[DEFAULT]",i0={[nu]:"fire-core",[kA]:"fire-core-compat",[MA]:"fire-analytics",[OA]:"fire-analytics-compat",[xA]:"fire-app-check",[NA]:"fire-app-check-compat",[VA]:"fire-auth",[LA]:"fire-auth-compat",[FA]:"fire-rtdb",[UA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[jA]:"fire-fn",[HA]:"fire-fn-compat",[$A]:"fire-iid",[qA]:"fire-iid-compat",[zA]:"fire-fcm",[KA]:"fire-fcm-compat",[WA]:"fire-perf",[GA]:"fire-perf-compat",[YA]:"fire-rc",[QA]:"fire-rc-compat",[JA]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[t0]:"fire-fst-compat",[e0]:"fire-vertex","fire-js":"fire-js",[n0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map,s0=new Map,iu=new Map;function Md(n,e){try{n.container.addComponent(e)}catch(t){er.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Wi(n){const e=n.name;if(iu.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;iu.set(e,n);for(const t of La.values())Md(t,n);for(const t of s0.values())Md(t,n);return!0}function eh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new To("app","Firebase",o0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=r0;function uy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ru,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw br.create("bad-app-name",{appName:String(i)});if(t||(t=iy()),!t)throw br.create("no-options");const s=La.get(i);if(s){if(ui(t,s.options)&&ui(r,s.config))return s;throw br.create("duplicate-app",{appName:i})}const o=new dA(i);for(const c of iu.values())o.addComponent(c);const l=new a0(t,r,o);return La.set(i,l),l}function hy(n=ru){const e=La.get(n);if(!e&&n===ru&&iy())return uy();if(!e)throw br.create("no-app",{appName:n});return e}function Ar(n,e,t){let r=i0[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(o.join(" "));return}Wi(new hi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="firebase-heartbeat-database",c0=1,uo="firebase-heartbeat-store";let _c=null;function fy(){return _c||(_c=CA(l0,c0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(uo)}catch(t){console.warn(t)}}}}).catch(n=>{throw br.create("idb-open",{originalErrorMessage:n.message})})),_c}async function u0(n){try{const t=(await fy()).transaction(uo),r=await t.objectStore(uo).get(dy(n));return await t.done,r}catch(e){if(e instanceof sr)er.warn(e.message);else{const t=br.create("idb-get",{originalErrorMessage:e?.message});er.warn(t.message)}}}async function Nd(n,e){try{const r=(await fy()).transaction(uo,"readwrite");await r.objectStore(uo).put(e,dy(n)),await r.done}catch(t){if(t instanceof sr)er.warn(t.message);else{const r=br.create("idb-set",{originalErrorMessage:t?.message});er.warn(r.message)}}}function dy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=1024,f0=30;class d0{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new m0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xd();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>f0){const i=g0(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xd(),{heartbeatsToSend:t,unsentEntries:r}=p0(this._heartbeatsCache.heartbeats),i=Va(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return er.warn(e),""}}}function xd(){return new Date().toISOString().substring(0,10)}function p0(n,e=h0){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Vd(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Vd(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class m0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u0(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nd(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nd(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Vd(n){return Va(JSON.stringify({version:2,heartbeats:n})).length}function g0(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){Wi(new hi("platform-logger",e=>new PA(e),"PRIVATE")),Wi(new hi("heartbeat",e=>new d0(e),"PRIVATE")),Ar(nu,Od,n),Ar(nu,Od,"esm2020"),Ar("fire-js","")}y0("");function py(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _0=py,my=new To("auth","Firebase",py());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new Xu("@firebase/auth");function v0(n,...e){Fa.logLevel<=ke.WARN&&Fa.warn(`Auth (${is}): ${n}`,...e)}function ma(n,...e){Fa.logLevel<=ke.ERROR&&Fa.error(`Auth (${is}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw th(n,...e)}function Ln(n,...e){return th(n,...e)}function gy(n,e,t){const r={..._0(),[e]:t};return new To("auth","Firebase",r).create(e,{appName:n.name})}function Cr(n){return gy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function th(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return my.create(n,...e)}function Ee(n,e,...t){if(!n)throw th(e,...t)}function Qn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ma(e),new Error(e)}function nr(n,e){n||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(){return typeof self<"u"&&self.location?.href||""}function E0(){return Ld()==="http:"||Ld()==="https:"}function Ld(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E0()||Jb()||"connection"in navigator)?navigator.onLine:!0}function T0(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t){this.shortDelay=e,this.longDelay=t,nr(t>e,"Short delay should be less than long delay!"),this.isMobile=Gb()||Xb()}get(){return w0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(n,e){nr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A0=new bo(3e4,6e4);function vl(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ss(n,e,t,r,i={}){return _y(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Io({key:n.config.apiKey,...o}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u={method:e,headers:c,...s};return Qb()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&rs(n.emulatorConfig.host)&&(u.credentials="include"),yy.fetch()(await Ey(n,n.config.apiHost,t,l),u)})}async function _y(n,e,t){n._canInitEmulator=!1;const r={...I0,...e};try{const i=new C0(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ta(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ta(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ta(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw ta(n,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gy(n,f,u);tr(n,f)}}catch(i){if(i instanceof sr)throw i;tr(n,"network-request-failed",{message:String(i)})}}async function vy(n,e,t,r,i={}){const s=await ss(n,e,t,r,i);return"mfaPendingCredential"in s&&tr(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ey(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?nh(n.config,i):`${n.config.apiScheme}://${i}`;return b0.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class C0{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ln(this.auth,"network-request-failed")),A0.get())})}}function ta(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ln(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(n,e){return ss(n,"POST","/v1/accounts:delete",e)}async function Ua(n,e){return ss(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R0(n,e=!1){const t=Ur(n),r=await t.getIdToken(e),i=rh(r);Ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Gs(vc(i.auth_time)),issuedAtTime:Gs(vc(i.iat)),expirationTime:Gs(vc(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function vc(n){return Number(n)*1e3}function rh(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ma("JWT malformed, contained fewer than 3 sections"),null;try{const i=ny(t);return i?JSON.parse(i):(ma("Failed to decode base64 JWT payload"),null)}catch(i){return ma("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Fd(n){const e=rh(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof sr&&P0(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function P0({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n){const e=n.auth,t=await n.getIdToken(),r=await ho(n,Ua(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=i.providerUserInfo?.length?wy(i.providerUserInfo):[],o=O0(n.providerData,s),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!o?.length,u=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ou(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,f)}async function k0(n){const e=Ur(n);await Ba(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O0(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wy(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(n,e){const t=await _y(n,{},async()=>{const r=Io({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await Ey(n,i,"/v1/token",`key=${s}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return n.emulatorConfig&&rs(n.emulatorConfig.host)&&(c.credentials="include"),yy.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function N0(n,e){return ss(n,"POST","/v2/accounts:revokeToken",vl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=Fd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await M0(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Fi;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fi,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new D0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ou(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ho(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return R0(this,e)}reload(){return k0(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ba(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await ho(this,S0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,c=t._redirectEventId??void 0,u=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:_,providerData:P,stsTokenManager:A}=t;Ee(p&&A,e,"internal-error");const k=Fi.fromJSON(this.name,A);Ee(typeof p=="string",e,"internal-error"),hr(r,e.name),hr(i,e.name),Ee(typeof m=="boolean",e,"internal-error"),Ee(typeof _=="boolean",e,"internal-error"),hr(s,e.name),hr(o,e.name),hr(l,e.name),hr(c,e.name),hr(u,e.name),hr(f,e.name);const $=new vn({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:_,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:k,createdAt:u,lastLoginAt:f});return P&&Array.isArray(P)&&($.providerData=P.map(B=>({...B}))),c&&($._redirectEventId=c),$}static async _fromIdTokenResponse(e,t,r=!1){const i=new Fi;i.updateFromServerResponse(t);const s=new vn({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ba(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wy(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Fi;l.updateFromIdToken(r);const c=new vn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ou(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map;function Jn(n){nr(n instanceof Function,"Expected a class definition");let e=Ud.get(n);return e?(nr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ud.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ty.type="NONE";const Bd=Ty;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(n,e,t){return`firebase:${n}:${e}:${t}`}class Ui{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ga(this.userKey,i.apiKey,s),this.fullPersistenceKey=ga("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ua(this.auth,{idToken:e}).catch(()=>{});return t?vn._fromGetAccountInfoResponse(this.auth,t,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ui(Jn(Bd),e,r);const i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Jn(Bd);const o=ga(r,e.config.apiKey,e.name);let l=null;for(const u of t)try{const f=await u._get(o);if(f){let p;if(typeof f=="string"){const m=await Ua(e,{idToken:f}).catch(()=>{});if(!m)break;p=await vn._fromGetAccountInfoResponse(e,m,f)}else p=vn._fromJSON(e,f);u!==s&&(l=p),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ui(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ui(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Iy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ry(e))return"Blackberry";if(Py(e))return"Webos";if(by(e))return"Safari";if((e.includes("chrome/")||Ay(e))&&!e.includes("edge/"))return"Chrome";if(Sy(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Iy(n=Bt()){return/firefox\//i.test(n)}function by(n=Bt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ay(n=Bt()){return/crios\//i.test(n)}function Cy(n=Bt()){return/iemobile/i.test(n)}function Sy(n=Bt()){return/android/i.test(n)}function Ry(n=Bt()){return/blackberry/i.test(n)}function Py(n=Bt()){return/webos/i.test(n)}function ih(n=Bt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function x0(n=Bt()){return ih(n)&&!!window.navigator?.standalone}function V0(){return Zb()&&document.documentMode===10}function Dy(n=Bt()){return ih(n)||Sy(n)||Py(n)||Ry(n)||/windows phone/i.test(n)||Cy(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n,e=[]){let t;switch(n){case"Browser":t=jd(Bt());break;case"Worker":t=`${jd(Bt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(n,e={}){return ss(n,"GET","/v2/passwordPolicy",vl(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=6;class B0{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??U0,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hd(this),this.idTokenSubscription=new Hd(this),this.beforeStateQueue=new L0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=my,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jn(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ui.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ua(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_n(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ba(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Cr(this));const t=e?Ur(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F0(this),t=new B0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new To("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await N0(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jn(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Ui.create(this,[Jn(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ky(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&v0(`Error while retrieving App Check token: ${e.error}`),e?.token}}function El(n){return Ur(n)}class Hd{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H0(n){sh=n}function $0(n){return sh.loadJS(n)}function q0(){return sh.gapiScript}function z0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e){const t=eh(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ui(s,e??{}))return i;tr(i,"already-initialized")}return t.initialize({options:e})}function W0(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Jn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function G0(n,e,t){const r=El(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Oy(e),{host:o,port:l}=Y0(e),c=l===null?"":`:${l}`,u={url:`${s}//${o}${c}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(ui(u,r.config.emulator)&&ui(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,rs(o)?(oy(`${s}//${o}${c}`),ay("Auth",!0)):Q0()}function Oy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Y0(n){const e=Oy(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:$d(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:$d(o)}}}function $d(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Q0(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,t){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bi(n,e){return vy(n,"POST","/v1/accounts:signInWithIdp",vl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="http://localhost";class fi extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Bi(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Bi(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bi(e,t)}buildRequest(){const e={requestUri:J0,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Io(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Ny{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Ao{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fi._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return yr.credential(t,r)}catch{return null}}}yr.GOOGLE_SIGN_IN_METHOD="google.com";yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Ao{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Ao{constructor(){super("twitter.com")}static credential(e,t){return fi._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vr.credential(t,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(n,e){return vy(n,"POST","/v1/accounts:signUp",vl(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await vn._fromIdTokenResponse(e,r,i),o=qd(r);return new kr({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=qd(r);return new kr({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function qd(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(n){if(_n(n.app))return Promise.reject(Cr(n));const e=El(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new kr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await X0(e,{returnSecureToken:!0}),r=await kr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends sr{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ja.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ja(e,t,r,i)}}function xy(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ja._fromErrorAndOperation(n,s,e,r):s})}async function eC(n,e,t=!1){const r=await ho(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kr._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(n,e,t=!1){const{auth:r}=n;if(_n(r.app))return Promise.reject(Cr(r));const i="reauthenticate";try{const s=await ho(n,xy(r,i,e,n),t);Ee(s.idToken,r,"internal-error");const o=rh(s.idToken);Ee(o,r,"internal-error");const{sub:l}=o;return Ee(n.uid===l,r,"user-mismatch"),kr._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(n,e,t=!1){if(_n(n.app))return Promise.reject(Cr(n));const r="signIn",i=await xy(n,r,e),s=await kr._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}function rC(n,e,t,r){return Ur(n).onIdTokenChanged(e,t,r)}function iC(n,e,t){return Ur(n).beforeAuthStateChanged(e,t)}const Ha="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ha,"1"),this.storage.removeItem(Ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1e3,oC=10;class Ly extends Vy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);V0()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oC):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ly.type="LOCAL";const aC=Ly;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Vy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Fy.type="SESSION";const Uy=Fy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new wl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(t.origin,s)),c=await lC(l);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=oh("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function uC(n){Fn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function hC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fC(){return navigator?.serviceWorker?.controller||null}function dC(){return By()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="firebaseLocalStorageDb",pC=1,$a="firebaseLocalStorage",Hy="fbase_key";class Co{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tl(n,e){return n.transaction([$a],e?"readwrite":"readonly").objectStore($a)}function mC(){const n=indexedDB.deleteDatabase(jy);return new Co(n).toPromise()}function au(){const n=indexedDB.open(jy,pC);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($a,{keyPath:Hy})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($a)?e(r):(r.close(),await mC(),e(await au()))})})}async function zd(n,e,t){const r=Tl(n,!0).put({[Hy]:e,value:t});return new Co(r).toPromise()}async function gC(n,e){const t=Tl(n,!1).get(e),r=await new Co(t).toPromise();return r===void 0?null:r.value}function Kd(n,e){const t=Tl(n,!0).delete(e);return new Co(t).toPromise()}const yC=800,_C=3;class $y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await au(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_C)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return By()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wl._getInstance(dC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hC(),!this.activeServiceWorker)return;this.sender=new cC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await au();return await zd(e,Ha,"1"),await Kd(e,Ha),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zd(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>gC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Kd(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Tl(i,!1).getAll();return new Co(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$y.type="LOCAL";const vC=$y;new bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(n,e){return e?Jn(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wC(n){return nC(n.auth,new ah(n),n.bypassAuthState)}function TC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),tC(t,new ah(n),n.bypassAuthState)}async function IC(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),eC(t,new ah(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return IC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:tr(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new bo(2e3,1e4);class Pi extends qy{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=oh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bC.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="pendingRedirect",ya=new Map;class CC extends qy{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ya.get(this.auth._key());if(!e){try{const r=await SC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ya.set(this.auth._key(),e)}return this.bypassAuthState||ya.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SC(n,e){const t=DC(e),r=PC(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function RC(n,e){ya.set(n._key(),e)}function PC(n){return Jn(n._redirectPersistence)}function DC(n){return ga(AC,n.config.apiKey,n.name)}async function kC(n,e,t=!1){if(_n(n.app))return Promise.reject(Cr(n));const r=El(n),i=EC(r,e),o=await new CC(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=10*60*1e3;class MC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zy(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ln(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wd(e))}saveEventToCache(e){this.cachedEventUids.add(Wd(e)),this.lastProcessedEventTime=Date.now()}}function Wd(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zy({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function NC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zy(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(n,e={}){return ss(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LC=/^https?/;async function FC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await xC(n);for(const t of e)try{if(UC(t))return}catch{}tr(n,"unauthorized-domain")}function UC(n){const e=su(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!LC.test(t))return!1;if(VC.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new bo(3e4,6e4);function Gd(){const n=Fn().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jC(n){return new Promise((e,t)=>{function r(){Gd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gd(),t(Ln(n,"network-request-failed"))},timeout:BC.get()})}if(Fn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fn().gapi?.load)r();else{const i=z0("iframefcb");return Fn()[i]=()=>{gapi.load?r():t(Ln(n,"network-request-failed"))},$0(`${q0()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw _a=null,e})}let _a=null;function HC(n){return _a=_a||jC(n),_a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new bo(5e3,15e3),qC="__/auth/iframe",zC="emulator/auth/iframe",KC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GC(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nh(e,zC):`https://${n.config.authDomain}/${qC}`,r={apiKey:e.apiKey,appName:n.name,v:is},i=WC.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Io(r).slice(1)}`}async function YC(n){const e=await HC(n),t=Fn().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:GC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ln(n,"network-request-failed"),l=Fn().setTimeout(()=>{s(o)},$C.get());function c(){Fn().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,XC=600,ZC="_blank",eS="http://localhost";class Yd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tS(n,e,t,r=JC,i=XC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...QC,width:r.toString(),height:i.toString(),top:s,left:o},u=Bt().toLowerCase();t&&(l=Ay(u)?ZC:t),Iy(u)&&(e=e||eS,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[_,P])=>`${m}${_}=${P},`,"");if(x0(u)&&l!=="_self")return nS(e||"",l),new Yd(null);const p=window.open(e||"",l,f);Ee(p,n,"popup-blocked");try{p.focus()}catch{}return new Yd(p)}function nS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="__/auth/handler",iS="emulator/auth/handler",sS=encodeURIComponent("fac");async function Qd(n,e,t,r,i,s){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:is,eventId:i};if(e instanceof Ny){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",oA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Ao){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),u=c?`#${sS}=${encodeURIComponent(c)}`:"";return`${oS(n)}?${Io(l).slice(1)}${u}`}function oS({config:n}){return n.emulator?nh(n,iS):`https://${n.authDomain}/${rS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="webStorageSupport";class aS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uy,this._completeRedirectFn=kC,this._overrideRedirectResult=RC}async _openPopup(e,t,r,i){nr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await Qd(e,t,r,su(),i);return tS(e,s,oh())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Qd(e,t,r,su(),i);return uC(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await YC(e),r=new MC(e);return t.register("authEvent",i=>(Ee(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ec,{type:Ec},i=>{const s=i?.[0]?.[Ec];s!==void 0&&t(!!s),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=FC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Dy()||by()||ih()}}const lS=aS;var Jd="@firebase/auth",Xd="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hS(n){Wi(new hi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ky(n)},u=new j0(r,i,s,c);return W0(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wi(new hi("auth-internal",e=>{const t=El(e.getProvider("auth").getImmediate());return(r=>new cS(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(Jd,Xd,uS(n)),Ar(Jd,Xd,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=5*60,dS=sy("authIdTokenMaxAge")||fS;let Zd=null;const pS=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>dS)return;const i=t?.token;Zd!==i&&(Zd=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mS(n=hy()){const e=eh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=K0(n,{popupRedirectResolver:lS,persistence:[vC,aC,Uy]}),r=sy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=pS(s.toString());iC(t,o,()=>o(t.currentUser)),rC(t,l=>o(l))}}const i=ry("auth");return i&&G0(t,`http://${i}`),t}function gS(){return document.getElementsByTagName("head")?.[0]??document}H0({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ln("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",gS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hS("Browser");var yS="firebase",_S="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(yS,_S,"app");var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,Ky;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function E(){}E.prototype=w.prototype,R.D=w.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(S,D,C){for(var T=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)T[Be-2]=arguments[Be];return w.prototype[D].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,w,E){E||(E=0);var S=Array(16);if(typeof w=="string")for(var D=0;16>D;++D)S[D]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(D=0;16>D;++D)S[D]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=R.g[0],E=R.g[1],D=R.g[2];var C=R.g[3],T=w+(C^E&(D^C))+S[0]+3614090360&4294967295;w=E+(T<<7&4294967295|T>>>25),T=C+(D^w&(E^D))+S[1]+3905402710&4294967295,C=w+(T<<12&4294967295|T>>>20),T=D+(E^C&(w^E))+S[2]+606105819&4294967295,D=C+(T<<17&4294967295|T>>>15),T=E+(w^D&(C^w))+S[3]+3250441966&4294967295,E=D+(T<<22&4294967295|T>>>10),T=w+(C^E&(D^C))+S[4]+4118548399&4294967295,w=E+(T<<7&4294967295|T>>>25),T=C+(D^w&(E^D))+S[5]+1200080426&4294967295,C=w+(T<<12&4294967295|T>>>20),T=D+(E^C&(w^E))+S[6]+2821735955&4294967295,D=C+(T<<17&4294967295|T>>>15),T=E+(w^D&(C^w))+S[7]+4249261313&4294967295,E=D+(T<<22&4294967295|T>>>10),T=w+(C^E&(D^C))+S[8]+1770035416&4294967295,w=E+(T<<7&4294967295|T>>>25),T=C+(D^w&(E^D))+S[9]+2336552879&4294967295,C=w+(T<<12&4294967295|T>>>20),T=D+(E^C&(w^E))+S[10]+4294925233&4294967295,D=C+(T<<17&4294967295|T>>>15),T=E+(w^D&(C^w))+S[11]+2304563134&4294967295,E=D+(T<<22&4294967295|T>>>10),T=w+(C^E&(D^C))+S[12]+1804603682&4294967295,w=E+(T<<7&4294967295|T>>>25),T=C+(D^w&(E^D))+S[13]+4254626195&4294967295,C=w+(T<<12&4294967295|T>>>20),T=D+(E^C&(w^E))+S[14]+2792965006&4294967295,D=C+(T<<17&4294967295|T>>>15),T=E+(w^D&(C^w))+S[15]+1236535329&4294967295,E=D+(T<<22&4294967295|T>>>10),T=w+(D^C&(E^D))+S[1]+4129170786&4294967295,w=E+(T<<5&4294967295|T>>>27),T=C+(E^D&(w^E))+S[6]+3225465664&4294967295,C=w+(T<<9&4294967295|T>>>23),T=D+(w^E&(C^w))+S[11]+643717713&4294967295,D=C+(T<<14&4294967295|T>>>18),T=E+(C^w&(D^C))+S[0]+3921069994&4294967295,E=D+(T<<20&4294967295|T>>>12),T=w+(D^C&(E^D))+S[5]+3593408605&4294967295,w=E+(T<<5&4294967295|T>>>27),T=C+(E^D&(w^E))+S[10]+38016083&4294967295,C=w+(T<<9&4294967295|T>>>23),T=D+(w^E&(C^w))+S[15]+3634488961&4294967295,D=C+(T<<14&4294967295|T>>>18),T=E+(C^w&(D^C))+S[4]+3889429448&4294967295,E=D+(T<<20&4294967295|T>>>12),T=w+(D^C&(E^D))+S[9]+568446438&4294967295,w=E+(T<<5&4294967295|T>>>27),T=C+(E^D&(w^E))+S[14]+3275163606&4294967295,C=w+(T<<9&4294967295|T>>>23),T=D+(w^E&(C^w))+S[3]+4107603335&4294967295,D=C+(T<<14&4294967295|T>>>18),T=E+(C^w&(D^C))+S[8]+1163531501&4294967295,E=D+(T<<20&4294967295|T>>>12),T=w+(D^C&(E^D))+S[13]+2850285829&4294967295,w=E+(T<<5&4294967295|T>>>27),T=C+(E^D&(w^E))+S[2]+4243563512&4294967295,C=w+(T<<9&4294967295|T>>>23),T=D+(w^E&(C^w))+S[7]+1735328473&4294967295,D=C+(T<<14&4294967295|T>>>18),T=E+(C^w&(D^C))+S[12]+2368359562&4294967295,E=D+(T<<20&4294967295|T>>>12),T=w+(E^D^C)+S[5]+4294588738&4294967295,w=E+(T<<4&4294967295|T>>>28),T=C+(w^E^D)+S[8]+2272392833&4294967295,C=w+(T<<11&4294967295|T>>>21),T=D+(C^w^E)+S[11]+1839030562&4294967295,D=C+(T<<16&4294967295|T>>>16),T=E+(D^C^w)+S[14]+4259657740&4294967295,E=D+(T<<23&4294967295|T>>>9),T=w+(E^D^C)+S[1]+2763975236&4294967295,w=E+(T<<4&4294967295|T>>>28),T=C+(w^E^D)+S[4]+1272893353&4294967295,C=w+(T<<11&4294967295|T>>>21),T=D+(C^w^E)+S[7]+4139469664&4294967295,D=C+(T<<16&4294967295|T>>>16),T=E+(D^C^w)+S[10]+3200236656&4294967295,E=D+(T<<23&4294967295|T>>>9),T=w+(E^D^C)+S[13]+681279174&4294967295,w=E+(T<<4&4294967295|T>>>28),T=C+(w^E^D)+S[0]+3936430074&4294967295,C=w+(T<<11&4294967295|T>>>21),T=D+(C^w^E)+S[3]+3572445317&4294967295,D=C+(T<<16&4294967295|T>>>16),T=E+(D^C^w)+S[6]+76029189&4294967295,E=D+(T<<23&4294967295|T>>>9),T=w+(E^D^C)+S[9]+3654602809&4294967295,w=E+(T<<4&4294967295|T>>>28),T=C+(w^E^D)+S[12]+3873151461&4294967295,C=w+(T<<11&4294967295|T>>>21),T=D+(C^w^E)+S[15]+530742520&4294967295,D=C+(T<<16&4294967295|T>>>16),T=E+(D^C^w)+S[2]+3299628645&4294967295,E=D+(T<<23&4294967295|T>>>9),T=w+(D^(E|~C))+S[0]+4096336452&4294967295,w=E+(T<<6&4294967295|T>>>26),T=C+(E^(w|~D))+S[7]+1126891415&4294967295,C=w+(T<<10&4294967295|T>>>22),T=D+(w^(C|~E))+S[14]+2878612391&4294967295,D=C+(T<<15&4294967295|T>>>17),T=E+(C^(D|~w))+S[5]+4237533241&4294967295,E=D+(T<<21&4294967295|T>>>11),T=w+(D^(E|~C))+S[12]+1700485571&4294967295,w=E+(T<<6&4294967295|T>>>26),T=C+(E^(w|~D))+S[3]+2399980690&4294967295,C=w+(T<<10&4294967295|T>>>22),T=D+(w^(C|~E))+S[10]+4293915773&4294967295,D=C+(T<<15&4294967295|T>>>17),T=E+(C^(D|~w))+S[1]+2240044497&4294967295,E=D+(T<<21&4294967295|T>>>11),T=w+(D^(E|~C))+S[8]+1873313359&4294967295,w=E+(T<<6&4294967295|T>>>26),T=C+(E^(w|~D))+S[15]+4264355552&4294967295,C=w+(T<<10&4294967295|T>>>22),T=D+(w^(C|~E))+S[6]+2734768916&4294967295,D=C+(T<<15&4294967295|T>>>17),T=E+(C^(D|~w))+S[13]+1309151649&4294967295,E=D+(T<<21&4294967295|T>>>11),T=w+(D^(E|~C))+S[4]+4149444226&4294967295,w=E+(T<<6&4294967295|T>>>26),T=C+(E^(w|~D))+S[11]+3174756917&4294967295,C=w+(T<<10&4294967295|T>>>22),T=D+(w^(C|~E))+S[2]+718787259&4294967295,D=C+(T<<15&4294967295|T>>>17),T=E+(C^(D|~w))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(D+(T<<21&4294967295|T>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+C&4294967295}r.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var E=w-this.blockSize,S=this.B,D=this.h,C=0;C<w;){if(D==0)for(;C<=E;)i(this,R,C),C+=this.blockSize;if(typeof R=="string"){for(;C<w;)if(S[D++]=R.charCodeAt(C++),D==this.blockSize){i(this,S),D=0;break}}else for(;C<w;)if(S[D++]=R[C++],D==this.blockSize){i(this,S),D=0;break}}this.h=D,this.o+=w},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var E=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=E&255,E/=256;for(this.u(R),R=Array(16),w=E=0;4>w;++w)for(var S=0;32>S;S+=8)R[E++]=this.g[w]>>>S&255;return R};function s(R,w){var E=l;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=w(R)}function o(R,w){this.h=w;for(var E=[],S=!0,D=R.length-1;0<=D;D--){var C=R[D]|0;S&&C==w||(E[D]=C,S=!1)}this.g=E}var l={};function c(R){return-128<=R&&128>R?s(R,function(w){return new o([w|0],0>w?-1:0)}):new o([R|0],0>R?-1:0)}function u(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return k(u(-R));for(var w=[],E=1,S=0;R>=E;S++)w[S]=R/E|0,E*=4294967296;return new o(w,0)}function f(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return k(f(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(w,8)),S=p,D=0;D<R.length;D+=8){var C=Math.min(8,R.length-D),T=parseInt(R.substring(D,D+C),w);8>C?(C=u(Math.pow(w,C)),S=S.j(C).add(u(T))):(S=S.j(E),S=S.add(u(T)))}return S}var p=c(0),m=c(1),_=c(16777216);n=o.prototype,n.m=function(){if(A(this))return-k(this).m();for(var R=0,w=1,E=0;E<this.g.length;E++){var S=this.i(E);R+=(0<=S?S:4294967296+S)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(A(this))return"-"+k(this).toString(R);for(var w=u(Math.pow(R,6)),E=this,S="";;){var D=x(E,w).g;E=$(E,D.j(w));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=D,P(E))return C+S;for(;6>C.length;)C="0"+C;S=C+S}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=$(this,R),A(R)?-1:P(R)?0:1};function k(R){for(var w=R.g.length,E=[],S=0;S<w;S++)E[S]=~R.g[S];return new o(E,~R.h).add(m)}n.abs=function(){return A(this)?k(this):this},n.add=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0,D=0;D<=w;D++){var C=S+(this.i(D)&65535)+(R.i(D)&65535),T=(C>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);S=T>>>16,C&=65535,T&=65535,E[D]=T<<16|C}return new o(E,E[E.length-1]&-2147483648?-1:0)};function $(R,w){return R.add(k(w))}n.j=function(R){if(P(this)||P(R))return p;if(A(this))return A(R)?k(this).j(k(R)):k(k(this).j(R));if(A(R))return k(this.j(k(R)));if(0>this.l(_)&&0>R.l(_))return u(this.m()*R.m());for(var w=this.g.length+R.g.length,E=[],S=0;S<2*w;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var D=0;D<R.g.length;D++){var C=this.i(S)>>>16,T=this.i(S)&65535,Be=R.i(D)>>>16,et=R.i(D)&65535;E[2*S+2*D]+=T*et,B(E,2*S+2*D),E[2*S+2*D+1]+=C*et,B(E,2*S+2*D+1),E[2*S+2*D+1]+=T*Be,B(E,2*S+2*D+1),E[2*S+2*D+2]+=C*Be,B(E,2*S+2*D+2)}for(S=0;S<w;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=w;S<2*w;S++)E[S]=0;return new o(E,0)};function B(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function U(R,w){this.g=R,this.h=w}function x(R,w){if(P(w))throw Error("division by zero");if(P(R))return new U(p,p);if(A(R))return w=x(k(R),w),new U(k(w.g),k(w.h));if(A(w))return w=x(R,k(w)),new U(k(w.g),w.h);if(30<R.g.length){if(A(R)||A(w))throw Error("slowDivide_ only works with positive integers.");for(var E=m,S=w;0>=S.l(R);)E=J(E),S=J(S);var D=oe(E,1),C=oe(S,1);for(S=oe(S,2),E=oe(E,2);!P(S);){var T=C.add(S);0>=T.l(R)&&(D=D.add(E),C=T),S=oe(S,1),E=oe(E,1)}return w=$(R,D.j(w)),new U(D,w)}for(D=p;0<=R.l(w);){for(E=Math.max(1,Math.floor(R.m()/w.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),C=u(E),T=C.j(w);A(T)||0<T.l(R);)E-=S,C=u(E),T=C.j(w);P(C)&&(C=m),D=D.add(C),R=$(R,T)}return new U(D,R)}n.A=function(R){return x(this,R).h},n.and=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)&R.i(S);return new o(E,this.h&R.h)},n.or=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)|R.i(S);return new o(E,this.h|R.h)},n.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)^R.i(S);return new o(E,this.h^R.h)};function J(R){for(var w=R.g.length+1,E=[],S=0;S<w;S++)E[S]=R.i(S)<<1|R.i(S-1)>>>31;return new o(E,R.h)}function oe(R,w){var E=w>>5;w%=32;for(var S=R.g.length-E,D=[],C=0;C<S;C++)D[C]=0<w?R.i(C+E)>>>w|R.i(C+E+1)<<32-w:R.i(C+E);return new o(D,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ky=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Sr=o}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wy,Os,Gy,va,lu,Yy,Qy,Jy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof na=="object"&&na];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var N=a[g];if(!(N in d))break e;d=d[N]}a=a[a.length-1],g=d[a],h=h(g),h!=g&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var d=0,g=!1,N={next:function(){if(!g&&d<a.length){var L=d++;return{value:h(L,a[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,g),a.apply(h,N)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function P(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(g,N,L){for(var X=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)X[qe-2]=arguments[qe];return h.prototype[N].apply(g,X)}}function A(a){const h=a.length;if(0<h){const d=Array(h);for(let g=0;g<h;g++)d[g]=a[g];return d}return[]}function k(a,h){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(c(g)){const N=a.length||0,L=g.length||0;a.length=N+L;for(let X=0;X<L;X++)a[N+X]=g[X]}else a.push(g)}}class ${constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function B(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function x(a){return x[" "](a),a}x[" "]=function(){};var J=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function oe(a,h,d){for(const g in a)h.call(d,a[g],g,a)}function R(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function w(a){const h={};for(const d in a)h[d]=a[d];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,h){let d,g;for(let N=1;N<arguments.length;N++){g=arguments[N];for(d in g)a[d]=g[d];for(let L=0;L<E.length;L++)d=E[L],Object.prototype.hasOwnProperty.call(g,d)&&(a[d]=g[d])}}function D(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function C(a){l.setTimeout(()=>{throw a},0)}function T(){var a=bt;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Be{constructor(){this.h=this.g=null}add(h,d){const g=et.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var et=new $(()=>new We,a=>a.reset());class We{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,Re=!1,bt=new Be,on=()=>{const a=l.Promise.resolve(void 0);Pe=()=>{a.then(At)}};var At=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(d){C(d)}var h=et;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}Re=!1};function Ge(){this.s=this.s,this.C=this.C}Ge.prototype.s=!1,Ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var An=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function Ct(a,h){if(Ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(J){e:{try{x(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ct.aa.h.call(this)}}P(Ct,Ye);var gt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),ie=0;function te(a,h,d,g,N){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=N,this.key=++ie,this.da=this.fa=!1}function ce(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Oe(a){this.src=a,this.g={},this.h=0}Oe.prototype.add=function(a,h,d,g,N){var L=a.toString();a=this.g[L],a||(a=this.g[L]=[],this.h++);var X=b(a,h,g,N);return-1<X?(h=a[X],d||(h.fa=!1)):(h=new te(h,this.src,L,!!g,N),h.fa=d,a.push(h)),h};function I(a,h){var d=h.type;if(d in a.g){var g=a.g[d],N=Array.prototype.indexOf.call(g,h,void 0),L;(L=0<=N)&&Array.prototype.splice.call(g,N,1),L&&(ce(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function b(a,h,d,g){for(var N=0;N<a.length;++N){var L=a[N];if(!L.da&&L.listener==h&&L.capture==!!d&&L.ha==g)return N}return-1}var M="closure_lm_"+(1e6*Math.random()|0),H={};function z(a,h,d,g,N){if(Array.isArray(h)){for(var L=0;L<h.length;L++)z(a,h[L],d,g,N);return null}return d=me(d),a&&a[j]?a.K(h,d,u(g)?!!g.capture:!1,N):q(a,h,d,!1,g,N)}function q(a,h,d,g,N,L){if(!h)throw Error("Invalid event type");var X=u(N)?!!N.capture:!!N,qe=ee(a);if(qe||(a[M]=qe=new Oe(a)),d=qe.add(h,d,g,X,L),d.proxy)return d;if(g=ne(),d.proxy=g,g.src=a,g.listener=d,a.addEventListener)An||(N=X),N===void 0&&(N=!1),a.addEventListener(h.toString(),g,N);else if(a.attachEvent)a.attachEvent(W(h.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ne(){function a(d){return h.call(a.src,a.listener,d)}const h=fe;return a}function Y(a,h,d,g,N){if(Array.isArray(h))for(var L=0;L<h.length;L++)Y(a,h[L],d,g,N);else g=u(g)?!!g.capture:!!g,d=me(d),a&&a[j]?(a=a.i,h=String(h).toString(),h in a.g&&(L=a.g[h],d=b(L,d,g,N),-1<d&&(ce(L[d]),Array.prototype.splice.call(L,d,1),L.length==0&&(delete a.g[h],a.h--)))):a&&(a=ee(a))&&(h=a.g[h.toString()],a=-1,h&&(a=b(h,d,g,N)),(d=-1<a?h[a]:null)&&Q(d))}function Q(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[j])I(h.i,a);else{var d=a.type,g=a.proxy;h.removeEventListener?h.removeEventListener(d,g,a.capture):h.detachEvent?h.detachEvent(W(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=ee(h))?(I(d,a),d.h==0&&(d.src=null,h[M]=null)):ce(a)}}}function W(a){return a in H?H[a]:H[a]="on"+a}function fe(a,h){if(a.da)a=!0;else{h=new Ct(h,this);var d=a.listener,g=a.ha||a.src;a.fa&&Q(a),a=d.call(g,h)}return a}function ee(a){return a=a[M],a instanceof Oe?a:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(a){return typeof a=="function"?a:(a[he]||(a[he]=function(h){return a.handleEvent(h)}),a[he])}function ge(){Ge.call(this),this.i=new Oe(this),this.M=this,this.F=null}P(ge,Ge),ge.prototype[j]=!0,ge.prototype.removeEventListener=function(a,h,d,g){Y(this,a,h,d,g)};function we(a,h){var d,g=a.F;if(g)for(d=[];g;g=g.F)d.push(g);if(a=a.M,g=h.type||h,typeof h=="string")h=new Ye(h,a);else if(h instanceof Ye)h.target=h.target||a;else{var N=h;h=new Ye(g,a),S(h,N)}if(N=!0,d)for(var L=d.length-1;0<=L;L--){var X=h.g=d[L];N=De(X,g,!0,h)&&N}if(X=h.g=a,N=De(X,g,!0,h)&&N,N=De(X,g,!1,h)&&N,d)for(L=0;L<d.length;L++)X=h.g=d[L],N=De(X,g,!1,h)&&N}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],g=0;g<d.length;g++)ce(d[g]);delete a.g[h],a.h--}}this.F=null},ge.prototype.K=function(a,h,d,g){return this.i.add(String(a),h,!1,d,g)},ge.prototype.L=function(a,h,d,g){return this.i.add(String(a),h,!0,d,g)};function De(a,h,d,g){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,L=0;L<h.length;++L){var X=h[L];if(X&&!X.da&&X.capture==d){var qe=X.listener,Et=X.ha||X.src;X.fa&&I(a.i,X),N=qe.call(Et,g)!==!1&&N}}return N&&!g.defaultPrevented}function st(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function ft(a){a.g=st(()=>{a.g=null,a.i&&(a.i=!1,ft(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Jt extends Ge{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(a){Ge.call(this),this.h=a,this.g={}}P(dt,Ge);var Cn=[];function Br(a){oe(a.g,function(h,d){this.g.hasOwnProperty(d)&&Q(h)},a),a.g={}}dt.prototype.N=function(){dt.aa.N.call(this),Br(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Se=l.JSON.stringify,St=l.JSON.parse,or=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function cs(){}cs.prototype.h=null;function jr(a){return a.h||(a.h=a.i())}function gi(){}var jt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){Ye.call(this,"d")}P(us,Ye);function hs(){Ye.call(this,"c")}P(hs,Ye);var y={},v=null;function O(){return v=v||new ge}y.La="serverreachability";function F(a){Ye.call(this,y.La,a)}P(F,Ye);function G(a){const h=O();we(h,new F(h))}y.STAT_EVENT="statevent";function se(a,h){Ye.call(this,y.STAT_EVENT,a),this.stat=h}P(se,Ye);function de(a){const h=O();we(h,new se(h,a))}y.Ma="timingevent";function ue(a,h){Ye.call(this,y.Ma,a),this.size=h}P(ue,Ye);function Te(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function ae(){this.g=!0}ae.prototype.xa=function(){this.g=!1};function _e(a,h,d,g,N,L){a.info(function(){if(a.g)if(L)for(var X="",qe=L.split("&"),Et=0;Et<qe.length;Et++){var Le=qe[Et].split("=");if(1<Le.length){var Rt=Le[0];Le=Le[1];var Pt=Rt.split("_");X=2<=Pt.length&&Pt[1]=="type"?X+(Rt+"="+Le+"&"):X+(Rt+"=redacted&")}}else X=null;else X=L;return"XMLHTTP REQ ("+g+") [attempt "+N+"]: "+h+`
`+d+`
`+X})}function $e(a,h,d,g,N,L,X){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+N+"]: "+h+`
`+d+`
`+L+" "+X})}function vt(a,h,d,g){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Hr(a,d)+(g?" "+g:"")})}function Ht(a,h){a.info(function(){return"TIMEOUT: "+h})}ae.prototype.info=function(){};function Hr(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var g=d[a];if(!(2>g.length)){var N=g[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var X=1;X<N.length;X++)N[X]=""}}}}return Se(d)}catch{return h}}var gn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$r;function yi(){}P(yi,cs),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},$r=new yi;function Sn(a,h,d,g){this.j=a,this.i=h,this.l=d,this.R=g||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mo}function Mo(){this.i=null,this.g="",this.h=!1}var No={},fs={};function ds(a,h,d){a.L=1,a.v=Bo(Hn(h)),a.m=d,a.P=!0,xo(a,null)}function xo(a,h){a.F=Date.now(),Lo(a),a.A=Hn(a.v);var d=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),$h(d.i,"t",g),a.C=0,d=a.j.J,a.h=new Mo,a.g=lf(a.j,d?h:null,!a.m),0<a.O&&(a.M=new Jt(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,g=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(Cn[0]=N.toString()),N=Cn);for(var L=0;L<N.length;L++){var X=z(d,N[L],g||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),G(),_e(a.i,a.u,a.A,a.l,a.R,a.m)}Sn.prototype.ca=function(a){a=a.target;const h=this.M;h&&$n(a)==3?h.j():this.Y(a)},Sn.prototype.Y=function(a){try{if(a==this.g)e:{const Pt=$n(this.g);var h=this.g.Ba();const Ei=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Qh(this.g)))){this.J||Pt!=4||h==7||(h==8||0>=Ei?G(3):G(2)),xl(this);var d=this.g.Z();this.X=d;t:if(Vo(this)){var g=Qh(this.g);a="";var N=g.length,L=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),ps(this);var X="";break t}this.h.i=new l.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,a+=this.h.i.decode(g[h],{stream:!(L&&h==N-1)});g.length=0,this.h.g+=a,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=d==200,$e(this.i,this.u,this.A,this.l,this.R,Pt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Et=this.g;if((qe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(qe)){var Le=qe;break t}}Le=null}if(d=Le)vt(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,d);else{this.o=!1,this.s=3,de(12),qr(this),ps(this);break e}}if(this.P){d=!0;let yn;for(;!this.J&&this.C<X.length;)if(yn=rv(this,X),yn==fs){Pt==4&&(this.s=4,de(14),d=!1),vt(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==No){this.s=4,de(15),vt(this.i,this.l,X,"[Invalid Chunk]"),d=!1;break}else vt(this.i,this.l,yn,null),Vl(this,yn);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||X.length!=0||this.h.h||(this.s=1,de(16),d=!1),this.o=this.o&&d,!d)vt(this.i,this.l,X,"[Invalid Chunked Response]"),qr(this),ps(this);else if(0<X.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Hl(Rt),Rt.M=!0,de(11))}}else vt(this.i,this.l,X,null),Vl(this,X);Pt==4&&qr(this),this.o&&!this.J&&(Pt==4?rf(this.j,this):(this.o=!1,Lo(this)))}else Ev(this.g),d==400&&0<X.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),qr(this),ps(this)}}}catch{}finally{}};function Vo(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function rv(a,h){var d=a.C,g=h.indexOf(`
`,d);return g==-1?fs:(d=Number(h.substring(d,g)),isNaN(d)?No:(g+=1,g+d>h.length?fs:(h=h.slice(g,g+d),a.C=g+d,h)))}Sn.prototype.cancel=function(){this.J=!0,qr(this)};function Lo(a){a.S=Date.now()+a.I,kh(a,a.I)}function kh(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Te(m(a.ba,a),h)}function xl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Sn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ht(this.i,this.A),this.L!=2&&(G(),de(17)),qr(this),this.s=2,ps(this)):kh(this,this.S-a)};function ps(a){a.j.G==0||a.J||rf(a.j,a)}function qr(a){xl(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Br(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Vl(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Ll(d.h,a))){if(!a.K&&Ll(d.h,a)&&d.G==3){try{var g=d.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var N=g;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ko(d),qo(d);else break e;jl(d),de(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=Te(m(d.Za,d),6e3));if(1>=Nh(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Kr(d,11)}else if((a.K||d.g==a)&&Ko(d),!B(h))for(N=d.Da.g.parse(h),h=0;h<N.length;h++){let Le=N[h];if(d.T=Le[0],Le=Le[1],d.G==2)if(Le[0]=="c"){d.K=Le[1],d.ia=Le[2];const Rt=Le[3];Rt!=null&&(d.la=Rt,d.j.info("VER="+d.la));const Pt=Le[4];Pt!=null&&(d.Aa=Pt,d.j.info("SVER="+d.Aa));const Ei=Le[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(g=1.5*Ei,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const yn=a.g;if(yn){const Go=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var L=g.h;L.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Fl(L,L.h),L.h=null))}if(g.D){const $l=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;$l&&(g.ya=$l,Qe(g.I,g.D,$l))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var X=a;if(g.qa=af(g,g.J?g.ia:null,g.W),X.K){xh(g.h,X);var qe=X,Et=g.L;Et&&(qe.I=Et),qe.B&&(xl(qe),Lo(qe)),g.g=X}else tf(g);0<d.i.length&&zo(d)}else Le[0]!="stop"&&Le[0]!="close"||Kr(d,7);else d.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Kr(d,7):Bl(d):Le[0]!="noop"&&d.l&&d.l.ta(Le),d.v=0)}}G(4)}catch{}}var iv=class{constructor(a,h){this.g=a,this.map=h}};function Oh(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mh(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Nh(a){return a.h?1:a.g?a.g.size:0}function Ll(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Fl(a,h){a.g?a.g.add(h):a.h=h}function xh(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Oh.prototype.cancel=function(){if(this.i=Vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Vh(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return A(a.i)}function sv(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],d=a.length,g=0;g<d;g++)h.push(a[g]);return h}h=[],d=0;for(g in a)h[d++]=a[g];return h}function ov(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const g in a)h[d++]=g;return h}}}function Lh(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=ov(a),g=sv(a),N=g.length,L=0;L<N;L++)h.call(void 0,g[L],d&&d[L],a)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function av(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var g=a[d].indexOf("="),N=null;if(0<=g){var L=a[d].substring(0,g);N=a[d].substring(g+1)}else L=a[d];h(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof zr){this.h=a.h,Fo(this,a.j),this.o=a.o,this.g=a.g,Uo(this,a.s),this.l=a.l;var h=a.i,d=new ys;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Uh(this,d),this.m=a.m}else a&&(h=String(a).match(Fh))?(this.h=!1,Fo(this,h[1]||"",!0),this.o=ms(h[2]||""),this.g=ms(h[3]||"",!0),Uo(this,h[4]),this.l=ms(h[5]||"",!0),Uh(this,h[6]||"",!0),this.m=ms(h[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}zr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(gs(h,Bh,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(gs(h,Bh,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(gs(d,d.charAt(0)=="/"?uv:cv,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",gs(d,fv)),a.join("")};function Hn(a){return new zr(a)}function Fo(a,h,d){a.j=d?ms(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Uo(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Uh(a,h,d){h instanceof ys?(a.i=h,dv(a.i,a.h)):(d||(h=gs(h,hv)),a.i=new ys(h,a.h))}function Qe(a,h,d){a.i.set(h,d)}function Bo(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ms(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function gs(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,lv),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function lv(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Bh=/[#\/\?@]/g,cv=/[#\?:]/g,uv=/[#\?]/g,hv=/[#\?@]/g,fv=/#/g;function ys(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function ar(a){a.g||(a.g=new Map,a.h=0,a.i&&av(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}n=ys.prototype,n.add=function(a,h){ar(this),this.i=null,a=_i(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function jh(a,h){ar(a),h=_i(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Hh(a,h){return ar(a),h=_i(a,h),a.g.has(h)}n.forEach=function(a,h){ar(this),this.g.forEach(function(d,g){d.forEach(function(N){a.call(h,N,g,this)},this)},this)},n.na=function(){ar(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let g=0;g<h.length;g++){const N=a[g];for(let L=0;L<N.length;L++)d.push(h[g])}return d},n.V=function(a){ar(this);let h=[];if(typeof a=="string")Hh(this,a)&&(h=h.concat(this.g.get(_i(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},n.set=function(a,h){return ar(this),this.i=null,a=_i(this,a),Hh(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function $h(a,h,d){jh(a,h),0<d.length&&(a.i=null,a.g.set(_i(a,h),A(d)),a.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var g=h[d];const L=encodeURIComponent(String(g)),X=this.V(g);for(g=0;g<X.length;g++){var N=L;X[g]!==""&&(N+="="+encodeURIComponent(String(X[g]))),a.push(N)}}return this.i=a.join("&")};function _i(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function dv(a,h){h&&!a.j&&(ar(a),a.i=null,a.g.forEach(function(d,g){var N=g.toLowerCase();g!=N&&(jh(this,g),$h(this,N,d))},a)),a.j=h}function pv(a,h){const d=new ae;if(l.Image){const g=new Image;g.onload=_(lr,d,"TestLoadImage: loaded",!0,h,g),g.onerror=_(lr,d,"TestLoadImage: error",!1,h,g),g.onabort=_(lr,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=_(lr,d,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else h(!1)}function mv(a,h){const d=new ae,g=new AbortController,N=setTimeout(()=>{g.abort(),lr(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:g.signal}).then(L=>{clearTimeout(N),L.ok?lr(d,"TestPingServer: ok",!0,h):lr(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),lr(d,"TestPingServer: error",!1,h)})}function lr(a,h,d,g,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),g(d)}catch{}}function gv(){this.g=new or}function yv(a,h,d){const g=d||"";try{Lh(a,function(N,L){let X=N;u(N)&&(X=Se(N)),h.push(g+L+"="+encodeURIComponent(X))})}catch(N){throw h.push(g+"type="+encodeURIComponent("_badmap")),N}}function jo(a){this.l=a.Ub||null,this.j=a.eb||!1}P(jo,cs),jo.prototype.g=function(){return new Ho(this.l,this.j)},jo.prototype.i=function(a){return function(){return a}}({});function Ho(a,h){ge.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Ho,ge),n=Ho.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,vs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qh(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function qh(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?_s(this):vs(this),this.readyState==3&&qh(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,_s(this))},n.Qa=function(a){this.g&&(this.response=a,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(a){a.readyState=4,a.l=null,a.j=null,a.v=null,vs(a)}n.setRequestHeader=function(a,h){this.u.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function vs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zh(a){let h="";return oe(a,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function Ul(a,h,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=zh(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Qe(a,h,d))}function tt(a){ge.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(tt,ge);var _v=/^https?$/i,vv=["POST","PUT"];n=tt.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$r.g(),this.v=this.o?jr(this.o):jr($r),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(L){Kh(this,L);return}if(a=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var N in g)d.set(N,g[N]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())d.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),N=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vv,h,void 0))||g||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,X]of d)this.g.setRequestHeader(L,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yh(this),this.u=!0,this.g.send(a),this.u=!1}catch(L){Kh(this,L)}};function Kh(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Wh(a),$o(a)}function Wh(a){a.A||(a.A=!0,we(a,"complete"),we(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,we(this,"complete"),we(this,"abort"),$o(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$o(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Gh(this):this.bb())},n.bb=function(){Gh(this)};function Gh(a){if(a.h&&typeof o<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)st(a.Ea,0,a);else if(we(a,"readystatechange"),$n(a)==4){a.h=!1;try{const X=a.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var g;if(g=X===0){var N=String(a.D).match(Fh)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),g=!_v.test(N?N.toLowerCase():"")}d=g}if(d)we(a,"complete"),we(a,"success");else{a.m=6;try{var L=2<$n(a)?a.g.statusText:""}catch{L=""}a.l=L+" ["+a.Z()+"]",Wh(a)}}finally{$o(a)}}}}function $o(a,h){if(a.g){Yh(a);const d=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||we(a,"ready");try{d.onreadystatechange=g}catch{}}}function Yh(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),St(h)}};function Qh(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ev(a){const h={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(B(a[g]))continue;var d=D(a[g]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=h[N]||[];h[N]=L,L.push(d)}R(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function Jh(a){this.Aa=0,this.i=[],this.j=new ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,a),this.cb=Es("retryDelaySeedMs",1e4,a),this.Wa=Es("forwardChannelMaxRetries",2,a),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Oh(a&&a.concurrentRequestLimit),this.Da=new gv,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Jh.prototype,n.la=8,n.G=1,n.connect=function(a,h,d,g){de(0),this.W=a,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=af(this,null,this.W),zo(this)};function Bl(a){if(Xh(a),a.G==3){var h=a.U++,d=Hn(a.I);if(Qe(d,"SID",a.K),Qe(d,"RID",h),Qe(d,"TYPE","terminate"),ws(a,d),h=new Sn(a,a.j,h),h.L=2,h.v=Bo(Hn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=lf(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Lo(h)}of(a)}function qo(a){a.g&&(Hl(a),a.g.cancel(),a.g=null)}function Xh(a){qo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ko(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function zo(a){if(!Mh(a.h)&&!a.s){a.s=!0;var h=a.Ga;Pe||on(),Re||(Pe(),Re=!0),bt.add(h,a),a.B=0}}function wv(a,h){return Nh(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Te(m(a.Ga,a,h),sf(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new Sn(this,this.j,a);let L=this.o;if(this.S&&(L?(L=w(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=ef(this,N,h),d=Hn(this.I),Qe(d,"RID",a),Qe(d,"CVER",22),this.D&&Qe(d,"X-HTTP-Session-Id",this.D),ws(this,d),L&&(this.O?h="headers="+encodeURIComponent(String(zh(L)))+"&"+h:this.m&&Ul(d,this.m,L)),Fl(this.h,N),this.Ua&&Qe(d,"TYPE","init"),this.P?(Qe(d,"$req",h),Qe(d,"SID","null"),N.T=!0,ds(N,d,null)):ds(N,d,h),this.G=2}}else this.G==3&&(a?Zh(this,a):this.i.length==0||Mh(this.h)||Zh(this))};function Zh(a,h){var d;h?d=h.l:d=a.U++;const g=Hn(a.I);Qe(g,"SID",a.K),Qe(g,"RID",d),Qe(g,"AID",a.T),ws(a,g),a.m&&a.o&&Ul(g,a.m,a.o),d=new Sn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=ef(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Fl(a.h,d),ds(d,g,h)}function ws(a,h){a.H&&oe(a.H,function(d,g){Qe(h,g,d)}),a.l&&Lh({},function(d,g){Qe(h,g,d)})}function ef(a,h,d){d=Math.min(a.i.length,d);var g=a.l?m(a.l.Na,a.l,a):null;e:{var N=a.i;let L=-1;for(;;){const X=["count="+d];L==-1?0<d?(L=N[0].g,X.push("ofs="+L)):L=0:X.push("ofs="+L);let qe=!0;for(let Et=0;Et<d;Et++){let Le=N[Et].g;const Rt=N[Et].map;if(Le-=L,0>Le)L=Math.max(0,N[Et].g-100),qe=!1;else try{yv(Rt,X,"req"+Le+"_")}catch{g&&g(Rt)}}if(qe){g=X.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,g}function tf(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Pe||on(),Re||(Pe(),Re=!0),bt.add(h,a),a.v=0}}function jl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Te(m(a.Fa,a),sf(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,nf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Te(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),qo(this),nf(this))};function Hl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function nf(a){a.g=new Sn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Hn(a.qa);Qe(h,"RID","rpc"),Qe(h,"SID",a.K),Qe(h,"AID",a.T),Qe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Qe(h,"TO",a.ja),Qe(h,"TYPE","xmlhttp"),ws(a,h),a.m&&a.o&&Ul(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Bo(Hn(h)),d.m=null,d.P=!0,xo(d,a)}n.Za=function(){this.C!=null&&(this.C=null,qo(this),jl(this),de(19))};function Ko(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function rf(a,h){var d=null;if(a.g==h){Ko(a),Hl(a),a.g=null;var g=2}else if(Ll(a.h,h))d=h.D,xh(a.h,h),g=1;else return;if(a.G!=0){if(h.o)if(g==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var N=a.B;g=O(),we(g,new ue(g,d)),zo(a)}else tf(a);else if(N=h.s,N==3||N==0&&0<h.X||!(g==1&&wv(a,h)||g==2&&jl(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),N){case 1:Kr(a,5);break;case 4:Kr(a,10);break;case 3:Kr(a,6);break;default:Kr(a,2)}}}function sf(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function Kr(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),g=a.Xa;const N=!g;g=new zr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Fo(g,"https"),Bo(g),N?pv(g.toString(),d):mv(g.toString(),d)}else de(2);a.G=0,a.l&&a.l.sa(h),of(a),Xh(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function of(a){if(a.G=0,a.ka=[],a.l){const h=Vh(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,A(a.i),a.i.length=0),a.l.ra()}}function af(a,h,d){var g=d instanceof zr?Hn(d):new zr(d);if(g.g!="")h&&(g.g=h+"."+g.g),Uo(g,g.s);else{var N=l.location;g=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var L=new zr(null);g&&Fo(L,g),h&&(L.g=h),N&&Uo(L,N),d&&(L.l=d),g=L}return d=a.D,h=a.ya,d&&h&&Qe(g,d,h),Qe(g,"VER",a.la),ws(a,g),g}function lf(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new tt(new jo({eb:d})):new tt(a.pa),h.Ha(a.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cf(){}n=cf.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wo(){}Wo.prototype.g=function(a,h){return new an(a,h)};function an(a,h){ge.call(this),this.g=new Jh(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!B(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!B(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new vi(this)}P(an,ge),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Bl(this.g)},an.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Se(a),a=d);h.i.push(new iv(h.Ya++,a)),h.G==3&&zo(h)},an.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,an.aa.N.call(this)};function uf(a){us.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}P(uf,us);function hf(){hs.call(this),this.status=1}P(hf,hs);function vi(a){this.g=a}P(vi,cf),vi.prototype.ua=function(){we(this.g,"a")},vi.prototype.ta=function(a){we(this.g,new uf(a))},vi.prototype.sa=function(a){we(this.g,new hf)},vi.prototype.ra=function(){we(this.g,"b")},Wo.prototype.createWebChannel=Wo.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,Jy=function(){return new Wo},Qy=function(){return O()},Yy=y,lu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gn.NO_ERROR=0,gn.TIMEOUT=8,gn.HTTP_ERROR=6,va=gn,Oo.COMPLETE="complete",Gy=Oo,gi.EventType=jt,jt.OPEN="a",jt.CLOSE="b",jt.ERROR="c",jt.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Os=gi,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,Wy=tt}).apply(typeof na<"u"?na:typeof self<"u"?self:typeof window<"u"?window:{});const tp="@firebase/firestore",np="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Xu("@firebase/firestore");function Ai(){return di.logLevel}function le(n,...e){if(di.logLevel<=ke.DEBUG){const t=e.map(lh);di.debug(`Firestore (${os}): ${n}`,...t)}}function rr(n,...e){if(di.logLevel<=ke.ERROR){const t=e.map(lh);di.error(`Firestore (${os}): ${n}`,...t)}}function Gi(n,...e){if(di.logLevel<=ke.WARN){const t=e.map(lh);di.warn(`Firestore (${os}): ${n}`,...t)}}function lh(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Xy(n,r,t)}function Xy(n,e,t){let r=`FIRESTORE (${os}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw rr(r),new Error(r)}function Ze(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Xy(e,i,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends sr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ot.UNAUTHENTICATED))}shutdown(){}}class ES{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wS{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ji,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ji)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new Zy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new Ot(e)}}class TS{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IS{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new TS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new rp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=AS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Me(n,e){return n<e?-1:n>e?1:0}function cu(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return wc(i)===wc(s)?Me(i,s):wc(i)?1:-1}return Me(n.length,e.length)}const CS=55296,SS=57343;function wc(n){const e=n.charCodeAt(0);return e>=CS&&e<=SS}function Yi(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="__name__";class kn{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return kn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof kn?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=kn.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Me(e.length,t.length)}static compareSegments(e,t){const r=kn.isNumericId(e),i=kn.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?kn.extractNumericId(e).compare(kn.extractNumericId(t)):cu(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Xe extends kn{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const RS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends kn{construct(e,t,r){return new Yt(e,t,r)}static isValidIdentifier(e){return RS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ip}static keyField(){return new Yt([ip])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n,e,t){if(!t)throw new pe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DS(n,e,t,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sp(n){if(!ye.isDocumentKey(n))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function OS(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Ea(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OS(n);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n,e){const t={typeString:n};return e&&(t.value=e),t}function So(n,e){if(!kS(n))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new pe(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-62135596800,ap=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ap);return new ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<op)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ap}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(So(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-op;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:ut("string",ct._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new ct(0,0))}static max(){return new Ie(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function MS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Or(i,ye.empty(),e)}function NS(n){return new Or(n.readTime,n.key,fo)}class Or{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Or(Ie.min(),ye.empty(),fo)}static max(){return new Or(Ie.max(),ye.empty(),fo)}}function xS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==VS)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(i=>i?K.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new K((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(f=>{o[u]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new K((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function FS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function as(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bl.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=-1;function Al(n){return n==null}function uu(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="";function BS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lp(e)),e=jS(n.get(t),e);return lp(e)}function jS(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case e_:t+="";break;default:t+=s}}return t}function lp(n){return n+e_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||wt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??wt.RED,this.left=i??wt.EMPTY,this.right=s??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new wt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new up(this.data.getIterator())}getIteratorFrom(e){return new up(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class up{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Er([])}unionWith(e){let t=new mt(Yt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Er(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yi(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new t_("Invalid base64 string: "+s):s}}(e);return new It(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const $S=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=$S.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Nr(n){return typeof n=="string"?It.fromBase64String(n):It.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="server_timestamp",r_="__type__",i_="__previous_value__",s_="__local_write_time__";function uh(n){return(n?.mapValue?.fields||{})[r_]?.stringValue===n_}function Cl(n){const e=n.mapValue.fields[i_];return uh(e)?Cl(e):e}function po(n){const e=Mr(n.mapValue.fields[s_].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,r,i,s,o,l,c,u,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const qa="(default)";class mo{constructor(e,t){this.projectId=e,this.database=t||qa}static empty(){return new mo("","")}get isDefaultDatabase(){return this.database===qa}isEqual(e){return e instanceof mo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__type__",KS="__max__",ia={mapValue:{}},WS="__vector__",hu="value";function xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uh(n)?4:YS(n)?9007199254740991:GS(n)?10:11:Ae(28295,{value:n})}function Bn(n,e){if(n===e)return!0;const t=xr(n);if(t!==xr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return po(n).isEqual(po(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mr(i.timestampValue),l=Mr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Nr(i.bytesValue).isEqual(Nr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return nt(i.geoPointValue.latitude)===nt(s.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return nt(i.integerValue)===nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=nt(i.doubleValue),l=nt(s.doubleValue);return o===l?uu(o)===uu(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return Yi(n.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(cp(o)!==cp(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Bn(o[c],l[c])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function go(n,e){return(n.values||[]).find(t=>Bn(t,e))!==void 0}function Qi(n,e){if(n===e)return 0;const t=xr(n),r=xr(e);if(t!==r)return Me(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(s,o){const l=nt(s.integerValue||s.doubleValue),c=nt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return hp(n.timestampValue,e.timestampValue);case 4:return hp(po(n),po(e));case 5:return cu(n.stringValue,e.stringValue);case 6:return function(s,o){const l=Nr(s),c=Nr(o);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const f=Me(l[u],c[u]);if(f!==0)return f}return Me(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Me(nt(s.latitude),nt(o.latitude));return l!==0?l:Me(nt(s.longitude),nt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fp(n.arrayValue,e.arrayValue);case 10:return function(s,o){const l=s.fields||{},c=o.fields||{},u=l[hu]?.arrayValue,f=c[hu]?.arrayValue,p=Me(u?.values?.length||0,f?.values?.length||0);return p!==0?p:fp(u,f)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ia.mapValue&&o===ia.mapValue)return 0;if(s===ia.mapValue)return 1;if(o===ia.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const m=cu(c[p],f[p]);if(m!==0)return m;const _=Qi(l[c[p]],u[f[p]]);if(_!==0)return _}return Me(c.length,f.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function hp(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Mr(n),r=Mr(e),i=Me(t.seconds,r.seconds);return i!==0?i:Me(t.nanos,r.nanos)}function fp(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Qi(t[i],r[i]);if(s)return s}return Me(t.length,r.length)}function Ji(n){return fu(n)}function fu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Mr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Nr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=fu(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fu(t.fields[o])}`;return i+"}"}(n.mapValue):Ae(61005,{value:n})}function wa(n){switch(xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cl(n);return e?16+wa(e):16;case 5:return 2*n.stringValue.length;case 6:return Nr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+wa(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ro(r.fields,(s,o)=>{i+=s.length+wa(o)}),i}(n.mapValue);default:throw Ae(13486,{value:n})}}function du(n){return!!n&&"integerValue"in n}function hh(n){return!!n&&"arrayValue"in n}function dp(n){return!!n&&"nullValue"in n}function pp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tc(n){return!!n&&"mapValue"in n}function GS(n){return(n?.mapValue?.fields||{})[zS]?.stringValue===WS}function Ys(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ys(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ys(n.arrayValue.values[t]);return e}return{...n}}function YS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(t)}setAll(e){let t=Yt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=l.popLast()}o?r[l.lastSegment()]=Ys(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Mn(Ys(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t,r,i,s,o,l){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Vt(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,i){return new Vt(e,1,t,Ie.min(),r,i,0)}static newNoDocument(e,t){return new Vt(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Vt(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.position=e,this.inclusive=t}}function mp(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),t.key):r=Qi(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gp(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function QS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{}class pt extends o_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new XS(e,t,r):t==="array-contains"?new tR(e,r):t==="in"?new nR(e,r):t==="not-in"?new rR(e,r):t==="array-contains-any"?new iR(e,r):new pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZS(e,r):new eR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Qi(t,this.value)):t!==null&&xr(this.value)===xr(t)&&this.matchesComparison(Qi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends o_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new jn(e,t)}matches(e){return a_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a_(n){return n.op==="and"}function l_(n){return JS(n)&&a_(n)}function JS(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function pu(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+Ji(n.value);if(l_(n))return n.filters.map(e=>pu(e)).join(",");{const e=n.filters.map(t=>pu(t)).join(",");return`${n.op}(${e})`}}function c_(n,e){return n instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Bn(r.value,i.value)}(n,e):n instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&c_(o,i.filters[l]),!0):!1}(n,e):void Ae(19439)}function u_(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ji(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(u_).join(" ,")+"}"}(n):"Filter"}class XS extends pt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZS extends pt{constructor(e,t){super(e,"in",t),this.keys=h_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eR extends pt{constructor(e,t){super(e,"not-in",t),this.keys=h_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h_(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class tR extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hh(t)&&go(t.arrayValue,this.value)}}class nR extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&go(this.value.arrayValue,t)}}class rR extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!go(this.value.arrayValue,t)}}class iR extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>go(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function yp(n,e=null,t=[],r=[],i=null,s=null,o=null){return new sR(n,e,t,r,i,s,o)}function fh(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pu(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Al(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ji(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ji(r)).join(",")),e.Te=t}return e.Te}function dh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!c_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gp(n.startAt,e.startAt)&&gp(n.endAt,e.endAt)}function mu(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(n,e,t,r,i,s,o,l){return new Sl(n,e,t,r,i,s,o,l)}function ph(n){return new Sl(n)}function _p(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aR(n){return n.collectionGroup!==null}function Qs(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new mt(Yt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Ka(s,r))}),t.has(Yt.keyField().canonicalString())||e.Ie.push(new Ka(Yt.keyField(),r))}return e.Ie}function Un(n){const e=xe(n);return e.Ee||(e.Ee=lR(e,Qs(n))),e.Ee}function lR(n,e){if(n.limitType==="F")return yp(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ka(i.field,s)});const t=n.endAt?new za(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new za(n.startAt.position,n.startAt.inclusive):null;return yp(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gu(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Rl(n,e){return dh(Un(n),Un(e))&&n.limitType===e.limitType}function f_(n){return`${fh(Un(n))}|lt:${n.limitType}`}function Ci(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>u_(i)).join(", ")}]`),Al(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ji(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ji(i)).join(",")),`Target(${r})`}(Un(n))}; limitType=${n.limitType})`}function Pl(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Qs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=mp(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Qs(r),i)||r.endAt&&!function(o,l,c){const u=mp(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Qs(r),i))}(n,e)}function cR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d_(n){return(e,t)=>{let r=!1;for(const i of Qs(n)){const s=uR(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uR(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Qi(c,u):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return HS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new it(ye.comparator);function Vr(){return hR}const p_=new it(ye.comparator);function Ms(...n){let e=p_;for(const t of n)e=e.insert(t.key,t);return e}function fR(n){let e=p_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ri(){return Js()}function m_(){return Js()}function Js(){return new mi(n=>n.toString(),(n,e)=>n.isEqual(e))}const dR=new mt(ye.comparator);function Ve(...n){let e=dR;for(const t of n)e=e.add(t);return e}const pR=new mt(Me);function mR(){return pR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function yR(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this._=void 0}}function _R(n,e,t){return n instanceof yu?function(i,s){const o={fields:{[r_]:{stringValue:n_},[s_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&uh(s)&&(s=Cl(s)),s&&(o.fields[i_]=s),{mapValue:o}}(t,e):n instanceof Wa?g_(n,e):n instanceof Ga?y_(n,e):function(i,s){const o=ER(i,s),l=vp(o)+vp(i.Ae);return du(o)&&du(i.Ae)?yR(l):gR(i.serializer,l)}(n,e)}function vR(n,e,t){return n instanceof Wa?g_(n,e):n instanceof Ga?y_(n,e):t}function ER(n,e){return n instanceof _u?function(r){return du(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yu extends Dl{}class Wa extends Dl{constructor(e){super(),this.elements=e}}function g_(n,e){const t=__(e);for(const r of n.elements)t.some(i=>Bn(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ga extends Dl{constructor(e){super(),this.elements=e}}function y_(n,e){let t=__(e);for(const r of n.elements)t=t.filter(i=>!Bn(i,r));return{arrayValue:{values:t}}}class _u extends Dl{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vp(n){return nt(n.integerValue||n.doubleValue)}function __(n){return hh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function wR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Wa&&i instanceof Wa||r instanceof Ga&&i instanceof Ga?Yi(r.elements,i.elements,Bn):r instanceof _u&&i instanceof _u?Bn(r.Ae,i.Ae):r instanceof yu&&i instanceof yu}(n.transform,e.transform)}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ta(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mh{}function v_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new IR(n.key,oi.none()):new gh(n.key,n.data,oi.none());{const t=n.data,r=Mn.empty();let i=new mt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new kl(n.key,r,new Er(i.toArray()),oi.none())}}function TR(n,e,t){n instanceof gh?function(i,s,o){const l=i.value.clone(),c=wp(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof kl?function(i,s,o){if(!Ta(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=wp(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(E_(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Xs(n,e,t,r){return n instanceof gh?function(s,o,l,c){if(!Ta(s.precondition,o))return l;const u=s.value.clone(),f=Tp(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof kl?function(s,o,l,c){if(!Ta(s.precondition,o))return l;const u=Tp(s.fieldTransforms,c,o),f=o.data;return f.setAll(E_(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,l){return Ta(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(n,e,t)}function Ep(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Yi(r,i,(s,o)=>wR(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gh extends mh{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class kl extends mh{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function wp(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,vR(o,l,t[i]))}return r}function Tp(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,_R(s,o,e))}return r}class IR extends mh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&TR(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xs(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xs(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const c=v_(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Yi(this.mutations,e.mutations,(t,r)=>Ep(t,r))&&Yi(this.baseMutations,e.baseMutations,(t,r)=>Ep(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Ne;function w_(n){if(n===void 0)return rr("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ot.OK:return Z.OK;case ot.CANCELLED:return Z.CANCELLED;case ot.UNKNOWN:return Z.UNKNOWN;case ot.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ot.INTERNAL:return Z.INTERNAL;case ot.UNAVAILABLE:return Z.UNAVAILABLE;case ot.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ot.NOT_FOUND:return Z.NOT_FOUND;case ot.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ot.ABORTED:return Z.ABORTED;case ot.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ot.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:n})}}(Ne=ot||(ot={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Sr([4294967295,4294967295],0);function Ip(n){const e=SR().encode(n),t=new Ky;return t.update(e),new Uint8Array(t.digest())}function bp(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sr([t,r],0),new Sr([i,s],0)]}class yh{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ns(`Invalid padding: ${t}`);if(r<0)throw new Ns(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ns(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ns(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Sr.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Sr.fromNumber(r)));return i.compare(RR)===1&&(i=new Sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Ip(e),[r,i]=bp(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yh(s,i,t);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const t=Ip(e),[r,i]=bp(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ns extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Po.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ol(Ie.min(),i,new it(Me),Vr(),Ve())}}class Po{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Po(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class T_{constructor(e,t){this.targetId=e,this.Ce=t}}class I_{constructor(e,t,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Ap{constructor(){this.ve=0,this.Fe=Cp(),this.Me=It.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:s})}}),new Po(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Cp()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=sa(),this.He=sa(),this.Ye=new it(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(mu(s))if(r===0){const o=new ye(s.path);this.et(t,o,Vt.newNoDocument(o,Ie.min()))}else Ze(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(t);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,u)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Nr(r).toUint8Array()}catch(c){if(c instanceof t_)return Gi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new yh(o,i,s)}catch(c){return Gi(c instanceof Ns?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&mu(l.target)){const c=new ye(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Vt.newNoDocument(c,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let r=Ve();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Ol(e,t,this.Ye,this.je,r);return this.je=Vr(),this.Je=sa(),this.He=sa(),this.Ye=new it(Me),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ap,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new mt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new mt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ap),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sa(){return new it(ye.comparator)}function Cp(){return new it(ye.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},kR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class MR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vu(n,e){return n.useProto3Json||Al(e)?e:{value:e}}function NR(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hi(n){return Ze(!!n,49232),Ie.fromTimestamp(function(t){const r=Mr(t);return new ct(r.seconds,r.nanos)}(n))}function VR(n,e){return Eu(n,e).canonicalString()}function Eu(n,e){const t=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function b_(n){const e=Xe.fromString(n);return Ze(P_(e),10190,{key:e.toString()}),e}function Ic(n,e){const t=b_(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(C_(t))}function A_(n,e){return VR(n.databaseId,e)}function LR(n){const e=b_(n);return e.length===4?Xe.emptyPath():C_(e)}function Sp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function C_(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function FR(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ze(f===void 0||typeof f=="string",58123),It.fromBase64String(f||"")):(Ze(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),It.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const f=u.code===void 0?Z.UNKNOWN:w_(u.code);return new pe(f,u.message||"")}(o);t=new I_(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ic(n,r.document.name),s=Hi(r.document.updateTime),o=r.document.createTime?Hi(r.document.createTime):Ie.min(),l=new Mn({mapValue:{fields:r.document.fields}}),c=Vt.newFoundDocument(i,s,o,l),u=r.targetIds||[],f=r.removedTargetIds||[];t=new Ia(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ic(n,r.document),s=r.readTime?Hi(r.readTime):Ie.min(),o=Vt.newNoDocument(i,s),l=r.removedTargetIds||[];t=new Ia([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ic(n,r.document),s=r.removedTargetIds||[];t=new Ia([],s,i,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CR(i,s),l=r.targetId;t=new T_(l,o)}}return t}function UR(n,e){return{documents:[A_(n,e.path)]}}function BR(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=A_(n,i);const s=function(u){if(u.length!==0)return R_(jn.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:Si(m.field),direction:$R(m.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=vu(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:t,parent:i}}function jR(n){let e=LR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ze(r===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){const m=S_(p);return m instanceof jn&&l_(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(P){return new Ka(Ri(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(m))}(t.orderBy));let l=null;t.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Al(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(p){const m=!!p.before,_=p.values||[];return new za(_,m)}(t.startAt));let u=null;return t.endAt&&(u=function(p){const m=!p.before,_=p.values||[];return new za(_,m)}(t.endAt)),oR(e,i,o,s,l,"F",c,u)}function HR(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function S_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ri(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ri(t.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ri(t.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ri(t.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return pt.create(Ri(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(r=>S_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function $R(n){return DR[n]}function qR(n){return kR[n]}function zR(n){return OR[n]}function Si(n){return{fieldPath:n.canonicalString()}}function Ri(n){return Yt.fromServerFormat(n.fieldPath)}function R_(n){return n instanceof pt?function(t){if(t.op==="=="){if(pp(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NAN"}};if(dp(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pp(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NOT_NAN"}};if(dp(t.value))return{unaryFilter:{field:Si(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Si(t.field),op:qR(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(i=>R_(i));return r.length===1?r[0]:{compositeFilter:{op:zR(t.op),filters:r}}}(n):Ae(54877,{filter:n})}function P_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,t,r,i,s=Ie.min(),o=Ie.min(),l=It.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.yt=e}}function WR(n){const e=jR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.Cn=new YR}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Or.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class YR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt(Xe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D_=41943040;class Zt{static withCacheSize(e){return new Zt(e,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(D_,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xi(0)}static cr(){return new Xi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LruGarbageCollector",QR=1048576;function Dp([n,e],[t,r]){const i=Me(n,t);return i===0?Me(e,r):i}class JR{constructor(e){this.Ir=e,this.buffer=new mt(Dp),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Dp(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(Pp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){as(t)?le(Pp,"Ignoring IndexedDB error during garbage collection: ",t):await Il(t)}await this.Vr(3e5)})}}class ZR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(bl.ce);const r=new JR(t);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Rp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rp):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,l,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,t))).next(p=>(s=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ai()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function e1(n,e){return new ZR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.changes=new mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Xs(r.mutation,i,Er.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=ri();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ms();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ri();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,r,i){let s=Vr();const o=Js(),l=function(){return Js()}();return t.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof kl)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Xs(f.mutation,u,f.mutation.getFieldMask(),ct.now())):o.set(u.key,Er.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),t.forEach((u,f)=>l.set(u,new n1(f,o.get(u)??null))),l))}recalculateAndSaveOverlays(e,t){const r=Js();let i=new it((o,l)=>o-l),s=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=t.get(c);if(u===null)return;let f=r.get(c)||Er.empty();f=l.applyToLocalView(u,f),r.set(c,f);const p=(i.get(l.batchId)||Ve()).add(c);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,f=c.value,p=m_();f.forEach(m=>{if(!s.has(m)){const _=v_(t.get(m),r.get(m));_!==null&&p.set(m,_),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):K.resolve(ri());let l=fo,c=s;return o.next(u=>K.forEach(u,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?K.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ve())).next(f=>({batchId:l,changes:fR(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let i=Ms();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ms();return this.indexManager.getCollectionParents(e,s).next(l=>K.forEach(l,c=>{const u=function(p,m){return new Sl(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Vt.newInvalidDocument(f)))});let l=Ms();return o.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Xs(f.mutation,u,Er.empty(),ct.now()),Pl(t,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Hi(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:WR(i.bundledQuery),readTime:Hi(i.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ri();return K.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.St(e,t,s)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const i=ri(),s=t.length+1,o=new ye(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new it((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=ri(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const l=ri(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=i)););return K.resolve(l)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AR(t,r));let s=this.qr.get(t);s===void 0&&(s=Ve(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this.Qr=new mt(yt.$r),this.Ur=new mt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new yt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new yt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Xe([])),r=new yt(t,e),i=new yt(t,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Xe([])),r=new yt(t,e),i=new yt(t,e+1);let s=Ve();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new yt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new mt(yt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bR(s,t,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new yt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?US:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new yt(t,0),i=new yt(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(Me);return t.forEach(i=>{const s=new yt(i,0),o=new yt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{r=r.add(l.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new yt(new ye(s),0);let l=new mt(Me);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.Yr)),!0)},o),K.resolve(this.ti(l))}ti(e){const t=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(t.mutations,i=>{const s=new yt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new yt(t,0),i=this.Zr.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.ri=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let r=Vr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vr();const o=t.path,l=new ye(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||xS(NS(f),r)<=0||(i.has(f.key)||Pl(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ae(9500)}ii(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new c1(this)}getSize(e){return K.resolve(this.size)}}class c1 extends t1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.persistence=e,this.si=new mi(t=>fh(t),dh),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new _h,this.targetCount=0,this.ai=Xi.ur()}forEachTarget(e,t){return this.si.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Xi(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,t){this.ui={},this.overlays={},this.ci=new bl(0),this.li=!1,this.li=!0,this.hi=new o1,this.referenceDelegate=e(this),this.Pi=new u1(this),this.indexManager=new GR,this.remoteDocumentCache=function(i){return new l1(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new KR(t),this.Ii=new i1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new s1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new a1(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const i=new h1(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class h1 extends LS{constructor(e){super(),this.currentSequenceNumber=e}}class vh{constructor(e){this.persistence=e,this.Ri=new _h,this.Vi=null}static mi(e){return new vh(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const i=ye.fromPath(r);return this.gi(e,i).next(s=>{s||t.removeEntry(i,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ya{constructor(e,t){this.persistence=e,this.pi=new mi(r=>BS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e1(this,t)}static mi(e,t){return new Ya(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return K.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?K.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(l=>{l||(r++,s.removeEntry(o,Ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wa(e.data.value)),t}br(e,t,r){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return K.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Ve(),i=Ve();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Eh(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return eA()?8:FS(Bt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new f1;return this.Ss(e,t,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,t,o,l.size)})}).next(()=>s.result)}bs(e,t,r,i){return r.documentReadCount<this.fs?(Ai()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ci(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Ai()<=ke.DEBUG&&le("QueryEngine","Query:",Ci(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ai()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ci(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(t))):K.resolve())}ys(e,t){if(_p(t))return K.resolve(null);let r=Un(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gu(t,null,"F"),r=Un(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ve(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(t,l);return this.Cs(t,u,o,c.readTime)?this.ys(e,gu(t,null,"F")):this.vs(e,u,t,c)}))})))}ws(e,t,r,i){return _p(t)||i.isEqual(Ie.min())?K.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?K.resolve(null):(Ai()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ci(t)),this.vs(e,o,t,MS(i,fo)).next(l=>l))})}Ds(e,t){let r=new mt(d_(e));return t.forEach((i,s)=>{Pl(e,s)&&(r=r.add(s))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Ai()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ci(t)),this.ps.getDocumentsMatchingQuery(e,t,Or.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="LocalStore",p1=3e8;class m1{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new it(Me),this.xs=new mi(s=>fh(s),dh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function g1(n,e,t,r){return new m1(n,e,t,r)}async function O_(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Ve();for(const u of i){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){l.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:l}))})})}function M_(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function y1(n,e){const t=xe(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p)));let _=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(It.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(A,k,$){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=p1?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(m,_,f)&&l.push(t.Pi.updateTargetData(s,_))});let c=Vr(),u=Ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(_1(s,o,e.documentUpdates).next(f=>{c=f.ks,u=f.qs})),!r.isEqual(Ie.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next(p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return K.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Ms=i,s))}function _1(n,e,t){let r=Ve(),i=Ve();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vr();return t.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ie.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):le(wh,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function v1(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Pi.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):t.Pi.allocateTargetId(r).next(o=>(i=new wr(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function wu(n,e,t){const r=xe(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!as(o))throw o;le(wh,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function kp(n,e,t){const r=xe(n);let i=Ie.min(),s=Ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){const p=xe(c),m=p.xs.get(f);return m!==void 0?K.resolve(p.Ms.get(m)):p.Pi.getTargetData(u,f)}(r,o,Un(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:Ie.min(),t?s:Ve())).next(l=>(E1(r,cR(e),l),{documents:l,Qs:s})))}function E1(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Os.set(e,r)}class Op{constructor(){this.activeTargetIds=mR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w1{constructor(){this.Mo=new Op,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Op,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="ConnectivityMonitor";class Np{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Mp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Mp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function Tu(){return oa===null?oa=function(){return 268435456+Math.round(2147483648*Math.random())}():oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc="RestConnection",I1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b1{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===qa?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=Tu(),l=this.zo(e,t.toUriEncodedString());le(bc,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(l),f=rs(u);return this.Jo(e,l,c,r,f).then(p=>(le(bc,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Gi(bc,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+os}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,t){const r=I1[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class C1 extends b1{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=Tu();return new Promise((l,c)=>{const u=new Wy;u.setWithCredentials(!0),u.listenOnce(Gy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case va.NO_ERROR:const p=u.getResponseJson();le(Dt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case va.TIMEOUT:le(Dt,`RPC '${e}' ${o} timed out`),c(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case va.HTTP_ERROR:const m=u.getStatus();if(le(Dt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const P=_?.error;if(P&&P.status&&P.message){const A=function($){const B=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(B)>=0?B:Z.UNKNOWN}(P.status);c(new pe(A,P.message))}else c(new pe(Z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{le(Dt,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);le(Dt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",f,r,15)})}T_(e,t,r){const i=Tu(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jy(),l=Qy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=s.join("");le(Dt,`Creating RPC '${e}' stream ${i}: ${f}`,c);const p=o.createWebChannel(f,c);this.I_(p);let m=!1,_=!1;const P=new A1({Yo:k=>{_?le(Dt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(le(Dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),le(Dt,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Zo:()=>p.close()}),A=(k,$,B)=>{k.listen($,U=>{try{B(U)}catch(x){setTimeout(()=>{throw x},0)}})};return A(p,Os.EventType.OPEN,()=>{_||(le(Dt,`RPC '${e}' stream ${i} transport opened.`),P.o_())}),A(p,Os.EventType.CLOSE,()=>{_||(_=!0,le(Dt,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(p))}),A(p,Os.EventType.ERROR,k=>{_||(_=!0,Gi(Dt,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),P.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),A(p,Os.EventType.MESSAGE,k=>{if(!_){const $=k.data[0];Ze(!!$,16349);const B=$,U=B?.error||B[0]?.error;if(U){le(Dt,`RPC '${e}' stream ${i} received error:`,U);const x=U.status;let J=function(w){const E=ot[w];if(E!==void 0)return w_(E)}(x),oe=U.message;J===void 0&&(J=Z.INTERNAL,oe="Unknown error status: "+x+" with message "+U.message),_=!0,P.a_(new pe(J,oe)),p.close()}else le(Dt,`RPC '${e}' stream ${i} received:`,$),P.u_($)}}),A(l,Yy.STAT_EVENT,k=>{k.stat===lu.PROXY?le(Dt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===lu.NOPROXY&&le(Dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Ac(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(n){return new MR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="PersistentStream";class S1{constructor(e,t,r,i,s,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new x_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{const i=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(xp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(xp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R1 extends S1{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FR(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?Hi(o.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Sp(this.serializer),t.addTarget=function(s,o){let l;const c=o.target;if(l=mu(c)?{documents:UR(s,c)}:{query:BR(s,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xR(s,o.resumeToken);const u=vu(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ie.min())>0){l.readTime=NR(s,o.snapshotVersion.toTimestamp());const u=vu(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=HR(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Sp(this.serializer),t.removeTarget=e,this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class D1 extends P1{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Eu(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(Z.UNKNOWN,s.toString())})}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,Eu(t,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class k1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="RemoteStore";class O1{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ko(this)&&(le(Zi,"Restarting streams for network reachability change."),await async function(c){const u=xe(c);u.Ea.add(4),await Do(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Ml(u)}(this))})}),this.Ra=new k1(r,i)}}async function Ml(n){if(ko(n))for(const e of n.da)await e(!0)}async function Do(n){for(const e of n.da)await e(!1)}function V_(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ah(t)?bh(t):ls(t).O_()&&Ih(t,e))}function Th(n,e){const t=xe(n),r=ls(t);t.Ia.delete(e),r.O_()&&L_(t,e),t.Ia.size===0&&(r.O_()?r.L_():ko(t)&&t.Ra.set("Unknown"))}function Ih(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ls(n).Y_(e)}function L_(n,e){n.Va.Ue(e),ls(n).Z_(e)}function bh(n){n.Va=new PR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ls(n).start(),n.Ra.ua()}function Ah(n){return ko(n)&&!ls(n).x_()&&n.Ia.size>0}function ko(n){return xe(n).Ea.size===0}function F_(n){n.Va=void 0}async function M1(n){n.Ra.set("Online")}async function N1(n){n.Ia.forEach((e,t)=>{Ih(n,e)})}async function x1(n,e){F_(n),Ah(n)?(n.Ra.ha(e),bh(n)):n.Ra.set("Unknown")}async function V1(n,e,t){if(n.Ra.set("Online"),e instanceof I_&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(n,e)}catch(r){le(Zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vp(n,r)}else if(e instanceof Ia?n.Va.Ze(e):e instanceof T_?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await M_(n.localStore);t.compareTo(r)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(It.EMPTY_BYTE_STRING,f.snapshotVersion)),L_(s,c);const p=new wr(f.target,c,u,f.sequenceNumber);Ih(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){le(Zi,"Failed to raise snapshot:",r),await Vp(n,r)}}async function Vp(n,e,t){if(!as(e))throw e;n.Ea.add(1),await Do(n),n.Ra.set("Offline"),t||(t=()=>M_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Zi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ml(n)})}async function Lp(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),le(Zi,"RemoteStore received new credentials");const r=ko(t);t.Ea.add(3),await Do(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ml(t)}async function L1(n,e){const t=xe(n);e?(t.Ea.delete(2),await Ml(t)):e||(t.Ea.add(2),await Do(t),t.Ra.set("Unknown"))}function ls(n){return n.ma||(n.ma=function(t,r,i){const s=xe(t);return s.sa(),new R1(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Xo:M1.bind(null,n),t_:N1.bind(null,n),r_:x1.bind(null,n),H_:V1.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Ah(n)?bh(n):n.Ra.set("Unknown")):(await n.ma.stop(),F_(n))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,l=new Ch(e,t,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(n,e){if(rr("AsyncQueue",`${e}: ${n}`),as(n))return new pe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{static emptySet(e){return new $i(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Ms(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.ga=new it(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class es{constructor(e,t,r,i,s,o,l,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new es(e,t,$i.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class U1{constructor(){this.queries=Up(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=xe(t),s=i.queries;i.queries=Up(),s.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function Up(){return new mi(n=>f_(n),Rl)}async function B1(n,e){const t=xe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new F1,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=U_(o,`Initialization of query '${Ci(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Sh(t)}async function j1(n,e){const t=xe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function H1(n,e){const t=xe(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&Sh(t)}function $1(n,e,t){const r=xe(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function Sh(n){n.Ca.forEach(e=>{e.next()})}var Iu,Bp;(Bp=Iu||(Iu={})).Ma="default",Bp.Cache="cache";class q1{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new es(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Iu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this.key=e}}class j_{constructor(e){this.key=e}}class z1{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=d_(e),this.tu=new $i(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Fp,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),_=Pl(this.query,p)?p:null,P=!!m&&this.mutatedKeys.has(m.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?P!==A&&(r.track({type:3,doc:_}),k=!0):this.su(m,_)||(r.track({type:2,doc:_}),k=!0,(c&&this.eu(_,c)>0||u&&this.eu(_,u)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),k=!0):m&&!_&&(r.track({type:1,doc:m}),k=!0,(c||u)&&(l=!0)),k&&(_?(o=o.add(_),s=A?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(_,P){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:k})}};return A(_)-A(P)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;const l=t&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new es(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new j_(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new B_(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return es.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rh="SyncEngine";class K1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class W1{constructor(e){this.key=e,this.hu=!1}}class G1{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new mi(l=>f_(l),Rl),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new _h,this.Vu={},this.mu=new Map,this.fu=Xi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y1(n,e,t=!0){const r=K_(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await H_(r,e,t,!0),i}async function Q1(n,e){const t=K_(n);await H_(t,e,!0,!1)}async function H_(n,e,t,r){const i=await v1(n.localStore,Un(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let l;return r&&(l=await J1(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&V_(n.remoteStore,i),l}async function J1(n,e,t,r,i){n.pu=(p,m,_)=>async function(A,k,$,B){let U=k.view.ru($);U.Cs&&(U=await kp(A.localStore,k.query,!1).then(({documents:R})=>k.view.ru(R,U)));const x=B&&B.targetChanges.get(k.targetId),J=B&&B.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(U,A.isPrimaryClient,x,J);return Hp(A,k.targetId,oe.au),oe.snapshot}(n,p,m,_);const s=await kp(n.localStore,e,!0),o=new z1(e,s.Qs),l=o.ru(s.documents),c=Po.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(l,n.isPrimaryClient,c);Hp(n,t,u.au);const f=new K1(e,t,o);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),u.snapshot}async function X1(n,e,t){const r=xe(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Rl(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Th(r.remoteStore,i.targetId),bu(r,i.targetId)}).catch(Il)):(bu(r,i.targetId),await wu(r.localStore,i.targetId,!0))}async function Z1(n,e){const t=xe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Th(t.remoteStore,r.targetId))}async function $_(n,e){const t=xe(n);try{const r=await y1(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Au.get(s);o&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ze(o.hu,14607):i.removedDocuments.size>0&&(Ze(o.hu,42227),o.hu=!1))}),await z_(t,r,e)}catch(r){await Il(r)}}function jp(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=xe(o);c.onlineState=l;let u=!1;c.queries.forEach((f,p)=>{for(const m of p.Sa)m.va(l)&&(u=!0)}),u&&Sh(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eP(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new it(ye.comparator);o=o.insert(s,Vt.newNoDocument(s,Ie.min()));const l=Ve().add(s),c=new Ol(Ie.min(),new Map,new it(Me),o,l);await $_(r,c),r.du=r.du.remove(s),r.Au.delete(e),Ph(r)}else await wu(r.localStore,e,!1).then(()=>bu(r,e,t)).catch(Il)}function bu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||q_(n,r)})}function q_(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Th(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Ph(n))}function Hp(n,e,t){for(const r of t)r instanceof B_?(n.Ru.addReference(r.key,e),tP(n,r)):r instanceof j_?(le(Rh,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||q_(n,r.key)):Ae(19791,{wu:r})}function tP(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(le(Rh,"New document in limbo: "+t),n.Eu.add(r),Ph(n))}function Ph(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new W1(t)),n.du=n.du.insert(t,r),V_(n.remoteStore,new wr(Un(ph(t.path)),r,"TargetPurposeLimboResolution",bl.ce))}}async function z_(n,e,t){const r=xe(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient){const f=u?!u.fromCache:t?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Eh.As(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const f=xe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>K.forEach(u,m=>K.forEach(m.Es,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>K.forEach(m.ds,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!as(p))throw p;le(wh,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const _=f.Ms.get(m),P=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(P);f.Ms=f.Ms.insert(m,A)}}}(r.localStore,s))}async function nP(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){le(Rh,"User change. New user:",e.toKey());const r=await O_(t.localStore,e);t.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(c=>{c.reject(new pe(Z.CANCELLED,o))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await z_(t,r.Ls)}}function rP(n,e){const t=xe(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const l=t.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function K_(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eP.bind(null,e),e.Pu.H_=H1.bind(null,e.eventManager),e.Pu.yu=$1.bind(null,e.eventManager),e}class Qa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=N_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return g1(this.persistence,new d1,e.initialUser,this.serializer)}Cu(e){return new k_(vh.mi,this.serializer)}Du(e){return new w1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qa.provider={build:()=>new Qa};class iP extends Qa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof Ya,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new k_(r=>Ya.mi(r,t),this.serializer)}}class Au{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nP.bind(null,this.syncEngine),await L1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U1}()}createDatastore(e){const t=N_(e.databaseInfo.databaseId),r=function(s){return new C1(s)}(e.databaseInfo);return function(s,o,l,c){return new D1(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,o,l){return new O1(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>jp(this.syncEngine,t,0),function(){return Np.v()?new Np:new T1}())}createSyncEngine(e,t){return function(i,s,o,l,c,u,f){const p=new G1(i,s,o,l,c,u);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=xe(t);le(Zi,"RemoteStore shutting down."),r.Ea.add(5),await Do(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Au.provider={build:()=>new Au};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class oP{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=ch.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{le(Lr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le(Lr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=U_(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cc(n,e){n.asyncQueue.verifyOperationInProgress(),le(Lr,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await O_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function $p(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aP(n);le(Lr,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Lp(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Lp(e.remoteStore,i)),n._onlineComponents=e}async function aP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Lr,"Using user provided OfflineComponentProvider");try{await Cc(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Z.FAILED_PRECONDITION||i.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gi("Error using user provided cache. Falling back to memory cache: "+t),await Cc(n,new Qa)}}else le(Lr,"Using default OfflineComponentProvider"),await Cc(n,new iP(void 0));return n._offlineComponents}async function lP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Lr,"Using user provided OnlineComponentProvider"),await $p(n,n._uninitializedComponentsProvider._online)):(le(Lr,"Using default OnlineComponentProvider"),await $p(n,new Au))),n._onlineComponents}async function qp(n){const e=await lP(n),t=e.eventManager;return t.onListen=Y1.bind(null,e.syncEngine),t.onUnlisten=X1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Q1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z1.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firestore.googleapis.com",Kp=!0;class Wp{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G_,this.ssl=Kp}else this.host=e.host,this.ssl=e.ssl??Kp;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<QR)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W_(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vS;switch(r.type){case"firstParty":return new IS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=zp.get(t);r&&(le("ComponentProvider","Removing Datastore"),zp.delete(t),r.terminate())}(this),Promise.resolve()}}function cP(n,e,t,r={}){n=Ea(n,Dh);const i=rs(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;i&&(oy(`https://${l}`),ay("Firestore",!0)),s.host!==G_&&s.host!==l&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!ui(c,o)&&(n._setSettings(c),r.mockUserToken)){let u,f;if(typeof r.mockUserToken=="string")u=r.mockUserToken,f=Ot.MOCK_USER;else{u=zb(r.mockUserToken,n._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ot(p)}n._authCredentials=new ES(new Zy(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nl(this.firestore,e,this._query)}}class Qt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(So(t,Qt._jsonSchema))return new Qt(e,r||null,new ye(Xe.fromString(t.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:ut("string",Qt._jsonSchemaVersion),referencePath:ut("string")};class yo extends Nl{constructor(e,t,r){super(e,t,ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ye(e))}withConverter(e){return new yo(this.firestore,e,this._path)}}function Y_(n,e,...t){if(n=Ur(n),arguments.length===1&&(e=ch.newId()),PS("doc","path",e),n instanceof Dh){const r=Xe.fromString(e,...t);return sp(r),new Qt(n,null,new ye(r))}{if(!(n instanceof Qt||n instanceof yo))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return sp(r),new Qt(n.firestore,n instanceof yo?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="AsyncQueue";class Yp{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new x_(this,"async_queue_retry"),this._c=()=>{const r=Ac();r&&le(Gp,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ac();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ac();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ji;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!as(e))throw e;le(Gp,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",Qp(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Ch.createAndSchedule(this,e,t,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:Qp(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qp(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class Cu extends Dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yp(e),this._firestoreClient=void 0,await e}}}function uP(n,e){const t=typeof n=="object"?n:hy(),r=typeof n=="string"?n:qa,i=eh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=$b("firestore");s&&cP(i,...s)}return i}function hP(n){if(n._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fP(n),n._firestoreClient}function fP(n){const e=n._freezeSettings(),t=function(i,s,o,l){return new qS(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,W_(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new oP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(It.fromBase64String(e))}catch(t){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(So(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:ut("string",Nn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(So(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:ut("string",Rr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(So(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Pr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:ut("string",Pr._jsonSchemaVersion),vectorValues:ut("object")};const dP=new RegExp("[~\\*/\\[\\]]");function pP(n,e,t){if(e.search(dP)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new Q_(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Xp(n,e,t,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new pe(Z.INVALID_ARGUMENT,s+n+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(X_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mP extends J_{data(){return super.data()}}function X_(n,e){return typeof e=="string"?pP(n,e):e instanceof Q_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yP{convertValue(e,t="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){const t=e.fields?.[hu].arrayValue?.values?.map(r=>nt(r.doubleValue));return new Pr(t)}convertGeoPoint(e){return new Rr(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cl(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(po(e));default:return null}}convertTimestamp(e){const t=Mr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);Ze(P_(r),9688,{name:e});const i=new mo(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(t)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class xs{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ai extends J_{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ba(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(X_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ai._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",ai._jsonSchema={type:ut("string",ai._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class ba extends ai{data(e={}){return super.data(e)}}class qi{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ba(this._firestore,this._userDataWriter,r.key,r,new xs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new ba(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new ba(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xs(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:_P(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ch.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _P(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}qi._jsonSchemaVersion="firestore/querySnapshot/1.0",qi._jsonSchema={type:ut("string",qi._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class Z_ extends yP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}}function ev(n,...e){n=Ur(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Jp(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Jp(e[r])){const c=e[r];e[r]=c.next?.bind(c),e[r+1]=c.error?.bind(c),e[r+2]=c.complete?.bind(c)}let s,o,l;if(n instanceof Qt)o=Ea(n.firestore,Cu),l=ph(n._key.path),s={next:c=>{e[r]&&e[r](vP(o,n,c))},error:e[r+1],complete:e[r+2]};else{const c=Ea(n,Nl);o=Ea(c.firestore,Cu),l=c._query;const u=new Z_(o);s={next:f=>{e[r]&&e[r](new qi(o,u,c,f))},error:e[r+1],complete:e[r+2]},gP(n._query)}return function(u,f,p,m){const _=new sP(m),P=new q1(f,_,p);return u.asyncQueue.enqueueAndForget(async()=>B1(await qp(u),P)),()=>{_.Nu(),u.asyncQueue.enqueueAndForget(async()=>j1(await qp(u),P))}}(hP(o),l,i,s)}function vP(n,e,t){const r=t.docs.get(e._key),i=new Z_(n);return new ai(n,i,e._key,r,new xs(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){os=i})(is),Wi(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Cu(new wS(r.getProvider("auth-internal")),new bS(o,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mo(u.options.projectId,f)}(o,i),o);return s={useFetchStreams:t,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ar(tp,np,e),Ar(tp,np,"esm2020")})();const EP={apiKey:"AIzaSyBwNIB5dukrM1rWeuu2bjEitJKSut9chg0",authDomain:"factgraph-38be7.firebaseapp.com",projectId:"factgraph-38be7",storageBucket:"factgraph-38be7.firebasestorage.app",messagingSenderId:"671154684730",appId:"1:671154684730:web:94c81f0af3589fc603",measurementId:"G-YGF3FZ1SG3"},wP=uy(EP),tv=uP(wP),nv=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},TP={class:"header"},IP={class:"header-right"},bP={class:"menu-dropdown",ref:"menu"},AP={class:"container"},CP={class:"tab-switch"},SP={class:"input-area"},RP={class:"input-group"},PP=["placeholder"],DP=["placeholder"],kP=["innerHTML"],OP={class:"knowledge-wrapper"},MP=["innerHTML"],NP={key:0,class:"modal-overlay"},xP={class:"modal-box"},VP="",Ss="這裡會顯示結果。",Rs="這裡會顯示對照知識。",LP={__name:"ServicePage",setup(n){const e=at(!1),t=at("writing"),r=at(""),i=at(""),s=at(Ss),o=at(Rs),l=at(""),c=at(!1),u=at(!0);let f=null;const p=at(!1),m=at("");let _=null;function P(){navigator.clipboard.writeText(m.value).then(()=>alert("已複製臨時網址")).catch(()=>alert("複製失敗，請手動複製"))}const A=tn(()=>t.value==="question"?"選擇事件詢問日期":"選擇新聞發布日期");ol(async()=>{lt(document.querySelector(".date-input"),{dateFormat:"Y/m/d",defaultDate:i.value,clickOpens:!0,allowInput:!1,disableMobile:!0,onChange:(U,x)=>i.value=x});try{const U=mS();await Z0(U),console.log("Firebase 已匿名登入，UID =",U.currentUser.uid)}catch(U){console.error("匿名登入失敗",U),$("無法完成匿名登入，請稍後再試")}});function k(U){t.value=U,r.value="",i.value="",s.value=Ss,o.value=Rs}function $(U){l.value=U,clearTimeout(f),f=setTimeout(()=>l.value="",2e3)}async function B(){if(c.value=!0,setTimeout(()=>c.value=!1,300),!r.value)return $(t.value==="writing"?"請輸入內容！":"請輸入你的問題！");if(!i.value)return $("請選擇日期！");e.value=!0,s.value="",o.value="",_&&(_(),_=null);let U;try{const{data:J}=await rt.post(`${VP}/api/tasks`,{url:r.value,mode:t.value,date:i.value});U=J.id,m.value=`${window.location.origin}/tasks/${U}`,p.value=!0}catch(J){console.error("建立臨時任務失敗",J),$("無法建立查詢任務"),e.value=!1;return}const x=Y_(tv,"url-results",U);_=ev(x,J=>{if(console.log("[onSnapshot] got snapshot",J.exists(),J.data()),!J.exists())return;const oe=J.data();if(oe.error?.code===502){window.location.href=m.value;return}if(oe.status!=="DONE")return;if(t.value==="question"?!oe.questionAnswer&&!oe.questionKnowledge:!oe.writingAnswer&&!oe.writingKnowledge){alert(`📢 芒狗通知您 🐶
目前這個問題沒有足夠的知識可以匹配📚
請換個問法或問題再試一次🔁！`),location.reload();return}t.value==="question"?(s.value=oe.questionAnswer||Ss,o.value=oe.questionKnowledge||Rs):(s.value=oe.writingAnswer||Ss,o.value=oe.writingKnowledge||Rs),e.value=!1,_?.()},J=>{console.error("[onSnapshot] got error",J),$("無法連線至 Firestore，請稍後重試")})}return(U,x)=>(zt(),hn(xt,null,[l.value?(zt(),hn("div",{key:0,class:Mt(["error-message",{show:l.value}])},ti(l.value),3)):Bc("",!0),x[17]||(x[17]=re("img",{src:xi,class:"dog-hand dog-hand-1",alt:"dog hand"},null,-1)),x[18]||(x[18]=re("img",{src:xi,class:"dog-hand dog-hand-2",alt:"dog hand"},null,-1)),x[19]||(x[19]=re("img",{src:xi,class:"dog-hand dog-hand-3",alt:"dog hand"},null,-1)),re("header",TP,[x[8]||(x[8]=re("div",{class:"header-left"},[re("span",{class:"header-icon",role:"img","aria-label":"camera"},[re("img",{src:Ag,alt:"camera icon",style:{width:"60px",height:"60px",display:"block"}})]),re("span",{class:"header-title"},"圖破謠言，新聞真偽辨識AI")],-1)),re("div",IP,[re("button",{class:"menu-btn",onClick:x[0]||(x[0]=J=>U.$refs.menu.classList.toggle("show"))},x[6]||(x[6]=[re("span",{class:"menu-bar"},null,-1),re("span",{class:"menu-bar"},null,-1),re("span",{class:"menu-bar"},null,-1)])),re("nav",bP,x[7]||(x[7]=[re("a",{href:"#"},"首頁",-1),re("a",{href:"#"},"服務介紹",-1),re("a",{href:"#"},"關於我們",-1)]),512)])]),x[20]||(x[20]=re("img",{src:Cg,class:"bg-dog",alt:"dog icon"},null,-1)),re("div",AP,[x[14]||(x[14]=re("h1",null,"來找芒狗偵探，幫你了解真相！",-1)),re("div",CP,[re("button",{class:Mt(["tab-btn",{active:t.value==="writing"}]),onClick:x[1]||(x[1]=J=>k("writing"))}," 文案查詢 ",2),re("button",{class:Mt(["tab-btn",{active:t.value==="question"}]),onClick:x[2]||(x[2]=J=>k("question"))}," 詢問模式 ",2)]),re("div",SP,[re("div",RP,[Nc(re("input",{type:"text","onUpdate:modelValue":x[3]||(x[3]=J=>r.value=J),placeholder:t.value==="writing"?"請輸入文案內容...":"請輸入你的問題..."},null,8,PP),[[Hw,r.value]]),re("input",{class:"date-input",inputmode:"none",placeholder:A.value,style:{background:"#fff8f0",cursor:"pointer"}},null,8,DP),re("button",{id:"query-btn",class:Mt({bounce:c.value}),onClick:B},ti(e.value?"調查中…":"開始查核"),3)])]),re("div",{class:Mt(["answer-card",{default:!e.value&&s.value===Ss}])},[e.value?(zt(),hn(xt,{key:0},[x[9]||(x[9]=re("div",{class:"loading-spinner"},null,-1)),x[10]||(x[10]=re("p",{class:"loading-text"},"芒狗調查中… 請稍候",-1))],64)):(zt(),hn("div",{key:1,innerHTML:s.value},null,8,kP))],2),re("div",OP,[re("button",{class:"collapse-btn",onClick:x[4]||(x[4]=J=>u.value=!u.value)},[$u(ti(u.value?"展開對照知識":"收起對照知識")+" ",1),re("span",{class:Mt(["triangle",{rotated:!u.value}])},x[11]||(x[11]=[re("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},[re("polygon",{points:"4,7 9,12 14,7",fill:"#fff"})],-1)]),2)]),Ft($c,{name:"fade"},{default:Ra(()=>[Nc(re("div",{class:Mt(["knowledge-card",{default:!e.value&&o.value===Rs}])},[e.value?(zt(),hn(xt,{key:0},[x[12]||(x[12]=re("div",{class:"loading-spinner"},null,-1)),x[13]||(x[13]=re("p",{class:"loading-text"},"芒狗調查中… 請稍候",-1))],64)):(zt(),hn("div",{key:1,innerHTML:o.value},null,8,MP))],2),[[fg,e.value||!u.value]])]),_:1})])]),Ft($c,{name:"fade"},{default:Ra(()=>[p.value?(zt(),hn("div",NP,[re("div",xP,[x[15]||(x[15]=re("h3",null,"臨時查詢網址",-1)),re("p",{class:"url-text",onClick:P,title:"點擊複製"},ti(m.value),1),x[16]||(x[16]=re("small",null,"稍後可由此網址查看調查結果",-1)),re("button",{class:"modal-ok",onClick:x[5]||(x[5]=J=>p.value=!1)},"確定")])])):Bc("",!0)]),_:1})],64))}},FP=nv(LP,[["__scopeId","data-v-317e484e"]]),UP={class:"header"},BP={class:"header-right"},jP={class:"menu-dropdown",ref:"menu"},HP={class:"container"},$P={class:"tab-switch"},qP=["innerHTML"],zP={class:"knowledge-wrapper"},KP=["innerHTML"],Ps="這裡會顯示結果。",Ds="這裡會顯示對照知識。",WP={__name:"TaskStatus",setup(n){const t=XT().params.id,r=at("writing"),i=at(!0),s=at(!0),o=at("");function l(P){o.value=P}const c=at(Ps),u=at(Ds),f=at(Ps),p=at(Ds),m=tn(()=>r.value==="writing"?c.value:f.value),_=tn(()=>r.value==="writing"?u.value:p.value);return ol(()=>{const P=Y_(tv,"url-results",t);ev(P,A=>{if(!A.exists()){i.value=!1;return}const k=A.data();if((k.mode==="writing"||k.mode==="question")&&(r.value=k.mode),k.status==="FAILED"){i.value=!1,l("任務執行失敗，請稍後重試");return}if(k.status!=="DONE"){i.value=!0;return}if(k.mode==="writing"?!k.writingAnswer&&!k.writingKnowledge:!k.questionAnswer&&!k.questionKnowledge){alert(`📢 芒狗通知您 🐶
目前這個問題沒有足夠的知識可以匹配📚
請換個問法或問題再試一次🔁！`),window.location.replace("https://factgraph-38be7.web.app/");return}i.value=!1,c.value=k.writingAnswer||Ps,u.value=k.writingKnowledge||Ds,f.value=k.questionAnswer||Ps,p.value=k.questionKnowledge||Ds},A=>{console.error("Firestore 監聽失敗：",A),i.value=!1,l("無法連線到 Firestore")})}),(P,A)=>(zt(),hn(xt,null,[o.value?(zt(),hn("div",{key:0,class:Mt(["error-message",{show:o.value}])},ti(o.value),3)):Bc("",!0),A[12]||(A[12]=re("img",{src:xi,class:"dog-hand dog-hand-1",alt:"dog hand"},null,-1)),A[13]||(A[13]=re("img",{src:xi,class:"dog-hand dog-hand-2",alt:"dog hand"},null,-1)),A[14]||(A[14]=re("img",{src:xi,class:"dog-hand dog-hand-3",alt:"dog hand"},null,-1)),re("header",UP,[A[6]||(A[6]=re("div",{class:"header-left"},[re("span",{class:"header-icon",role:"img","aria-label":"camera"},[re("img",{src:Ag,alt:"camera icon",style:{width:"60px",height:"60px",display:"block"}})]),re("span",{class:"header-title"},"圖破謠言，新聞真偽辨識AI")],-1)),re("div",BP,[re("button",{class:"menu-btn",onClick:A[0]||(A[0]=k=>P.$refs.menu.classList.toggle("show"))},A[4]||(A[4]=[re("span",{class:"menu-bar"},null,-1),re("span",{class:"menu-bar"},null,-1),re("span",{class:"menu-bar"},null,-1)])),re("nav",jP,A[5]||(A[5]=[re("a",{href:"#"},"首頁",-1),re("a",{href:"#"},"服務介紹",-1),re("a",{href:"#"},"關於我們",-1)]),512)])]),A[15]||(A[15]=re("img",{src:Cg,class:"bg-dog",alt:"dog icon"},null,-1)),re("div",HP,[A[11]||(A[11]=re("h1",null,"查詢結果",-1)),re("div",$P,[re("button",{class:Mt(["tab-btn",{active:r.value==="writing"}]),onClick:A[1]||(A[1]=k=>r.value="writing")}," 文案查詢 ",2),re("button",{class:Mt(["tab-btn",{active:r.value==="question"}]),onClick:A[2]||(A[2]=k=>r.value="question")}," 詢問模式 ",2)]),re("div",{class:Mt(["answer-card",{default:!i.value&&m.value===Ps}])},[i.value?(zt(),hn(xt,{key:0},[A[7]||(A[7]=re("div",{class:"loading-spinner"},null,-1)),A[8]||(A[8]=re("p",{class:"loading-text"},"偵探調查中… 請稍候",-1))],64)):(zt(),hn("div",{key:1,innerHTML:m.value},null,8,qP))],2),re("div",zP,[re("button",{class:"collapse-btn",onClick:A[3]||(A[3]=k=>s.value=!s.value)},[$u(ti(s.value?"展開對照知識":"收起對照知識")+" ",1),re("span",{class:Mt(["triangle",{rotated:!s.value}])},"…",2)]),Ft($c,{name:"fade"},{default:Ra(()=>[Nc(re("div",{class:Mt(["knowledge-card",{default:!i.value&&_.value===Ds}])},[i.value?(zt(),hn(xt,{key:0},[A[9]||(A[9]=re("div",{class:"loading-spinner"},null,-1)),A[10]||(A[10]=re("p",{class:"loading-text"},"偵探調查中… 請稍候",-1))],64)):(zt(),hn("div",{key:1,innerHTML:_.value},null,8,KP))],2),[[fg,i.value||!s.value]])]),_:1})])])],64))}},GP=nv(WP,[["__scopeId","data-v-517ba24c"]]),YP=[{path:"/",name:"ServicePage",component:FP},{path:"/tasks/:id",name:"TaskStatus",component:GP}],QP=QT({history:AT(),routes:YP});zw(Gw).use(QP).mount("#app");
