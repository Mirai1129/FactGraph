(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Iu(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const qe={},is=[],xn=()=>{},py=()=>!1,ia=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Su=n=>n.startsWith("onUpdate:"),yt=Object.assign,Ru=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},my=Object.prototype.hasOwnProperty,je=(n,e)=>my.call(n,e),ve=Array.isArray,os=n=>oa(n)==="[object Map]",Dd=n=>oa(n)==="[object Set]",be=n=>typeof n=="function",ct=n=>typeof n=="string",vr=n=>typeof n=="symbol",Qe=n=>n!==null&&typeof n=="object",Pd=n=>(Qe(n)||be(n))&&be(n.then)&&be(n.catch),xd=Object.prototype.toString,oa=n=>xd.call(n),gy=n=>oa(n).slice(8,-1),Md=n=>oa(n)==="[object Object]",Du=n=>ct(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,ii=Iu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),aa=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},yy=/-(\w)/g,dn=aa(n=>n.replace(yy,(e,t)=>t?t.toUpperCase():"")),_y=/\B([A-Z])/g,qr=aa(n=>n.replace(_y,"-$1").toLowerCase()),la=aa(n=>n.charAt(0).toUpperCase()+n.slice(1)),Wa=aa(n=>n?`on${la(n)}`:""),or=(n,e)=>!Object.is(n,e),bo=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},Dl=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t})},Pl=n=>{const e=parseFloat(n);return isNaN(e)?n:e},vy=n=>{const e=ct(n)?Number(n):NaN;return isNaN(e)?n:e};let rh;const ua=()=>rh||(rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pu(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],s=ct(r)?by(r):Pu(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(ct(n)||Qe(n))return n}const Ey=/;(?![^(]*\))/g,wy=/:([^]+)/,Ty=/\/\*[^]*?\*\//g;function by(n){const e={};return n.replace(Ty,"").split(Ey).forEach(t=>{if(t){const r=t.split(wy);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Mt(n){let e="";if(ct(n))e=n;else if(ve(n))for(let t=0;t<n.length;t++){const r=Mt(n[t]);r&&(e+=r+" ")}else if(Qe(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const Ay="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Cy=Iu(Ay);function Od(n){return!!n||n===""}const Nd=n=>!!(n&&n.__v_isRef===!0),as=n=>ct(n)?n:n==null?"":ve(n)||Qe(n)&&(n.toString===xd||!be(n.toString))?Nd(n)?as(n.value):JSON.stringify(n,Vd,2):String(n),Vd=(n,e)=>Nd(e)?Vd(n,e.value):os(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,s],i)=>(t[Ga(r,i)+" =>"]=s,t),{})}:Dd(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Ga(t))}:vr(e)?Ga(e):Qe(e)&&!ve(e)&&!Md(e)?String(e):e,Ga=(n,e="")=>{var t;return vr(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qt;class Iy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Qt,!e&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Qt;try{return Qt=this,e()}finally{Qt=t}}}on(){++this._on===1&&(this.prevScope=Qt,Qt=this)}off(){this._on>0&&--this._on===0&&(Qt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Sy(){return Qt}let ze;const Ya=new WeakSet;class kd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Qt&&Qt.active&&Qt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ya.has(this)&&(Ya.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,sh(this),Ud(this);const e=ze,t=gn;ze=this,gn=!0;try{return this.fn()}finally{Bd(this),ze=e,gn=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ou(e);this.deps=this.depsTail=void 0,sh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ya.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xl(this)&&this.run()}get dirty(){return xl(this)}}let Ld=0,oi,ai;function Fd(n,e=!1){if(n.flags|=8,e){n.next=ai,ai=n;return}n.next=oi,oi=n}function xu(){Ld++}function Mu(){if(--Ld>0)return;if(ai){let e=ai;for(ai=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;oi;){let e=oi;for(oi=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){n||(n=r)}e=t}}if(n)throw n}function Ud(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bd(n){let e,t=n.depsTail,r=t;for(;r;){const s=r.prevDep;r.version===-1?(r===t&&(t=s),Ou(r),Ry(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}n.deps=e,n.depsTail=t}function xl(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function jd(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===wi)||(n.globalVersion=wi,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!xl(n))))return;n.flags|=2;const e=n.dep,t=ze,r=gn;ze=n,gn=!0;try{Ud(n);const s=n.fn(n._value);(e.version===0||or(s,n._value))&&(n.flags|=128,n._value=s,e.version++)}catch(s){throw e.version++,s}finally{ze=t,gn=r,Bd(n),n.flags&=-3}}function Ou(n,e=!1){const{dep:t,prevSub:r,nextSub:s}=n;if(r&&(r.nextSub=s,n.prevSub=void 0),s&&(s.prevSub=r,n.nextSub=void 0),t.subs===n&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let i=t.computed.deps;i;i=i.nextDep)Ou(i,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Ry(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let gn=!0;const $d=[];function qn(){$d.push(gn),gn=!1}function zn(){const n=$d.pop();gn=n===void 0?!0:n}function sh(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=ze;ze=void 0;try{e()}finally{ze=t}}}let wi=0;class Dy{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nu{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ze||!gn||ze===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ze)t=this.activeLink=new Dy(ze,this),ze.deps?(t.prevDep=ze.depsTail,ze.depsTail.nextDep=t,ze.depsTail=t):ze.deps=ze.depsTail=t,Hd(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=ze.depsTail,t.nextDep=void 0,ze.depsTail.nextDep=t,ze.depsTail=t,ze.deps===t&&(ze.deps=r)}return t}trigger(e){this.version++,wi++,this.notify(e)}notify(e){xu();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Mu()}}}function Hd(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Hd(r)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const Ml=new WeakMap,Lr=Symbol(""),Ol=Symbol(""),Ti=Symbol("");function Ot(n,e,t){if(gn&&ze){let r=Ml.get(n);r||Ml.set(n,r=new Map);let s=r.get(t);s||(r.set(t,s=new Nu),s.map=r,s.key=t),s.track()}}function $n(n,e,t,r,s,i){const a=Ml.get(n);if(!a){wi++;return}const l=u=>{u&&u.trigger()};if(xu(),e==="clear")a.forEach(l);else{const u=ve(n),h=u&&Du(t);if(u&&t==="length"){const f=Number(r);a.forEach((p,m)=>{(m==="length"||m===Ti||!vr(m)&&m>=f)&&l(p)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),h&&l(a.get(Ti)),e){case"add":u?h&&l(a.get("length")):(l(a.get(Lr)),os(n)&&l(a.get(Ol)));break;case"delete":u||(l(a.get(Lr)),os(n)&&l(a.get(Ol)));break;case"set":os(n)&&l(a.get(Lr));break}}Mu()}function Jr(n){const e=Fe(n);return e===n?e:(Ot(e,"iterate",Ti),yn(n)?e:e.map(qt))}function Vu(n){return Ot(n=Fe(n),"iterate",Ti),n}const Py={__proto__:null,[Symbol.iterator](){return Qa(this,Symbol.iterator,qt)},concat(...n){return Jr(this).concat(...n.map(e=>ve(e)?Jr(e):e))},entries(){return Qa(this,"entries",n=>(n[1]=qt(n[1]),n))},every(n,e){return Fn(this,"every",n,e,void 0,arguments)},filter(n,e){return Fn(this,"filter",n,e,t=>t.map(qt),arguments)},find(n,e){return Fn(this,"find",n,e,qt,arguments)},findIndex(n,e){return Fn(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return Fn(this,"findLast",n,e,qt,arguments)},findLastIndex(n,e){return Fn(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return Fn(this,"forEach",n,e,void 0,arguments)},includes(...n){return Ja(this,"includes",n)},indexOf(...n){return Ja(this,"indexOf",n)},join(n){return Jr(this).join(n)},lastIndexOf(...n){return Ja(this,"lastIndexOf",n)},map(n,e){return Fn(this,"map",n,e,void 0,arguments)},pop(){return Ws(this,"pop")},push(...n){return Ws(this,"push",n)},reduce(n,...e){return ih(this,"reduce",n,e)},reduceRight(n,...e){return ih(this,"reduceRight",n,e)},shift(){return Ws(this,"shift")},some(n,e){return Fn(this,"some",n,e,void 0,arguments)},splice(...n){return Ws(this,"splice",n)},toReversed(){return Jr(this).toReversed()},toSorted(n){return Jr(this).toSorted(n)},toSpliced(...n){return Jr(this).toSpliced(...n)},unshift(...n){return Ws(this,"unshift",n)},values(){return Qa(this,"values",qt)}};function Qa(n,e,t){const r=Vu(n),s=r[e]();return r!==n&&!yn(n)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=t(i.value)),i}),s}const xy=Array.prototype;function Fn(n,e,t,r,s,i){const a=Vu(n),l=a!==n&&!yn(n),u=a[e];if(u!==xy[e]){const p=u.apply(n,i);return l?qt(p):p}let h=t;a!==n&&(l?h=function(p,m){return t.call(this,qt(p),m,n)}:t.length>2&&(h=function(p,m){return t.call(this,p,m,n)}));const f=u.call(a,h,r);return l&&s?s(f):f}function ih(n,e,t,r){const s=Vu(n);let i=t;return s!==n&&(yn(n)?t.length>3&&(i=function(a,l,u){return t.call(this,a,l,u,n)}):i=function(a,l,u){return t.call(this,a,qt(l),u,n)}),s[e](i,...r)}function Ja(n,e,t){const r=Fe(n);Ot(r,"iterate",Ti);const s=r[e](...t);return(s===-1||s===!1)&&Fu(t[0])?(t[0]=Fe(t[0]),r[e](...t)):s}function Ws(n,e,t=[]){qn(),xu();const r=Fe(n)[e].apply(n,t);return Mu(),zn(),r}const My=Iu("__proto__,__v_isRef,__isVue"),qd=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(vr));function Oy(n){vr(n)||(n=String(n));const e=Fe(this);return Ot(e,"has",n),e.hasOwnProperty(n)}class zd{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return i;if(t==="__v_raw")return r===(s?i?Hy:Yd:i?Gd:Wd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=ve(e);if(!s){let u;if(a&&(u=Py[t]))return u;if(t==="hasOwnProperty")return Oy}const l=Reflect.get(e,t,Ft(e)?e:r);return(vr(t)?qd.has(t):My(t))||(s||Ot(e,"get",t),i)?l:Ft(l)?a&&Du(t)?l:l.value:Qe(l)?s?Jd(l):ca(l):l}}class Kd extends zd{constructor(e=!1){super(!1,e)}set(e,t,r,s){let i=e[t];if(!this._isShallow){const u=jr(i);if(!yn(r)&&!jr(r)&&(i=Fe(i),r=Fe(r)),!ve(e)&&Ft(i)&&!Ft(r))return u?!1:(i.value=r,!0)}const a=ve(e)&&Du(t)?Number(t)<e.length:je(e,t),l=Reflect.set(e,t,r,Ft(e)?e:s);return e===Fe(s)&&(a?or(r,i)&&$n(e,"set",t,r):$n(e,"add",t,r)),l}deleteProperty(e,t){const r=je(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&r&&$n(e,"delete",t,void 0),s}has(e,t){const r=Reflect.has(e,t);return(!vr(t)||!qd.has(t))&&Ot(e,"has",t),r}ownKeys(e){return Ot(e,"iterate",ve(e)?"length":Lr),Reflect.ownKeys(e)}}class Ny extends zd{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Vy=new Kd,ky=new Ny,Ly=new Kd(!0);const Nl=n=>n,ho=n=>Reflect.getPrototypeOf(n);function Fy(n,e,t){return function(...r){const s=this.__v_raw,i=Fe(s),a=os(i),l=n==="entries"||n===Symbol.iterator&&a,u=n==="keys"&&a,h=s[n](...r),f=t?Nl:e?Vl:qt;return!e&&Ot(i,"iterate",u?Ol:Lr),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:l?[f(p[0]),f(p[1])]:f(p),done:m}},[Symbol.iterator](){return this}}}}function fo(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Uy(n,e){const t={get(s){const i=this.__v_raw,a=Fe(i),l=Fe(s);n||(or(s,l)&&Ot(a,"get",s),Ot(a,"get",l));const{has:u}=ho(a),h=e?Nl:n?Vl:qt;if(u.call(a,s))return h(i.get(s));if(u.call(a,l))return h(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!n&&Ot(Fe(s),"iterate",Lr),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=Fe(i),l=Fe(s);return n||(or(s,l)&&Ot(a,"has",s),Ot(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,u=Fe(l),h=e?Nl:n?Vl:qt;return!n&&Ot(u,"iterate",Lr),l.forEach((f,p)=>s.call(i,h(f),h(p),a))}};return yt(t,n?{add:fo("add"),set:fo("set"),delete:fo("delete"),clear:fo("clear")}:{add(s){!e&&!yn(s)&&!jr(s)&&(s=Fe(s));const i=Fe(this);return ho(i).has.call(i,s)||(i.add(s),$n(i,"add",s,s)),this},set(s,i){!e&&!yn(i)&&!jr(i)&&(i=Fe(i));const a=Fe(this),{has:l,get:u}=ho(a);let h=l.call(a,s);h||(s=Fe(s),h=l.call(a,s));const f=u.call(a,s);return a.set(s,i),h?or(i,f)&&$n(a,"set",s,i):$n(a,"add",s,i),this},delete(s){const i=Fe(this),{has:a,get:l}=ho(i);let u=a.call(i,s);u||(s=Fe(s),u=a.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return u&&$n(i,"delete",s,void 0),h},clear(){const s=Fe(this),i=s.size!==0,a=s.clear();return i&&$n(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Fy(s,n,e)}),t}function ku(n,e){const t=Uy(n,e);return(r,s,i)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?r:Reflect.get(je(t,s)&&s in r?t:r,s,i)}const By={get:ku(!1,!1)},jy={get:ku(!1,!0)},$y={get:ku(!0,!1)};const Wd=new WeakMap,Gd=new WeakMap,Yd=new WeakMap,Hy=new WeakMap;function qy(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zy(n){return n.__v_skip||!Object.isExtensible(n)?0:qy(gy(n))}function ca(n){return jr(n)?n:Lu(n,!1,Vy,By,Wd)}function Qd(n){return Lu(n,!1,Ly,jy,Gd)}function Jd(n){return Lu(n,!0,ky,$y,Yd)}function Lu(n,e,t,r,s){if(!Qe(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const i=zy(n);if(i===0)return n;const a=s.get(n);if(a)return a;const l=new Proxy(n,i===2?r:t);return s.set(n,l),l}function li(n){return jr(n)?li(n.__v_raw):!!(n&&n.__v_isReactive)}function jr(n){return!!(n&&n.__v_isReadonly)}function yn(n){return!!(n&&n.__v_isShallow)}function Fu(n){return n?!!n.__v_raw:!1}function Fe(n){const e=n&&n.__v_raw;return e?Fe(e):n}function Ky(n){return!je(n,"__v_skip")&&Object.isExtensible(n)&&Dl(n,"__v_skip",!0),n}const qt=n=>Qe(n)?ca(n):n,Vl=n=>Qe(n)?Jd(n):n;function Ft(n){return n?n.__v_isRef===!0:!1}function ot(n){return Xd(n,!1)}function Wy(n){return Xd(n,!0)}function Xd(n,e){return Ft(n)?n:new Gy(n,e)}class Gy{constructor(e,t){this.dep=new Nu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Fe(e),this._value=t?e:qt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||yn(e)||jr(e);e=r?e:Fe(e),or(e,t)&&(this._rawValue=e,this._value=r?e:qt(e),this.dep.trigger())}}function ls(n){return Ft(n)?n.value:n}const Yy={get:(n,e,t)=>e==="__v_raw"?n:ls(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const s=n[e];return Ft(s)&&!Ft(t)?(s.value=t,!0):Reflect.set(n,e,t,r)}};function Zd(n){return li(n)?n:new Proxy(n,Yy)}class Qy{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Nu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Fd(this,!0),!0}get value(){const e=this.dep.track();return jd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Jy(n,e,t=!1){let r,s;return be(n)?r=n:(r=n.get,s=n.set),new Qy(r,s,t)}const po={},Lo=new WeakMap;let xr;function Xy(n,e=!1,t=xr){if(t){let r=Lo.get(t);r||Lo.set(t,r=[]),r.push(n)}}function Zy(n,e,t=qe){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:u}=t,h=$=>s?$:yn($)||s===!1||s===0?Hn($,1):Hn($);let f,p,m,v,D=!1,C=!1;if(Ft(n)?(p=()=>n.value,D=yn(n)):li(n)?(p=()=>h(n),D=!0):ve(n)?(C=!0,D=n.some($=>li($)||yn($)),p=()=>n.map($=>{if(Ft($))return $.value;if(li($))return h($);if(be($))return u?u($,2):$()})):be(n)?e?p=u?()=>u(n,2):n:p=()=>{if(m){qn();try{m()}finally{zn()}}const $=xr;xr=f;try{return u?u(n,3,[v]):n(v)}finally{xr=$}}:p=xn,e&&s){const $=p,ae=s===!0?1/0:s;p=()=>Hn($(),ae)}const x=Sy(),K=()=>{f.stop(),x&&x.active&&Ru(x.effects,f)};if(i&&e){const $=e;e=(...ae)=>{$(...ae),K()}}let U=C?new Array(n.length).fill(po):po;const V=$=>{if(!(!(f.flags&1)||!f.dirty&&!$))if(e){const ae=f.run();if(s||D||(C?ae.some((ce,R)=>or(ce,U[R])):or(ae,U))){m&&m();const ce=xr;xr=f;try{const R=[ae,U===po?void 0:C&&U[0]===po?[]:U,v];U=ae,u?u(e,3,R):e(...R)}finally{xr=ce}}}else f.run()};return l&&l(V),f=new kd(p),f.scheduler=a?()=>a(V,!1):V,v=$=>Xy($,!1,f),m=f.onStop=()=>{const $=Lo.get(f);if($){if(u)u($,4);else for(const ae of $)ae();Lo.delete(f)}},e?r?V(!0):U=f.run():a?a(V.bind(null,!0),!0):f.run(),K.pause=f.pause.bind(f),K.resume=f.resume.bind(f),K.stop=K,K}function Hn(n,e=1/0,t){if(e<=0||!Qe(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Ft(n))Hn(n.value,e,t);else if(ve(n))for(let r=0;r<n.length;r++)Hn(n[r],e,t);else if(Dd(n)||os(n))n.forEach(r=>{Hn(r,e,t)});else if(Md(n)){for(const r in n)Hn(n[r],e,t);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Hn(n[r],e,t)}return n}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ui(n,e,t,r){try{return r?n(...r):n()}catch(s){ha(s,e,t)}}function _n(n,e,t,r){if(be(n)){const s=Ui(n,e,t,r);return s&&Pd(s)&&s.catch(i=>{ha(i,e,t)}),s}if(ve(n)){const s=[];for(let i=0;i<n.length;i++)s.push(_n(n[i],e,t,r));return s}}function ha(n,e,t,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||qe;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const f=l.ec;if(f){for(let p=0;p<f.length;p++)if(f[p](n,u,h)===!1)return}l=l.parent}if(i){qn(),Ui(i,null,10,[n,u,h]),zn();return}}e_(n,t,s,r,a)}function e_(n,e,t,r=!0,s=!1){if(s)throw n;console.error(n)}const zt=[];let In=-1;const us=[];let er=null,Xr=0;const ep=Promise.resolve();let Fo=null;function tp(n){const e=Fo||ep;return n?e.then(this?n.bind(this):n):e}function t_(n){let e=In+1,t=zt.length;for(;e<t;){const r=e+t>>>1,s=zt[r],i=bi(s);i<n||i===n&&s.flags&2?e=r+1:t=r}return e}function Uu(n){if(!(n.flags&1)){const e=bi(n),t=zt[zt.length-1];!t||!(n.flags&2)&&e>=bi(t)?zt.push(n):zt.splice(t_(e),0,n),n.flags|=1,np()}}function np(){Fo||(Fo=ep.then(sp))}function n_(n){ve(n)?us.push(...n):er&&n.id===-1?er.splice(Xr+1,0,n):n.flags&1||(us.push(n),n.flags|=1),np()}function oh(n,e,t=In+1){for(;t<zt.length;t++){const r=zt[t];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;zt.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function rp(n){if(us.length){const e=[...new Set(us)].sort((t,r)=>bi(t)-bi(r));if(us.length=0,er){er.push(...e);return}for(er=e,Xr=0;Xr<er.length;Xr++){const t=er[Xr];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}er=null,Xr=0}}const bi=n=>n.id==null?n.flags&2?-1:1/0:n.id;function sp(n){try{for(In=0;In<zt.length;In++){const e=zt[In];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ui(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;In<zt.length;In++){const e=zt[In];e&&(e.flags&=-2)}In=-1,zt.length=0,rp(),Fo=null,(zt.length||us.length)&&sp()}}let en=null,ip=null;function Uo(n){const e=en;return en=n,ip=n&&n.type.__scopeId||null,e}function Bo(n,e=en,t){if(!e||n._n)return n;const r=(...s)=>{r._d&&yh(-1);const i=Uo(e);let a;try{a=n(...s)}finally{Uo(i),r._d&&yh(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function kl(n,e){if(en===null)return n;const t=ya(en),r=n.dirs||(n.dirs=[]);for(let s=0;s<e.length;s++){let[i,a,l,u=qe]=e[s];i&&(be(i)&&(i={mounted:i,updated:i}),i.deep&&Hn(a),r.push({dir:i,instance:t,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function Sr(n,e,t,r){const s=n.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(qn(),_n(u,t,8,[n.el,l,n,e]),zn())}}const r_=Symbol("_vte"),op=n=>n.__isTeleport,tr=Symbol("_leaveCb"),mo=Symbol("_enterCb");function s_(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pa(()=>{n.isMounted=!0}),mp(()=>{n.isUnmounting=!0}),n}const hn=[Function,Array],ap={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hn,onEnter:hn,onAfterEnter:hn,onEnterCancelled:hn,onBeforeLeave:hn,onLeave:hn,onAfterLeave:hn,onLeaveCancelled:hn,onBeforeAppear:hn,onAppear:hn,onAfterAppear:hn,onAppearCancelled:hn},lp=n=>{const e=n.subTree;return e.component?lp(e.component):e},i_={name:"BaseTransition",props:ap,setup(n,{slots:e}){const t=nv(),r=s_();return()=>{const s=e.default&&hp(e.default(),!0);if(!s||!s.length)return;const i=up(s),a=Fe(n),{mode:l}=a;if(r.isLeaving)return Xa(i);const u=ah(i);if(!u)return Xa(i);let h=Ll(u,a,r,t,p=>h=p);u.type!==Kt&&Ai(u,h);let f=t.subTree&&ah(t.subTree);if(f&&f.type!==Kt&&!Or(u,f)&&lp(t).type!==Kt){let p=Ll(f,a,r,t);if(Ai(f,p),l==="out-in"&&u.type!==Kt)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,t.job.flags&8||t.update(),delete p.afterLeave,f=void 0},Xa(i);l==="in-out"&&u.type!==Kt?p.delayLeave=(m,v,D)=>{const C=cp(r,f);C[String(f.key)]=f,m[tr]=()=>{v(),m[tr]=void 0,delete h.delayedLeave,f=void 0},h.delayedLeave=()=>{D(),delete h.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function up(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==Kt){e=t;break}}return e}const o_=i_;function cp(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Ll(n,e,t,r,s){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:m,onLeave:v,onAfterLeave:D,onLeaveCancelled:C,onBeforeAppear:x,onAppear:K,onAfterAppear:U,onAppearCancelled:V}=e,$=String(n.key),ae=cp(t,n),ce=(E,S)=>{E&&_n(E,r,9,S)},R=(E,S)=>{const P=S[1];ce(E,S),ve(E)?E.every(I=>I.length<=1)&&P():E.length<=1&&P()},w={mode:a,persisted:l,beforeEnter(E){let S=u;if(!t.isMounted)if(i)S=x||u;else return;E[tr]&&E[tr](!0);const P=ae[$];P&&Or(n,P)&&P.el[tr]&&P.el[tr](),ce(S,[E])},enter(E){let S=h,P=f,I=p;if(!t.isMounted)if(i)S=K||h,P=U||f,I=V||p;else return;let T=!1;const Ue=E[mo]=Ze=>{T||(T=!0,Ze?ce(I,[E]):ce(P,[E]),w.delayedLeave&&w.delayedLeave(),E[mo]=void 0)};S?R(S,[E,Ue]):Ue()},leave(E,S){const P=String(n.key);if(E[mo]&&E[mo](!0),t.isUnmounting)return S();ce(m,[E]);let I=!1;const T=E[tr]=Ue=>{I||(I=!0,S(),Ue?ce(C,[E]):ce(D,[E]),E[tr]=void 0,ae[P]===n&&delete ae[P])};ae[P]=n,v?R(v,[E,T]):T()},clone(E){const S=Ll(E,e,t,r,s);return s&&s(S),S}};return w}function Xa(n){if(fa(n))return n=fr(n),n.children=null,n}function ah(n){if(!fa(n))return op(n.type)&&n.children?up(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&be(t.default))return t.default()}}function Ai(n,e){n.shapeFlag&6&&n.component?(n.transition=e,Ai(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function hp(n,e=!1,t){let r=[],s=0;for(let i=0;i<n.length;i++){let a=n[i];const l=t==null?a.key:String(t)+String(a.key!=null?a.key:i);a.type===Nt?(a.patchFlag&128&&s++,r=r.concat(hp(a.children,e,l))):(e||a.type!==Kt)&&r.push(l!=null?fr(a,{key:l}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function fp(n,e){return be(n)?yt({name:n.name},e,{setup:n}):n}function dp(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function ui(n,e,t,r,s=!1){if(ve(n)){n.forEach((D,C)=>ui(D,e&&(ve(e)?e[C]:e),t,r,s));return}if(ci(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ui(n,e,t,r.component.subTree);return}const i=r.shapeFlag&4?ya(r.component):r.el,a=s?null:i,{i:l,r:u}=n,h=e&&e.r,f=l.refs===qe?l.refs={}:l.refs,p=l.setupState,m=Fe(p),v=p===qe?()=>!1:D=>je(m,D);if(h!=null&&h!==u&&(ct(h)?(f[h]=null,v(h)&&(p[h]=null)):Ft(h)&&(h.value=null)),be(u))Ui(u,l,12,[a,f]);else{const D=ct(u),C=Ft(u);if(D||C){const x=()=>{if(n.f){const K=D?v(u)?p[u]:f[u]:u.value;s?ve(K)&&Ru(K,i):ve(K)?K.includes(i)||K.push(i):D?(f[u]=[i],v(u)&&(p[u]=f[u])):(u.value=[i],n.k&&(f[n.k]=u.value))}else D?(f[u]=a,v(u)&&(p[u]=a)):C&&(u.value=a,n.k&&(f[n.k]=a))};a?(x.id=-1,ln(x,t)):x()}}}ua().requestIdleCallback;ua().cancelIdleCallback;const ci=n=>!!n.type.__asyncLoader,fa=n=>n.type.__isKeepAlive;function a_(n,e){pp(n,"a",e)}function l_(n,e){pp(n,"da",e)}function pp(n,e,t=wt){const r=n.__wdc||(n.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(da(e,r,t),t){let s=t.parent;for(;s&&s.parent;)fa(s.parent.vnode)&&u_(r,e,t,s),s=s.parent}}function u_(n,e,t,r){const s=da(e,n,r,!0);gp(()=>{Ru(r[e],s)},t)}function da(n,e,t=wt,r=!1){if(t){const s=t[n]||(t[n]=[]),i=e.__weh||(e.__weh=(...a)=>{qn();const l=Bi(t),u=_n(e,t,n,a);return l(),zn(),u});return r?s.unshift(i):s.push(i),i}}const Gn=n=>(e,t=wt)=>{(!Ii||n==="sp")&&da(n,(...r)=>e(...r),t)},c_=Gn("bm"),pa=Gn("m"),h_=Gn("bu"),f_=Gn("u"),mp=Gn("bum"),gp=Gn("um"),d_=Gn("sp"),p_=Gn("rtg"),m_=Gn("rtc");function g_(n,e=wt){da("ec",n,e)}const y_="components";function __(n,e){return E_(y_,n,!0,e)||n}const v_=Symbol.for("v-ndc");function E_(n,e,t=!0,r=!1){const s=en||wt;if(s){const i=s.type;{const l=av(i,!1);if(l&&(l===e||l===dn(e)||l===la(dn(e))))return i}const a=lh(s[n]||i[n],e)||lh(s.appContext[n],e);return!a&&r?i:a}}function lh(n,e){return n&&(n[e]||n[dn(e)]||n[la(dn(e))])}const Fl=n=>n?Lp(n)?ya(n):Fl(n.parent):null,hi=yt(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Fl(n.parent),$root:n=>Fl(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>_p(n),$forceUpdate:n=>n.f||(n.f=()=>{Uu(n.update)}),$nextTick:n=>n.n||(n.n=tp.bind(n.proxy)),$watch:n=>j_.bind(n)}),Za=(n,e)=>n!==qe&&!n.__isScriptSetup&&je(n,e),w_={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:u}=n;let h;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return s[e];case 4:return t[e];case 3:return i[e]}else{if(Za(r,e))return a[e]=1,r[e];if(s!==qe&&je(s,e))return a[e]=2,s[e];if((h=n.propsOptions[0])&&je(h,e))return a[e]=3,i[e];if(t!==qe&&je(t,e))return a[e]=4,t[e];Ul&&(a[e]=0)}}const f=hi[e];let p,m;if(f)return e==="$attrs"&&Ot(n.attrs,"get",""),f(n);if((p=l.__cssModules)&&(p=p[e]))return p;if(t!==qe&&je(t,e))return a[e]=4,t[e];if(m=u.config.globalProperties,je(m,e))return m[e]},set({_:n},e,t){const{data:r,setupState:s,ctx:i}=n;return Za(s,e)?(s[e]=t,!0):r!==qe&&je(r,e)?(r[e]=t,!0):je(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(i[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!t[a]||n!==qe&&je(n,a)||Za(e,a)||(l=i[0])&&je(l,a)||je(r,a)||je(hi,a)||je(s.config.globalProperties,a)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:je(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function uh(n){return ve(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let Ul=!0;function T_(n){const e=_p(n),t=n.proxy,r=n.ctx;Ul=!1,e.beforeCreate&&ch(e.beforeCreate,n,"bc");const{data:s,computed:i,methods:a,watch:l,provide:u,inject:h,created:f,beforeMount:p,mounted:m,beforeUpdate:v,updated:D,activated:C,deactivated:x,beforeDestroy:K,beforeUnmount:U,destroyed:V,unmounted:$,render:ae,renderTracked:ce,renderTriggered:R,errorCaptured:w,serverPrefetch:E,expose:S,inheritAttrs:P,components:I,directives:T,filters:Ue}=e;if(h&&b_(h,r,null),a)for(const Re in a){const Se=a[Re];be(Se)&&(r[Re]=Se.bind(t))}if(s){const Re=s.call(t,t);Qe(Re)&&(n.data=ca(Re))}if(Ul=!0,i)for(const Re in i){const Se=i[Re],bt=be(Se)?Se.bind(t,t):be(Se.get)?Se.get.bind(t,t):xn,rn=!be(Se)&&be(Se.set)?Se.set.bind(t):xn,At=Zt({get:bt,set:rn});Object.defineProperty(r,Re,{enumerable:!0,configurable:!0,get:()=>At.value,set:We=>At.value=We})}if(l)for(const Re in l)yp(l[Re],r,t,Re);if(u){const Re=be(u)?u.call(t):u;Reflect.ownKeys(Re).forEach(Se=>{Ao(Se,Re[Se])})}f&&ch(f,n,"c");function Ke(Re,Se){ve(Se)?Se.forEach(bt=>Re(bt.bind(t))):Se&&Re(Se.bind(t))}if(Ke(c_,p),Ke(pa,m),Ke(h_,v),Ke(f_,D),Ke(a_,C),Ke(l_,x),Ke(g_,w),Ke(m_,ce),Ke(p_,R),Ke(mp,U),Ke(gp,$),Ke(d_,E),ve(S))if(S.length){const Re=n.exposed||(n.exposed={});S.forEach(Se=>{Object.defineProperty(Re,Se,{get:()=>t[Se],set:bt=>t[Se]=bt})})}else n.exposed||(n.exposed={});ae&&n.render===xn&&(n.render=ae),P!=null&&(n.inheritAttrs=P),I&&(n.components=I),T&&(n.directives=T),E&&dp(n)}function b_(n,e,t=xn){ve(n)&&(n=Bl(n));for(const r in n){const s=n[r];let i;Qe(s)?"default"in s?i=Mn(s.from||r,s.default,!0):i=Mn(s.from||r):i=Mn(s),Ft(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[r]=i}}function ch(n,e,t){_n(ve(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function yp(n,e,t,r){let s=r.includes(".")?xp(t,r):()=>t[r];if(ct(n)){const i=e[n];be(i)&&Co(s,i)}else if(be(n))Co(s,n.bind(t));else if(Qe(n))if(ve(n))n.forEach(i=>yp(i,e,t,r));else{const i=be(n.handler)?n.handler.bind(t):e[n.handler];be(i)&&Co(s,i,n)}}function _p(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=n.appContext,l=i.get(e);let u;return l?u=l:!s.length&&!t&&!r?u=e:(u={},s.length&&s.forEach(h=>jo(u,h,a,!0)),jo(u,e,a)),Qe(e)&&i.set(e,u),u}function jo(n,e,t,r=!1){const{mixins:s,extends:i}=e;i&&jo(n,i,t,!0),s&&s.forEach(a=>jo(n,a,t,!0));for(const a in e)if(!(r&&a==="expose")){const l=A_[a]||t&&t[a];n[a]=l?l(n[a],e[a]):e[a]}return n}const A_={data:hh,props:fh,emits:fh,methods:ei,computed:ei,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:ei,directives:ei,watch:I_,provide:hh,inject:C_};function hh(n,e){return e?n?function(){return yt(be(n)?n.call(this,this):n,be(e)?e.call(this,this):e)}:e:n}function C_(n,e){return ei(Bl(n),Bl(e))}function Bl(n){if(ve(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function $t(n,e){return n?[...new Set([].concat(n,e))]:e}function ei(n,e){return n?yt(Object.create(null),n,e):e}function fh(n,e){return n?ve(n)&&ve(e)?[...new Set([...n,...e])]:yt(Object.create(null),uh(n),uh(e??{})):e}function I_(n,e){if(!n)return e;if(!e)return n;const t=yt(Object.create(null),n);for(const r in e)t[r]=$t(n[r],e[r]);return t}function vp(){return{app:null,config:{isNativeTag:py,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let S_=0;function R_(n,e){return function(r,s=null){be(r)||(r=yt({},r)),s!=null&&!Qe(s)&&(s=null);const i=vp(),a=new WeakSet,l=[];let u=!1;const h=i.app={_uid:S_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:uv,get config(){return i.config},set config(f){},use(f,...p){return a.has(f)||(f&&be(f.install)?(a.add(f),f.install(h,...p)):be(f)&&(a.add(f),f(h,...p))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,p){return p?(i.components[f]=p,h):i.components[f]},directive(f,p){return p?(i.directives[f]=p,h):i.directives[f]},mount(f,p,m){if(!u){const v=h._ceVNode||Lt(r,s);return v.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),n(v,f,m),u=!0,h._container=f,f.__vue_app__=h,ya(v.component)}},onUnmount(f){l.push(f)},unmount(){u&&(_n(l,h._instance,16),n(null,h._container),delete h._container.__vue_app__)},provide(f,p){return i.provides[f]=p,h},runWithContext(f){const p=cs;cs=h;try{return f()}finally{cs=p}}};return h}}let cs=null;function Ao(n,e){if(wt){let t=wt.provides;const r=wt.parent&&wt.parent.provides;r===t&&(t=wt.provides=Object.create(r)),t[n]=e}}function Mn(n,e,t=!1){const r=wt||en;if(r||cs){let s=cs?cs._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&n in s)return s[n];if(arguments.length>1)return t&&be(e)?e.call(r&&r.proxy):e}}const Ep={},wp=()=>Object.create(Ep),Tp=n=>Object.getPrototypeOf(n)===Ep;function D_(n,e,t,r=!1){const s={},i=wp();n.propsDefaults=Object.create(null),bp(n,e,s,i);for(const a in n.propsOptions[0])a in s||(s[a]=void 0);t?n.props=r?s:Qd(s):n.type.props?n.props=s:n.props=i,n.attrs=i}function P_(n,e,t,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=n,l=Fe(s),[u]=n.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=n.vnode.dynamicProps;for(let p=0;p<f.length;p++){let m=f[p];if(ma(n.emitsOptions,m))continue;const v=e[m];if(u)if(je(i,m))v!==i[m]&&(i[m]=v,h=!0);else{const D=dn(m);s[D]=jl(u,l,D,v,n,!1)}else v!==i[m]&&(i[m]=v,h=!0)}}}else{bp(n,e,s,i)&&(h=!0);let f;for(const p in l)(!e||!je(e,p)&&((f=qr(p))===p||!je(e,f)))&&(u?t&&(t[p]!==void 0||t[f]!==void 0)&&(s[p]=jl(u,l,p,void 0,n,!0)):delete s[p]);if(i!==l)for(const p in i)(!e||!je(e,p))&&(delete i[p],h=!0)}h&&$n(n.attrs,"set","")}function bp(n,e,t,r){const[s,i]=n.propsOptions;let a=!1,l;if(e)for(let u in e){if(ii(u))continue;const h=e[u];let f;s&&je(s,f=dn(u))?!i||!i.includes(f)?t[f]=h:(l||(l={}))[f]=h:ma(n.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,a=!0)}if(i){const u=Fe(t),h=l||qe;for(let f=0;f<i.length;f++){const p=i[f];t[p]=jl(s,u,p,h[p],n,!je(h,p))}}return a}function jl(n,e,t,r,s,i){const a=n[t];if(a!=null){const l=je(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&be(u)){const{propsDefaults:h}=s;if(t in h)r=h[t];else{const f=Bi(s);r=h[t]=u.call(null,e),f()}}else r=u;s.ce&&s.ce._setProp(t,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===qr(t))&&(r=!0))}return r}const x_=new WeakMap;function Ap(n,e,t=!1){const r=t?x_:e.propsCache,s=r.get(n);if(s)return s;const i=n.props,a={},l=[];let u=!1;if(!be(n)){const f=p=>{u=!0;const[m,v]=Ap(p,e,!0);yt(a,m),v&&l.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}if(!i&&!u)return Qe(n)&&r.set(n,is),is;if(ve(i))for(let f=0;f<i.length;f++){const p=dn(i[f]);dh(p)&&(a[p]=qe)}else if(i)for(const f in i){const p=dn(f);if(dh(p)){const m=i[f],v=a[p]=ve(m)||be(m)?{type:m}:yt({},m),D=v.type;let C=!1,x=!0;if(ve(D))for(let K=0;K<D.length;++K){const U=D[K],V=be(U)&&U.name;if(V==="Boolean"){C=!0;break}else V==="String"&&(x=!1)}else C=be(D)&&D.name==="Boolean";v[0]=C,v[1]=x,(C||je(v,"default"))&&l.push(p)}}const h=[a,l];return Qe(n)&&r.set(n,h),h}function dh(n){return n[0]!=="$"&&!ii(n)}const Bu=n=>n[0]==="_"||n==="$stable",ju=n=>ve(n)?n.map(Rn):[Rn(n)],M_=(n,e,t)=>{if(e._n)return e;const r=Bo((...s)=>ju(e(...s)),t);return r._c=!1,r},Cp=(n,e,t)=>{const r=n._ctx;for(const s in n){if(Bu(s))continue;const i=n[s];if(be(i))e[s]=M_(s,i,r);else if(i!=null){const a=ju(i);e[s]=()=>a}}},Ip=(n,e)=>{const t=ju(e);n.slots.default=()=>t},Sp=(n,e,t)=>{for(const r in e)(t||!Bu(r))&&(n[r]=e[r])},O_=(n,e,t)=>{const r=n.slots=wp();if(n.vnode.shapeFlag&32){const s=e.__;s&&Dl(r,"__",s,!0);const i=e._;i?(Sp(r,e,t),t&&Dl(r,"_",i,!0)):Cp(e,r)}else e&&Ip(n,e)},N_=(n,e,t)=>{const{vnode:r,slots:s}=n;let i=!0,a=qe;if(r.shapeFlag&32){const l=e._;l?t&&l===1?i=!1:Sp(s,e,t):(i=!e.$stable,Cp(e,s)),a=e}else e&&(Ip(n,e),a={default:1});if(i)for(const l in s)!Bu(l)&&a[l]==null&&delete s[l]},ln=G_;function V_(n){return k_(n)}function k_(n,e){const t=ua();t.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:u,setText:h,setElementText:f,parentNode:p,nextSibling:m,setScopeId:v=xn,insertStaticContent:D}=n,C=(b,A,O,j=null,q=null,H=null,te=void 0,Y=null,Q=!!A.dynamicChildren)=>{if(b===A)return;b&&!Or(b,A)&&(j=B(b),We(b,q,H,!0),b=null),A.patchFlag===-2&&(Q=!1,A.dynamicChildren=null);const{type:W,ref:fe,shapeFlag:Z}=A;switch(W){case ga:x(b,A,O,j);break;case Kt:K(b,A,O,j);break;case tl:b==null&&U(A,O,j,te);break;case Nt:I(b,A,O,j,q,H,te,Y,Q);break;default:Z&1?ae(b,A,O,j,q,H,te,Y,Q):Z&6?T(b,A,O,j,q,H,te,Y,Q):(Z&64||Z&128)&&W.process(b,A,O,j,q,H,te,Y,Q,le)}fe!=null&&q?ui(fe,b&&b.ref,H,A||b,!A):fe==null&&b&&b.ref!=null&&ui(b.ref,null,H,b,!0)},x=(b,A,O,j)=>{if(b==null)r(A.el=l(A.children),O,j);else{const q=A.el=b.el;A.children!==b.children&&h(q,A.children)}},K=(b,A,O,j)=>{b==null?r(A.el=u(A.children||""),O,j):A.el=b.el},U=(b,A,O,j)=>{[b.el,b.anchor]=D(b.children,A,O,j,b.el,b.anchor)},V=({el:b,anchor:A},O,j)=>{let q;for(;b&&b!==A;)q=m(b),r(b,O,j),b=q;r(A,O,j)},$=({el:b,anchor:A})=>{let O;for(;b&&b!==A;)O=m(b),s(b),b=O;s(A)},ae=(b,A,O,j,q,H,te,Y,Q)=>{A.type==="svg"?te="svg":A.type==="math"&&(te="mathml"),b==null?ce(A,O,j,q,H,te,Y,Q):E(b,A,q,H,te,Y,Q)},ce=(b,A,O,j,q,H,te,Y)=>{let Q,W;const{props:fe,shapeFlag:Z,transition:he,dirs:me}=b;if(Q=b.el=a(b.type,H,fe&&fe.is,fe),Z&8?f(Q,b.children):Z&16&&w(b.children,Q,null,j,q,el(b,H),te,Y),me&&Sr(b,null,j,"created"),R(Q,b,b.scopeId,te,j),fe){for(const Ee in fe)Ee!=="value"&&!ii(Ee)&&i(Q,Ee,null,fe[Ee],H,j);"value"in fe&&i(Q,"value",null,fe.value,H),(W=fe.onVnodeBeforeMount)&&An(W,j,b)}me&&Sr(b,null,j,"beforeMount");const ge=L_(q,he);ge&&he.beforeEnter(Q),r(Q,A,O),((W=fe&&fe.onVnodeMounted)||ge||me)&&ln(()=>{W&&An(W,j,b),ge&&he.enter(Q),me&&Sr(b,null,j,"mounted")},q)},R=(b,A,O,j,q)=>{if(O&&v(b,O),j)for(let H=0;H<j.length;H++)v(b,j[H]);if(q){let H=q.subTree;if(A===H||Op(H.type)&&(H.ssContent===A||H.ssFallback===A)){const te=q.vnode;R(b,te,te.scopeId,te.slotScopeIds,q.parent)}}},w=(b,A,O,j,q,H,te,Y,Q=0)=>{for(let W=Q;W<b.length;W++){const fe=b[W]=Y?nr(b[W]):Rn(b[W]);C(null,fe,A,O,j,q,H,te,Y)}},E=(b,A,O,j,q,H,te)=>{const Y=A.el=b.el;let{patchFlag:Q,dynamicChildren:W,dirs:fe}=A;Q|=b.patchFlag&16;const Z=b.props||qe,he=A.props||qe;let me;if(O&&Rr(O,!1),(me=he.onVnodeBeforeUpdate)&&An(me,O,A,b),fe&&Sr(A,b,O,"beforeUpdate"),O&&Rr(O,!0),(Z.innerHTML&&he.innerHTML==null||Z.textContent&&he.textContent==null)&&f(Y,""),W?S(b.dynamicChildren,W,Y,O,j,el(A,q),H):te||Se(b,A,Y,null,O,j,el(A,q),H,!1),Q>0){if(Q&16)P(Y,Z,he,O,q);else if(Q&2&&Z.class!==he.class&&i(Y,"class",null,he.class,q),Q&4&&i(Y,"style",Z.style,he.style,q),Q&8){const ge=A.dynamicProps;for(let Ee=0;Ee<ge.length;Ee++){const De=ge[Ee],st=Z[De],ht=he[De];(ht!==st||De==="value")&&i(Y,De,st,ht,q,O)}}Q&1&&b.children!==A.children&&f(Y,A.children)}else!te&&W==null&&P(Y,Z,he,O,q);((me=he.onVnodeUpdated)||fe)&&ln(()=>{me&&An(me,O,A,b),fe&&Sr(A,b,O,"updated")},j)},S=(b,A,O,j,q,H,te)=>{for(let Y=0;Y<A.length;Y++){const Q=b[Y],W=A[Y],fe=Q.el&&(Q.type===Nt||!Or(Q,W)||Q.shapeFlag&198)?p(Q.el):O;C(Q,W,fe,null,j,q,H,te,!0)}},P=(b,A,O,j,q)=>{if(A!==O){if(A!==qe)for(const H in A)!ii(H)&&!(H in O)&&i(b,H,A[H],null,q,j);for(const H in O){if(ii(H))continue;const te=O[H],Y=A[H];te!==Y&&H!=="value"&&i(b,H,Y,te,q,j)}"value"in O&&i(b,"value",A.value,O.value,q)}},I=(b,A,O,j,q,H,te,Y,Q)=>{const W=A.el=b?b.el:l(""),fe=A.anchor=b?b.anchor:l("");let{patchFlag:Z,dynamicChildren:he,slotScopeIds:me}=A;me&&(Y=Y?Y.concat(me):me),b==null?(r(W,O,j),r(fe,O,j),w(A.children||[],O,fe,q,H,te,Y,Q)):Z>0&&Z&64&&he&&b.dynamicChildren?(S(b.dynamicChildren,he,O,q,H,te,Y),(A.key!=null||q&&A===q.subTree)&&Rp(b,A,!0)):Se(b,A,O,fe,q,H,te,Y,Q)},T=(b,A,O,j,q,H,te,Y,Q)=>{A.slotScopeIds=Y,b==null?A.shapeFlag&512?q.ctx.activate(A,O,j,te,Q):Ue(A,O,j,q,H,te,Q):Ze(b,A,Q)},Ue=(b,A,O,j,q,H,te)=>{const Y=b.component=tv(b,j,q);if(fa(b)&&(Y.ctx.renderer=le),rv(Y,!1,te),Y.asyncDep){if(q&&q.registerDep(Y,Ke,te),!b.el){const Q=Y.subTree=Lt(Kt);K(null,Q,A,O)}}else Ke(Y,b,A,O,q,H,te)},Ze=(b,A,O)=>{const j=A.component=b.component;if(K_(b,A,O))if(j.asyncDep&&!j.asyncResolved){Re(j,A,O);return}else j.next=A,j.update();else A.el=b.el,j.vnode=A},Ke=(b,A,O,j,q,H,te)=>{const Y=()=>{if(b.isMounted){let{next:Z,bu:he,u:me,parent:ge,vnode:Ee}=b;{const ft=Dp(b);if(ft){Z&&(Z.el=Ee.el,Re(b,Z,te)),ft.asyncDep.then(()=>{b.isUnmounted||Y()});return}}let De=Z,st;Rr(b,!1),Z?(Z.el=Ee.el,Re(b,Z,te)):Z=Ee,he&&bo(he),(st=Z.props&&Z.props.onVnodeBeforeUpdate)&&An(st,ge,Z,Ee),Rr(b,!0);const ht=mh(b),Yt=b.subTree;b.subTree=ht,C(Yt,ht,p(Yt.el),B(Yt),b,q,H),Z.el=ht.el,De===null&&W_(b,ht.el),me&&ln(me,q),(st=Z.props&&Z.props.onVnodeUpdated)&&ln(()=>An(st,ge,Z,Ee),q)}else{let Z;const{el:he,props:me}=A,{bm:ge,m:Ee,parent:De,root:st,type:ht}=b,Yt=ci(A);Rr(b,!1),ge&&bo(ge),!Yt&&(Z=me&&me.onVnodeBeforeMount)&&An(Z,De,A),Rr(b,!0);{st.ce&&st.ce._def.shadowRoot!==!1&&st.ce._injectChildStyle(ht);const ft=b.subTree=mh(b);C(null,ft,O,j,b,q,H),A.el=ft.el}if(Ee&&ln(Ee,q),!Yt&&(Z=me&&me.onVnodeMounted)){const ft=A;ln(()=>An(Z,De,ft),q)}(A.shapeFlag&256||De&&ci(De.vnode)&&De.vnode.shapeFlag&256)&&b.a&&ln(b.a,q),b.isMounted=!0,A=O=j=null}};b.scope.on();const Q=b.effect=new kd(Y);b.scope.off();const W=b.update=Q.run.bind(Q),fe=b.job=Q.runIfDirty.bind(Q);fe.i=b,fe.id=b.uid,Q.scheduler=()=>Uu(fe),Rr(b,!0),W()},Re=(b,A,O)=>{A.component=b;const j=b.vnode.props;b.vnode=A,b.next=null,P_(b,A.props,j,O),N_(b,A.children,O),qn(),oh(b),zn()},Se=(b,A,O,j,q,H,te,Y,Q=!1)=>{const W=b&&b.children,fe=b?b.shapeFlag:0,Z=A.children,{patchFlag:he,shapeFlag:me}=A;if(he>0){if(he&128){rn(W,Z,O,j,q,H,te,Y,Q);return}else if(he&256){bt(W,Z,O,j,q,H,te,Y,Q);return}}me&8?(fe&16&&mt(W,q,H),Z!==W&&f(O,Z)):fe&16?me&16?rn(W,Z,O,j,q,H,te,Y,Q):mt(W,q,H,!0):(fe&8&&f(O,""),me&16&&w(Z,O,j,q,H,te,Y,Q))},bt=(b,A,O,j,q,H,te,Y,Q)=>{b=b||is,A=A||is;const W=b.length,fe=A.length,Z=Math.min(W,fe);let he;for(he=0;he<Z;he++){const me=A[he]=Q?nr(A[he]):Rn(A[he]);C(b[he],me,O,null,q,H,te,Y,Q)}W>fe?mt(b,q,H,!0,!1,Z):w(A,O,j,q,H,te,Y,Q,Z)},rn=(b,A,O,j,q,H,te,Y,Q)=>{let W=0;const fe=A.length;let Z=b.length-1,he=fe-1;for(;W<=Z&&W<=he;){const me=b[W],ge=A[W]=Q?nr(A[W]):Rn(A[W]);if(Or(me,ge))C(me,ge,O,null,q,H,te,Y,Q);else break;W++}for(;W<=Z&&W<=he;){const me=b[Z],ge=A[he]=Q?nr(A[he]):Rn(A[he]);if(Or(me,ge))C(me,ge,O,null,q,H,te,Y,Q);else break;Z--,he--}if(W>Z){if(W<=he){const me=he+1,ge=me<fe?A[me].el:j;for(;W<=he;)C(null,A[W]=Q?nr(A[W]):Rn(A[W]),O,ge,q,H,te,Y,Q),W++}}else if(W>he)for(;W<=Z;)We(b[W],q,H,!0),W++;else{const me=W,ge=W,Ee=new Map;for(W=ge;W<=he;W++){const Ie=A[W]=Q?nr(A[W]):Rn(A[W]);Ie.key!=null&&Ee.set(Ie.key,W)}let De,st=0;const ht=he-ge+1;let Yt=!1,ft=0;const Tn=new Array(ht);for(W=0;W<ht;W++)Tn[W]=0;for(W=me;W<=Z;W++){const Ie=b[W];if(st>=ht){We(Ie,q,H,!0);continue}let It;if(Ie.key!=null)It=Ee.get(Ie.key);else for(De=ge;De<=he;De++)if(Tn[De-ge]===0&&Or(Ie,A[De])){It=De;break}It===void 0?We(Ie,q,H,!0):(Tn[It-ge]=W+1,It>=ft?ft=It:Yt=!0,C(Ie,A[It],O,null,q,H,te,Y,Q),st++)}const Er=Yt?F_(Tn):is;for(De=Er.length-1,W=ht-1;W>=0;W--){const Ie=ge+W,It=A[Ie],Yn=Ie+1<fe?A[Ie+1].el:j;Tn[W]===0?C(null,It,O,Yn,q,H,te,Y,Q):Yt&&(De<0||W!==Er[De]?At(It,O,Yn,2):De--)}}},At=(b,A,O,j,q=null)=>{const{el:H,type:te,transition:Y,children:Q,shapeFlag:W}=b;if(W&6){At(b.component.subTree,A,O,j);return}if(W&128){b.suspense.move(A,O,j);return}if(W&64){te.move(b,A,O,le);return}if(te===Nt){r(H,A,O);for(let Z=0;Z<Q.length;Z++)At(Q[Z],A,O,j);r(b.anchor,A,O);return}if(te===tl){V(b,A,O);return}if(j!==2&&W&1&&Y)if(j===0)Y.beforeEnter(H),r(H,A,O),ln(()=>Y.enter(H),q);else{const{leave:Z,delayLeave:he,afterLeave:me}=Y,ge=()=>{b.ctx.isUnmounted?s(H):r(H,A,O)},Ee=()=>{Z(H,()=>{ge(),me&&me()})};he?he(H,ge,Ee):Ee()}else r(H,A,O)},We=(b,A,O,j=!1,q=!1)=>{const{type:H,props:te,ref:Y,children:Q,dynamicChildren:W,shapeFlag:fe,patchFlag:Z,dirs:he,cacheIndex:me}=b;if(Z===-2&&(q=!1),Y!=null&&(qn(),ui(Y,null,O,b,!0),zn()),me!=null&&(A.renderCache[me]=void 0),fe&256){A.ctx.deactivate(b);return}const ge=fe&1&&he,Ee=!ci(b);let De;if(Ee&&(De=te&&te.onVnodeBeforeUnmount)&&An(De,A,b),fe&6)Ct(b.component,O,j);else{if(fe&128){b.suspense.unmount(O,j);return}ge&&Sr(b,null,A,"beforeUnmount"),fe&64?b.type.remove(b,A,O,le,j):W&&!W.hasOnce&&(H!==Nt||Z>0&&Z&64)?mt(W,A,O,!1,!0):(H===Nt&&Z&384||!q&&fe&16)&&mt(Q,A,O),j&&Ge(b)}(Ee&&(De=te&&te.onVnodeUnmounted)||ge)&&ln(()=>{De&&An(De,A,b),ge&&Sr(b,null,A,"unmounted")},O)},Ge=b=>{const{type:A,el:O,anchor:j,transition:q}=b;if(A===Nt){wn(O,j);return}if(A===tl){$(b);return}const H=()=>{s(O),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(b.shapeFlag&1&&q&&!q.persisted){const{leave:te,delayLeave:Y}=q,Q=()=>te(O,H);Y?Y(b.el,H,Q):Q()}else H()},wn=(b,A)=>{let O;for(;b!==A;)O=m(b),s(b),b=O;s(A)},Ct=(b,A,O)=>{const{bum:j,scope:q,job:H,subTree:te,um:Y,m:Q,a:W,parent:fe,slots:{__:Z}}=b;ph(Q),ph(W),j&&bo(j),fe&&ve(Z)&&Z.forEach(he=>{fe.renderCache[he]=void 0}),q.stop(),H&&(H.flags|=8,We(te,b,A,O)),Y&&ln(Y,A),ln(()=>{b.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&b.asyncDep&&!b.asyncResolved&&b.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},mt=(b,A,O,j=!1,q=!1,H=0)=>{for(let te=H;te<b.length;te++)We(b[te],A,O,j,q)},B=b=>{if(b.shapeFlag&6)return B(b.component.subTree);if(b.shapeFlag&128)return b.suspense.next();const A=m(b.anchor||b.el),O=A&&A[r_];return O?m(O):A};let re=!1;const ee=(b,A,O)=>{b==null?A._vnode&&We(A._vnode,null,null,!0):C(A._vnode||null,b,A,null,null,null,O),A._vnode=b,re||(re=!0,oh(),rp(),re=!1)},le={p:C,um:We,m:At,r:Ge,mt:Ue,mc:w,pc:Se,pbc:S,n:B,o:n};return{render:ee,hydrate:void 0,createApp:R_(ee)}}function el({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Rr({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function L_(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function Rp(n,e,t=!1){const r=n.children,s=e.children;if(ve(r)&&ve(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=nr(s[i]),l.el=a.el),!t&&l.patchFlag!==-2&&Rp(a,l)),l.type===ga&&(l.el=a.el),l.type===Kt&&!l.el&&(l.el=a.el)}}function F_(n){const e=n.slice(),t=[0];let r,s,i,a,l;const u=n.length;for(r=0;r<u;r++){const h=n[r];if(h!==0){if(s=t[t.length-1],n[s]<h){e[r]=s,t.push(r);continue}for(i=0,a=t.length-1;i<a;)l=i+a>>1,n[t[l]]<h?i=l+1:a=l;h<n[t[i]]&&(i>0&&(e[r]=t[i-1]),t[i]=r)}}for(i=t.length,a=t[i-1];i-- >0;)t[i]=a,a=e[a];return t}function Dp(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Dp(e)}function ph(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const U_=Symbol.for("v-scx"),B_=()=>Mn(U_);function Co(n,e,t){return Pp(n,e,t)}function Pp(n,e,t=qe){const{immediate:r,deep:s,flush:i,once:a}=t,l=yt({},t),u=e&&r||!e&&i!=="post";let h;if(Ii){if(i==="sync"){const v=B_();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=xn,v.resume=xn,v.pause=xn,v}}const f=wt;l.call=(v,D,C)=>_n(v,f,D,C);let p=!1;i==="post"?l.scheduler=v=>{ln(v,f&&f.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(v,D)=>{D?v():Uu(v)}),l.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const m=Zy(n,e,l);return Ii&&(h?h.push(m):u&&m()),m}function j_(n,e,t){const r=this.proxy,s=ct(n)?n.includes(".")?xp(r,n):()=>r[n]:n.bind(r,r);let i;be(e)?i=e:(i=e.handler,t=e);const a=Bi(this),l=Pp(s,i.bind(r),t);return a(),l}function xp(n,e){const t=e.split(".");return()=>{let r=n;for(let s=0;s<t.length&&r;s++)r=r[t[s]];return r}}const $_=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${dn(e)}Modifiers`]||n[`${qr(e)}Modifiers`];function H_(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||qe;let s=t;const i=e.startsWith("update:"),a=i&&$_(r,e.slice(7));a&&(a.trim&&(s=t.map(f=>ct(f)?f.trim():f)),a.number&&(s=t.map(Pl)));let l,u=r[l=Wa(e)]||r[l=Wa(dn(e))];!u&&i&&(u=r[l=Wa(qr(e))]),u&&_n(u,n,6,s);const h=r[l+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,_n(h,n,6,s)}}function Mp(n,e,t=!1){const r=e.emitsCache,s=r.get(n);if(s!==void 0)return s;const i=n.emits;let a={},l=!1;if(!be(n)){const u=h=>{const f=Mp(h,e,!0);f&&(l=!0,yt(a,f))};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}return!i&&!l?(Qe(n)&&r.set(n,null),null):(ve(i)?i.forEach(u=>a[u]=null):yt(a,i),Qe(n)&&r.set(n,a),a)}function ma(n,e){return!n||!ia(e)?!1:(e=e.slice(2).replace(/Once$/,""),je(n,e[0].toLowerCase()+e.slice(1))||je(n,qr(e))||je(n,e))}function mh(n){const{type:e,vnode:t,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:u,render:h,renderCache:f,props:p,data:m,setupState:v,ctx:D,inheritAttrs:C}=n,x=Uo(n);let K,U;try{if(t.shapeFlag&4){const $=s||r,ae=$;K=Rn(h.call(ae,$,f,p,v,m,D)),U=l}else{const $=e;K=Rn($.length>1?$(p,{attrs:l,slots:a,emit:u}):$(p,null)),U=e.props?l:q_(l)}}catch($){fi.length=0,ha($,n,1),K=Lt(Kt)}let V=K;if(U&&C!==!1){const $=Object.keys(U),{shapeFlag:ae}=V;$.length&&ae&7&&(i&&$.some(Su)&&(U=z_(U,i)),V=fr(V,U,!1,!0))}return t.dirs&&(V=fr(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(t.dirs):t.dirs),t.transition&&Ai(V,t.transition),K=V,Uo(x),K}const q_=n=>{let e;for(const t in n)(t==="class"||t==="style"||ia(t))&&((e||(e={}))[t]=n[t]);return e},z_=(n,e)=>{const t={};for(const r in n)(!Su(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function K_(n,e,t){const{props:r,children:s,component:i}=n,{props:a,children:l,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?gh(r,a,h):!!a;if(u&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const m=f[p];if(a[m]!==r[m]&&!ma(h,m))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?gh(r,a,h):!0:!!a;return!1}function gh(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==n[i]&&!ma(t,i))return!0}return!1}function W_({vnode:n,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=e.vnode).el=t,e=e.parent;else break}}const Op=n=>n.__isSuspense;function G_(n,e){e&&e.pendingBranch?ve(n)?e.effects.push(...n):e.effects.push(n):n_(n)}const Nt=Symbol.for("v-fgt"),ga=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),tl=Symbol.for("v-stc"),fi=[];let cn=null;function Ht(n=!1){fi.push(cn=n?null:[])}function Y_(){fi.pop(),cn=fi[fi.length-1]||null}let Ci=1;function yh(n,e=!1){Ci+=n,n<0&&cn&&e&&(cn.hasOnce=!0)}function Np(n){return n.dynamicChildren=Ci>0?cn||is:null,Y_(),Ci>0&&cn&&cn.push(n),n}function un(n,e,t,r,s,i){return Np(ne(n,e,t,r,s,i,!0))}function Vp(n,e,t,r,s){return Np(Lt(n,e,t,r,s,!0))}function $o(n){return n?n.__v_isVNode===!0:!1}function Or(n,e){return n.type===e.type&&n.key===e.key}const kp=({key:n})=>n??null,Io=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?ct(n)||Ft(n)||be(n)?{i:en,r:n,k:e,f:!!t}:n:null);function ne(n,e=null,t=null,r=0,s=null,i=n===Nt?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&kp(e),ref:e&&Io(e),scopeId:ip,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:en};return l?(Hu(u,t),i&128&&n.normalize(u)):t&&(u.shapeFlag|=ct(t)?8:16),Ci>0&&!a&&cn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&cn.push(u),u}const Lt=Q_;function Q_(n,e=null,t=null,r=0,s=null,i=!1){if((!n||n===v_)&&(n=Kt),$o(n)){const l=fr(n,e,!0);return t&&Hu(l,t),Ci>0&&!i&&cn&&(l.shapeFlag&6?cn[cn.indexOf(n)]=l:cn.push(l)),l.patchFlag=-2,l}if(lv(n)&&(n=n.__vccOpts),e){e=J_(e);let{class:l,style:u}=e;l&&!ct(l)&&(e.class=Mt(l)),Qe(u)&&(Fu(u)&&!ve(u)&&(u=yt({},u)),e.style=Pu(u))}const a=ct(n)?1:Op(n)?128:op(n)?64:Qe(n)?4:be(n)?2:0;return ne(n,e,t,r,s,a,i,!0)}function J_(n){return n?Fu(n)||Tp(n)?yt({},n):n:null}function fr(n,e,t=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:u}=n,h=e?X_(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&kp(h),ref:e&&e.ref?t&&i?ve(i)?i.concat(Io(e)):[i,Io(e)]:Io(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Nt?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:u,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&fr(n.ssContent),ssFallback:n.ssFallback&&fr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return u&&r&&Ai(f,u.clone(f)),f}function $u(n=" ",e=0){return Lt(ga,null,n,e)}function $l(n="",e=!1){return e?(Ht(),Vp(Kt,null,n)):Lt(Kt,null,n)}function Rn(n){return n==null||typeof n=="boolean"?Lt(Kt):ve(n)?Lt(Nt,null,n.slice()):$o(n)?nr(n):Lt(ga,null,String(n))}function nr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:fr(n)}function Hu(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(ve(e))t=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Hu(n,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!Tp(e)?e._ctx=en:s===3&&en&&(en.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:en},t=32):(e=String(e),r&64?(t=16,e=[$u(e)]):t=8);n.children=e,n.shapeFlag|=t}function X_(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Mt([e.class,r.class]));else if(s==="style")e.style=Pu([e.style,r.style]);else if(ia(s)){const i=e[s],a=r[s];a&&i!==a&&!(ve(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=r[s])}return e}function An(n,e,t,r=null){_n(n,e,7,[t,r])}const Z_=vp();let ev=0;function tv(n,e,t){const r=n.type,s=(e?e.appContext:n.appContext)||Z_,i={uid:ev++,vnode:n,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Iy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ap(r,s),emitsOptions:Mp(r,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:r.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=H_.bind(null,i),n.ce&&n.ce(i),i}let wt=null;const nv=()=>wt||en;let Ho,Hl;{const n=ua(),e=(t,r)=>{let s;return(s=n[t])||(s=n[t]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}};Ho=e("__VUE_INSTANCE_SETTERS__",t=>wt=t),Hl=e("__VUE_SSR_SETTERS__",t=>Ii=t)}const Bi=n=>{const e=wt;return Ho(n),n.scope.on(),()=>{n.scope.off(),Ho(e)}},_h=()=>{wt&&wt.scope.off(),Ho(null)};function Lp(n){return n.vnode.shapeFlag&4}let Ii=!1;function rv(n,e=!1,t=!1){e&&Hl(e);const{props:r,children:s}=n.vnode,i=Lp(n);D_(n,r,i,e),O_(n,s,t||e);const a=i?sv(n,e):void 0;return e&&Hl(!1),a}function sv(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,w_);const{setup:r}=t;if(r){qn();const s=n.setupContext=r.length>1?ov(n):null,i=Bi(n),a=Ui(r,n,0,[n.props,s]),l=Pd(a);if(zn(),i(),(l||n.sp)&&!ci(n)&&dp(n),l){if(a.then(_h,_h),e)return a.then(u=>{vh(n,u)}).catch(u=>{ha(u,n,0)});n.asyncDep=a}else vh(n,a)}else Fp(n)}function vh(n,e,t){be(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Qe(e)&&(n.setupState=Zd(e)),Fp(n)}function Fp(n,e,t){const r=n.type;n.render||(n.render=r.render||xn);{const s=Bi(n);qn();try{T_(n)}finally{zn(),s()}}}const iv={get(n,e){return Ot(n,"get",""),n[e]}};function ov(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,iv),slots:n.slots,emit:n.emit,expose:e}}function ya(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(Zd(Ky(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in hi)return hi[t](n)},has(e,t){return t in e||t in hi}})):n.proxy}function av(n,e=!0){return be(n)?n.displayName||n.name:n.name||e&&n.__name}function lv(n){return be(n)&&"__vccOpts"in n}const Zt=(n,e)=>Jy(n,e,Ii);function qu(n,e,t){const r=arguments.length;return r===2?Qe(e)&&!ve(e)?$o(e)?Lt(n,null,[e]):Lt(n,e):Lt(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&$o(t)&&(t=[t]),Lt(n,e,t))}const uv="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ql;const Eh=typeof window<"u"&&window.trustedTypes;if(Eh)try{ql=Eh.createPolicy("vue",{createHTML:n=>n})}catch{}const Up=ql?n=>ql.createHTML(n):n=>n,cv="http://www.w3.org/2000/svg",hv="http://www.w3.org/1998/Math/MathML",jn=typeof document<"u"?document:null,wh=jn&&jn.createElement("template"),fv={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const s=e==="svg"?jn.createElementNS(cv,n):e==="mathml"?jn.createElementNS(hv,n):t?jn.createElement(n,{is:t}):jn.createElement(n);return n==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:n=>jn.createTextNode(n),createComment:n=>jn.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>jn.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,s,i){const a=t?t.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===i||!(s=s.nextSibling)););else{wh.innerHTML=Up(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const l=wh.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Xn="transition",Gs="animation",Si=Symbol("_vtc"),Bp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},dv=yt({},ap,Bp),pv=n=>(n.displayName="Transition",n.props=dv,n),zl=pv((n,{slots:e})=>qu(o_,mv(n),e)),Dr=(n,e=[])=>{ve(n)?n.forEach(t=>t(...e)):n&&n(...e)},Th=n=>n?ve(n)?n.some(e=>e.length>1):n.length>1:!1;function mv(n){const e={};for(const I in n)I in Bp||(e[I]=n[I]);if(n.css===!1)return e;const{name:t="v",type:r,duration:s,enterFromClass:i=`${t}-enter-from`,enterActiveClass:a=`${t}-enter-active`,enterToClass:l=`${t}-enter-to`,appearFromClass:u=i,appearActiveClass:h=a,appearToClass:f=l,leaveFromClass:p=`${t}-leave-from`,leaveActiveClass:m=`${t}-leave-active`,leaveToClass:v=`${t}-leave-to`}=n,D=gv(s),C=D&&D[0],x=D&&D[1],{onBeforeEnter:K,onEnter:U,onEnterCancelled:V,onLeave:$,onLeaveCancelled:ae,onBeforeAppear:ce=K,onAppear:R=U,onAppearCancelled:w=V}=e,E=(I,T,Ue,Ze)=>{I._enterCancelled=Ze,Pr(I,T?f:l),Pr(I,T?h:a),Ue&&Ue()},S=(I,T)=>{I._isLeaving=!1,Pr(I,p),Pr(I,v),Pr(I,m),T&&T()},P=I=>(T,Ue)=>{const Ze=I?R:U,Ke=()=>E(T,I,Ue);Dr(Ze,[T,Ke]),bh(()=>{Pr(T,I?u:i),Un(T,I?f:l),Th(Ze)||Ah(T,r,C,Ke)})};return yt(e,{onBeforeEnter(I){Dr(K,[I]),Un(I,i),Un(I,a)},onBeforeAppear(I){Dr(ce,[I]),Un(I,u),Un(I,h)},onEnter:P(!1),onAppear:P(!0),onLeave(I,T){I._isLeaving=!0;const Ue=()=>S(I,T);Un(I,p),I._enterCancelled?(Un(I,m),Sh()):(Sh(),Un(I,m)),bh(()=>{I._isLeaving&&(Pr(I,p),Un(I,v),Th($)||Ah(I,r,x,Ue))}),Dr($,[I,Ue])},onEnterCancelled(I){E(I,!1,void 0,!0),Dr(V,[I])},onAppearCancelled(I){E(I,!0,void 0,!0),Dr(w,[I])},onLeaveCancelled(I){S(I),Dr(ae,[I])}})}function gv(n){if(n==null)return null;if(Qe(n))return[nl(n.enter),nl(n.leave)];{const e=nl(n);return[e,e]}}function nl(n){return vy(n)}function Un(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[Si]||(n[Si]=new Set)).add(e)}function Pr(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[Si];t&&(t.delete(e),t.size||(n[Si]=void 0))}function bh(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let yv=0;function Ah(n,e,t,r){const s=n._endId=++yv,i=()=>{s===n._endId&&r()};if(t!=null)return setTimeout(i,t);const{type:a,timeout:l,propCount:u}=_v(n,e);if(!a)return r();const h=a+"end";let f=0;const p=()=>{n.removeEventListener(h,m),i()},m=v=>{v.target===n&&++f>=u&&p()};setTimeout(()=>{f<u&&p()},l+1),n.addEventListener(h,m)}function _v(n,e){const t=window.getComputedStyle(n),r=D=>(t[D]||"").split(", "),s=r(`${Xn}Delay`),i=r(`${Xn}Duration`),a=Ch(s,i),l=r(`${Gs}Delay`),u=r(`${Gs}Duration`),h=Ch(l,u);let f=null,p=0,m=0;e===Xn?a>0&&(f=Xn,p=a,m=i.length):e===Gs?h>0&&(f=Gs,p=h,m=u.length):(p=Math.max(a,h),f=p>0?a>h?Xn:Gs:null,m=f?f===Xn?i.length:u.length:0);const v=f===Xn&&/\b(transform|all)(,|$)/.test(r(`${Xn}Property`).toString());return{type:f,timeout:p,propCount:m,hasTransform:v}}function Ch(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>Ih(t)+Ih(n[r])))}function Ih(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Sh(){return document.body.offsetHeight}function vv(n,e,t){const r=n[Si];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const qo=Symbol("_vod"),jp=Symbol("_vsh"),$p={beforeMount(n,{value:e},{transition:t}){n[qo]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Ys(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),Ys(n,!0),r.enter(n)):r.leave(n,()=>{Ys(n,!1)}):Ys(n,e))},beforeUnmount(n,{value:e}){Ys(n,e)}};function Ys(n,e){n.style.display=e?n[qo]:"none",n[jp]=!e}const Ev=Symbol(""),wv=/(^|;)\s*display\s*:/;function Tv(n,e,t){const r=n.style,s=ct(t);let i=!1;if(t&&!s){if(e)if(ct(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&So(r,l,"")}else for(const a in e)t[a]==null&&So(r,a,"");for(const a in t)a==="display"&&(i=!0),So(r,a,t[a])}else if(s){if(e!==t){const a=r[Ev];a&&(t+=";"+a),r.cssText=t,i=wv.test(t)}}else e&&n.removeAttribute("style");qo in n&&(n[qo]=i?r.display:"",n[jp]&&(r.display="none"))}const Rh=/\s*!important$/;function So(n,e,t){if(ve(t))t.forEach(r=>So(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=bv(n,e);Rh.test(t)?n.setProperty(qr(r),t.replace(Rh,""),"important"):n[r]=t}}const Dh=["Webkit","Moz","ms"],rl={};function bv(n,e){const t=rl[e];if(t)return t;let r=dn(e);if(r!=="filter"&&r in n)return rl[e]=r;r=la(r);for(let s=0;s<Dh.length;s++){const i=Dh[s]+r;if(i in n)return rl[e]=i}return e}const Ph="http://www.w3.org/1999/xlink";function xh(n,e,t,r,s,i=Cy(e)){r&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(Ph,e.slice(6,e.length)):n.setAttributeNS(Ph,e,t):t==null||i&&!Od(t)?n.removeAttribute(e):n.setAttribute(e,i?"":vr(t)?String(t):t)}function Mh(n,e,t,r,s){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?Up(t):t);return}const i=n.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?n.getAttribute("value")||"":n.value,u=t==null?n.type==="checkbox"?"on":"":String(t);(l!==u||!("_value"in n))&&(n.value=u),t==null&&n.removeAttribute(e),n._value=t;return}let a=!1;if(t===""||t==null){const l=typeof n[e];l==="boolean"?t=Od(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{n[e]=t}catch{}a&&n.removeAttribute(s||e)}function Zr(n,e,t,r){n.addEventListener(e,t,r)}function Av(n,e,t,r){n.removeEventListener(e,t,r)}const Oh=Symbol("_vei");function Cv(n,e,t,r,s=null){const i=n[Oh]||(n[Oh]={}),a=i[e];if(r&&a)a.value=r;else{const[l,u]=Iv(e);if(r){const h=i[e]=Dv(r,s);Zr(n,l,h,u)}else a&&(Av(n,l,a,u),i[e]=void 0)}}const Nh=/(?:Once|Passive|Capture)$/;function Iv(n){let e;if(Nh.test(n)){e={};let r;for(;r=n.match(Nh);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):qr(n.slice(2)),e]}let sl=0;const Sv=Promise.resolve(),Rv=()=>sl||(Sv.then(()=>sl=0),sl=Date.now());function Dv(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;_n(Pv(r,t.value),e,5,[r])};return t.value=n,t.attached=Rv(),t}function Pv(n,e){if(ve(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Vh=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,xv=(n,e,t,r,s,i)=>{const a=s==="svg";e==="class"?vv(n,r,a):e==="style"?Tv(n,t,r):ia(e)?Su(e)||Cv(n,e,t,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mv(n,e,r,a))?(Mh(n,e,r),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&xh(n,e,r,a,i,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!ct(r))?Mh(n,dn(e),r,i,e):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),xh(n,e,r,a))};function Mv(n,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in n&&Vh(e)&&be(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=n.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Vh(e)&&ct(t)?!1:e in n}const kh=n=>{const e=n.props["onUpdate:modelValue"]||!1;return ve(e)?t=>bo(e,t):e};function Ov(n){n.target.composing=!0}function Lh(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const il=Symbol("_assign"),Nv={created(n,{modifiers:{lazy:e,trim:t,number:r}},s){n[il]=kh(s);const i=r||s.props&&s.props.type==="number";Zr(n,e?"change":"input",a=>{if(a.target.composing)return;let l=n.value;t&&(l=l.trim()),i&&(l=Pl(l)),n[il](l)}),t&&Zr(n,"change",()=>{n.value=n.value.trim()}),e||(Zr(n,"compositionstart",Ov),Zr(n,"compositionend",Lh),Zr(n,"change",Lh))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,oldValue:t,modifiers:{lazy:r,trim:s,number:i}},a){if(n[il]=kh(a),n.composing)return;const l=(i||n.type==="number")&&!/^0\d/.test(n.value)?Pl(n.value):n.value,u=e??"";l!==u&&(document.activeElement===n&&n.type!=="range"&&(r&&e===t||s&&n.value.trim()===u)||(n.value=u))}},Vv=yt({patchProp:xv},fv);let Fh;function kv(){return Fh||(Fh=V_(Vv))}const Lv=(...n)=>{const e=kv().createApp(...n),{mount:t}=e;return e.mount=r=>{const s=Uv(r);if(!s)return;const i=e._component;!be(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=t(s,!1,Fv(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function Fv(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Uv(n){return ct(n)?document.querySelector(n):n}const Bv={__name:"App",setup(n){return(e,t)=>{const r=__("router-view");return Ht(),Vp(r)}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const es=typeof document<"u";function Hp(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function jv(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&Hp(n.default)}const Be=Object.assign;function ol(n,e){const t={};for(const r in e){const s=e[r];t[r]=vn(s)?s.map(n):n(s)}return t}const di=()=>{},vn=Array.isArray,qp=/#/g,$v=/&/g,Hv=/\//g,qv=/=/g,zv=/\?/g,zp=/\+/g,Kv=/%5B/g,Wv=/%5D/g,Kp=/%5E/g,Gv=/%60/g,Wp=/%7B/g,Yv=/%7C/g,Gp=/%7D/g,Qv=/%20/g;function zu(n){return encodeURI(""+n).replace(Yv,"|").replace(Kv,"[").replace(Wv,"]")}function Jv(n){return zu(n).replace(Wp,"{").replace(Gp,"}").replace(Kp,"^")}function Kl(n){return zu(n).replace(zp,"%2B").replace(Qv,"+").replace(qp,"%23").replace($v,"%26").replace(Gv,"`").replace(Wp,"{").replace(Gp,"}").replace(Kp,"^")}function Xv(n){return Kl(n).replace(qv,"%3D")}function Zv(n){return zu(n).replace(qp,"%23").replace(zv,"%3F")}function eE(n){return n==null?"":Zv(n).replace(Hv,"%2F")}function Ri(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const tE=/\/$/,nE=n=>n.replace(tE,"");function al(n,e,t="/"){let r,s={},i="",a="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,l>-1?l:e.length),s=n(i)),l>-1&&(r=r||e.slice(0,l),a=e.slice(l,e.length)),r=oE(r??e,t),{fullPath:r+(i&&"?")+i+a,path:r,query:s,hash:Ri(a)}}function rE(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function Uh(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function sE(n,e,t){const r=e.matched.length-1,s=t.matched.length-1;return r>-1&&r===s&&vs(e.matched[r],t.matched[s])&&Yp(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function vs(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function Yp(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!iE(n[t],e[t]))return!1;return!0}function iE(n,e){return vn(n)?Bh(n,e):vn(e)?Bh(e,n):n===e}function Bh(n,e){return vn(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function oE(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=t.length-1,a,l;for(a=0;a<r.length;a++)if(l=r[a],l!==".")if(l==="..")i>1&&i--;else break;return t.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const Zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Di;(function(n){n.pop="pop",n.push="push"})(Di||(Di={}));var pi;(function(n){n.back="back",n.forward="forward",n.unknown=""})(pi||(pi={}));function aE(n){if(!n)if(es){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),nE(n)}const lE=/^[^#]+#/;function uE(n,e){return n.replace(lE,"#")+e}function cE(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const _a=()=>({left:window.scrollX,top:window.scrollY});function hE(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),s=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!s)return;e=cE(s,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jh(n,e){return(history.state?history.state.position-e:-1)+n}const Wl=new Map;function fE(n,e){Wl.set(n,e)}function dE(n){const e=Wl.get(n);return Wl.delete(n),e}let pE=()=>location.protocol+"//"+location.host;function Qp(n,e){const{pathname:t,search:r,hash:s}=e,i=n.indexOf("#");if(i>-1){let l=s.includes(n.slice(i))?n.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),Uh(u,"")}return Uh(t,n)+r+s}function mE(n,e,t,r){let s=[],i=[],a=null;const l=({state:m})=>{const v=Qp(n,location),D=t.value,C=e.value;let x=0;if(m){if(t.value=v,e.value=m,a&&a===D){a=null;return}x=C?m.position-C.position:0}else r(v);s.forEach(K=>{K(t.value,D,{delta:x,type:Di.pop,direction:x?x>0?pi.forward:pi.back:pi.unknown})})};function u(){a=t.value}function h(m){s.push(m);const v=()=>{const D=s.indexOf(m);D>-1&&s.splice(D,1)};return i.push(v),v}function f(){const{history:m}=window;m.state&&m.replaceState(Be({},m.state,{scroll:_a()}),"")}function p(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:u,listen:h,destroy:p}}function $h(n,e,t,r=!1,s=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:s?_a():null}}function gE(n){const{history:e,location:t}=window,r={value:Qp(n,t)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,h,f){const p=n.indexOf("#"),m=p>-1?(t.host&&document.querySelector("base")?n:n.slice(p))+u:pE()+n+u;try{e[f?"replaceState":"pushState"](h,"",m),s.value=h}catch(v){console.error(v),t[f?"replace":"assign"](m)}}function a(u,h){const f=Be({},e.state,$h(s.value.back,u,s.value.forward,!0),h,{position:s.value.position});i(u,f,!0),r.value=u}function l(u,h){const f=Be({},s.value,e.state,{forward:u,scroll:_a()});i(f.current,f,!0);const p=Be({},$h(r.value,u,null),{position:f.position+1},h);i(u,p,!1),r.value=u}return{location:r,state:s,push:l,replace:a}}function yE(n){n=aE(n);const e=gE(n),t=mE(n,e.state,e.location,e.replace);function r(i,a=!0){a||t.pauseListeners(),history.go(i)}const s=Be({location:"",base:n,go:r,createHref:uE.bind(null,n)},e,t);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function _E(n){return typeof n=="string"||n&&typeof n=="object"}function Jp(n){return typeof n=="string"||typeof n=="symbol"}const Xp=Symbol("");var Hh;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Hh||(Hh={}));function Es(n,e){return Be(new Error,{type:n,[Xp]:!0},e)}function Bn(n,e){return n instanceof Error&&Xp in n&&(e==null||!!(n.type&e))}const qh="[^/]+?",vE={sensitive:!1,strict:!1,start:!0,end:!0},EE=/[.+*?^${}()[\]/\\]/g;function wE(n,e){const t=Be({},vE,e),r=[];let s=t.start?"^":"";const i=[];for(const h of n){const f=h.length?[]:[90];t.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let v=40+(t.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(EE,"\\$&"),v+=40;else if(m.type===1){const{value:D,repeatable:C,optional:x,regexp:K}=m;i.push({name:D,repeatable:C,optional:x});const U=K||qh;if(U!==qh){v+=10;try{new RegExp(`(${U})`)}catch($){throw new Error(`Invalid custom RegExp for param "${D}" (${U}): `+$.message)}}let V=C?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;p||(V=x&&h.length<2?`(?:/${V})`:"/"+V),x&&(V+="?"),s+=V,v+=20,x&&(v+=-8),C&&(v+=-20),U===".*"&&(v+=-50)}f.push(v)}r.push(f)}if(t.strict&&t.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}t.strict||(s+="/?"),t.end?s+="$":t.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const a=new RegExp(s,t.sensitive?"":"i");function l(h){const f=h.match(a),p={};if(!f)return null;for(let m=1;m<f.length;m++){const v=f[m]||"",D=i[m-1];p[D.name]=v&&D.repeatable?v.split("/"):v}return p}function u(h){let f="",p=!1;for(const m of n){(!p||!f.endsWith("/"))&&(f+="/"),p=!1;for(const v of m)if(v.type===0)f+=v.value;else if(v.type===1){const{value:D,repeatable:C,optional:x}=v,K=D in h?h[D]:"";if(vn(K)&&!C)throw new Error(`Provided param "${D}" is an array but it is not repeatable (* or + modifiers)`);const U=vn(K)?K.join("/"):K;if(!U)if(x)m.length<2&&(f.endsWith("/")?f=f.slice(0,-1):p=!0);else throw new Error(`Missing required param "${D}"`);f+=U}}return f||"/"}return{re:a,score:r,keys:i,parse:l,stringify:u}}function TE(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Zp(n,e){let t=0;const r=n.score,s=e.score;for(;t<r.length&&t<s.length;){const i=TE(r[t],s[t]);if(i)return i;t++}if(Math.abs(s.length-r.length)===1){if(zh(r))return 1;if(zh(s))return-1}return s.length-r.length}function zh(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const bE={type:0,value:""},AE=/[a-zA-Z0-9_]/;function CE(n){if(!n)return[[]];if(n==="/")return[[bE]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(v){throw new Error(`ERR (${t})/"${h}": ${v}`)}let t=0,r=t;const s=[];let i;function a(){i&&s.push(i),i=[]}let l=0,u,h="",f="";function p(){h&&(t===0?i.push({type:0,value:h}):t===1||t===2||t===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:f,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=u}for(;l<n.length;){if(u=n[l++],u==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:u==="/"?(h&&p(),a()):u===":"?(p(),t=1):m();break;case 4:m(),t=r;break;case 1:u==="("?t=2:AE.test(u)?m():(p(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+u:t=3:f+=u;break;case 3:p(),t=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,f="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${h}"`),p(),a(),s}function IE(n,e,t){const r=wE(CE(n.path),t),s=Be(r,{record:n,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function SE(n,e){const t=[],r=new Map;e=Yh({strict:!1,end:!0,sensitive:!1},e);function s(p){return r.get(p)}function i(p,m,v){const D=!v,C=Wh(p);C.aliasOf=v&&v.record;const x=Yh(e,p),K=[C];if("alias"in p){const $=typeof p.alias=="string"?[p.alias]:p.alias;for(const ae of $)K.push(Wh(Be({},C,{components:v?v.record.components:C.components,path:ae,aliasOf:v?v.record:C})))}let U,V;for(const $ of K){const{path:ae}=$;if(m&&ae[0]!=="/"){const ce=m.record.path,R=ce[ce.length-1]==="/"?"":"/";$.path=m.record.path+(ae&&R+ae)}if(U=IE($,m,x),v?v.alias.push(U):(V=V||U,V!==U&&V.alias.push(U),D&&p.name&&!Gh(U)&&a(p.name)),em(U)&&u(U),C.children){const ce=C.children;for(let R=0;R<ce.length;R++)i(ce[R],U,v&&v.children[R])}v=v||U}return V?()=>{a(V)}:di}function a(p){if(Jp(p)){const m=r.get(p);m&&(r.delete(p),t.splice(t.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=t.indexOf(p);m>-1&&(t.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return t}function u(p){const m=PE(p,t);t.splice(m,0,p),p.record.name&&!Gh(p)&&r.set(p.record.name,p)}function h(p,m){let v,D={},C,x;if("name"in p&&p.name){if(v=r.get(p.name),!v)throw Es(1,{location:p});x=v.record.name,D=Be(Kh(m.params,v.keys.filter(V=>!V.optional).concat(v.parent?v.parent.keys.filter(V=>V.optional):[]).map(V=>V.name)),p.params&&Kh(p.params,v.keys.map(V=>V.name))),C=v.stringify(D)}else if(p.path!=null)C=p.path,v=t.find(V=>V.re.test(C)),v&&(D=v.parse(C),x=v.record.name);else{if(v=m.name?r.get(m.name):t.find(V=>V.re.test(m.path)),!v)throw Es(1,{location:p,currentLocation:m});x=v.record.name,D=Be({},m.params,p.params),C=v.stringify(D)}const K=[];let U=v;for(;U;)K.unshift(U.record),U=U.parent;return{name:x,path:C,params:D,matched:K,meta:DE(K)}}n.forEach(p=>i(p));function f(){t.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:a,clearRoutes:f,getRoutes:l,getRecordMatcher:s}}function Kh(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function Wh(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:RE(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function RE(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function Gh(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function DE(n){return n.reduce((e,t)=>Be(e,t.meta),{})}function Yh(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function PE(n,e){let t=0,r=e.length;for(;t!==r;){const i=t+r>>1;Zp(n,e[i])<0?r=i:t=i+1}const s=xE(n);return s&&(r=e.lastIndexOf(s,r-1)),r}function xE(n){let e=n;for(;e=e.parent;)if(em(e)&&Zp(n,e)===0)return e}function em({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function ME(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(zp," "),a=i.indexOf("="),l=Ri(a<0?i:i.slice(0,a)),u=a<0?null:Ri(i.slice(a+1));if(l in e){let h=e[l];vn(h)||(h=e[l]=[h]),h.push(u)}else e[l]=u}return e}function Qh(n){let e="";for(let t in n){const r=n[t];if(t=Xv(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(vn(r)?r.map(i=>i&&Kl(i)):[r&&Kl(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function OE(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=vn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const NE=Symbol(""),Jh=Symbol(""),Ku=Symbol(""),Wu=Symbol(""),Gl=Symbol("");function Qs(){let n=[];function e(r){return n.push(r),()=>{const s=n.indexOf(r);s>-1&&n.splice(s,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function rr(n,e,t,r,s,i=a=>a()){const a=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,u)=>{const h=m=>{m===!1?u(Es(4,{from:t,to:e})):m instanceof Error?u(m):_E(m)?u(Es(2,{from:e,to:m})):(a&&r.enterCallbacks[s]===a&&typeof m=="function"&&a.push(m),l())},f=i(()=>n.call(r&&r.instances[s],e,t,h));let p=Promise.resolve(f);n.length<3&&(p=p.then(h)),p.catch(m=>u(m))})}function ll(n,e,t,r,s=i=>i()){const i=[];for(const a of n)for(const l in a.components){let u=a.components[l];if(!(e!=="beforeRouteEnter"&&!a.instances[l]))if(Hp(u)){const f=(u.__vccOpts||u)[e];f&&i.push(rr(f,t,r,a,l,s))}else{let h=u();i.push(()=>h.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=jv(f)?f.default:f;a.mods[l]=f,a.components[l]=p;const v=(p.__vccOpts||p)[e];return v&&rr(v,t,r,a,l,s)()}))}}return i}function Xh(n){const e=Mn(Ku),t=Mn(Wu),r=Zt(()=>{const u=ls(n.to);return e.resolve(u)}),s=Zt(()=>{const{matched:u}=r.value,{length:h}=u,f=u[h-1],p=t.matched;if(!f||!p.length)return-1;const m=p.findIndex(vs.bind(null,f));if(m>-1)return m;const v=Zh(u[h-2]);return h>1&&Zh(f)===v&&p[p.length-1].path!==v?p.findIndex(vs.bind(null,u[h-2])):m}),i=Zt(()=>s.value>-1&&UE(t.params,r.value.params)),a=Zt(()=>s.value>-1&&s.value===t.matched.length-1&&Yp(t.params,r.value.params));function l(u={}){if(FE(u)){const h=e[ls(n.replace)?"replace":"push"](ls(n.to)).catch(di);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:Zt(()=>r.value.href),isActive:i,isExactActive:a,navigate:l}}function VE(n){return n.length===1?n[0]:n}const kE=fp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Xh,setup(n,{slots:e}){const t=ca(Xh(n)),{options:r}=Mn(Ku),s=Zt(()=>({[ef(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[ef(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const i=e.default&&VE(e.default(t));return n.custom?i:qu("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:s.value},i)}}}),LE=kE;function FE(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function UE(n,e){for(const t in e){const r=e[t],s=n[t];if(typeof r=="string"){if(r!==s)return!1}else if(!vn(s)||s.length!==r.length||r.some((i,a)=>i!==s[a]))return!1}return!0}function Zh(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const ef=(n,e,t)=>n??e??t,BE=fp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=Mn(Gl),s=Zt(()=>n.route||r.value),i=Mn(Jh,0),a=Zt(()=>{let h=ls(i);const{matched:f}=s.value;let p;for(;(p=f[h])&&!p.components;)h++;return h}),l=Zt(()=>s.value.matched[a.value]);Ao(Jh,Zt(()=>a.value+1)),Ao(NE,l),Ao(Gl,s);const u=ot();return Co(()=>[u.value,l.value,n.name],([h,f,p],[m,v,D])=>{f&&(f.instances[p]=h,v&&v!==f&&h&&h===m&&(f.leaveGuards.size||(f.leaveGuards=v.leaveGuards),f.updateGuards.size||(f.updateGuards=v.updateGuards))),h&&f&&(!v||!vs(f,v)||!m)&&(f.enterCallbacks[p]||[]).forEach(C=>C(h))},{flush:"post"}),()=>{const h=s.value,f=n.name,p=l.value,m=p&&p.components[f];if(!m)return tf(t.default,{Component:m,route:h});const v=p.props[f],D=v?v===!0?h.params:typeof v=="function"?v(h):v:null,x=qu(m,Be({},D,e,{onVnodeUnmounted:K=>{K.component.isUnmounted&&(p.instances[f]=null)},ref:u}));return tf(t.default,{Component:x,route:h})||x}}});function tf(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const jE=BE;function $E(n){const e=SE(n.routes,n),t=n.parseQuery||ME,r=n.stringifyQuery||Qh,s=n.history,i=Qs(),a=Qs(),l=Qs(),u=Wy(Zn);let h=Zn;es&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=ol.bind(null,B=>""+B),p=ol.bind(null,eE),m=ol.bind(null,Ri);function v(B,re){let ee,le;return Jp(B)?(ee=e.getRecordMatcher(B),le=re):le=B,e.addRoute(le,ee)}function D(B){const re=e.getRecordMatcher(B);re&&e.removeRoute(re)}function C(){return e.getRoutes().map(B=>B.record)}function x(B){return!!e.getRecordMatcher(B)}function K(B,re){if(re=Be({},re||u.value),typeof B=="string"){const O=al(t,B,re.path),j=e.resolve({path:O.path},re),q=s.createHref(O.fullPath);return Be(O,j,{params:m(j.params),hash:Ri(O.hash),redirectedFrom:void 0,href:q})}let ee;if(B.path!=null)ee=Be({},B,{path:al(t,B.path,re.path).path});else{const O=Be({},B.params);for(const j in O)O[j]==null&&delete O[j];ee=Be({},B,{params:p(O)}),re.params=p(re.params)}const le=e.resolve(ee,re),Pe=B.hash||"";le.params=f(m(le.params));const b=rE(r,Be({},B,{hash:Jv(Pe),path:le.path})),A=s.createHref(b);return Be({fullPath:b,hash:Pe,query:r===Qh?OE(B.query):B.query||{}},le,{redirectedFrom:void 0,href:A})}function U(B){return typeof B=="string"?al(t,B,u.value.path):Be({},B)}function V(B,re){if(h!==B)return Es(8,{from:re,to:B})}function $(B){return R(B)}function ae(B){return $(Be(U(B),{replace:!0}))}function ce(B){const re=B.matched[B.matched.length-1];if(re&&re.redirect){const{redirect:ee}=re;let le=typeof ee=="function"?ee(B):ee;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=U(le):{path:le},le.params={}),Be({query:B.query,hash:B.hash,params:le.path!=null?{}:B.params},le)}}function R(B,re){const ee=h=K(B),le=u.value,Pe=B.state,b=B.force,A=B.replace===!0,O=ce(ee);if(O)return R(Be(U(O),{state:typeof O=="object"?Be({},Pe,O.state):Pe,force:b,replace:A}),re||ee);const j=ee;j.redirectedFrom=re;let q;return!b&&sE(r,le,ee)&&(q=Es(16,{to:j,from:le}),At(le,le,!0,!1)),(q?Promise.resolve(q):S(j,le)).catch(H=>Bn(H)?Bn(H,2)?H:rn(H):Se(H,j,le)).then(H=>{if(H){if(Bn(H,2))return R(Be({replace:A},U(H.to),{state:typeof H.to=="object"?Be({},Pe,H.to.state):Pe,force:b}),re||j)}else H=I(j,le,!0,A,Pe);return P(j,le,H),H})}function w(B,re){const ee=V(B,re);return ee?Promise.reject(ee):Promise.resolve()}function E(B){const re=wn.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(B):B()}function S(B,re){let ee;const[le,Pe,b]=HE(B,re);ee=ll(le.reverse(),"beforeRouteLeave",B,re);for(const O of le)O.leaveGuards.forEach(j=>{ee.push(rr(j,B,re))});const A=w.bind(null,B,re);return ee.push(A),mt(ee).then(()=>{ee=[];for(const O of i.list())ee.push(rr(O,B,re));return ee.push(A),mt(ee)}).then(()=>{ee=ll(Pe,"beforeRouteUpdate",B,re);for(const O of Pe)O.updateGuards.forEach(j=>{ee.push(rr(j,B,re))});return ee.push(A),mt(ee)}).then(()=>{ee=[];for(const O of b)if(O.beforeEnter)if(vn(O.beforeEnter))for(const j of O.beforeEnter)ee.push(rr(j,B,re));else ee.push(rr(O.beforeEnter,B,re));return ee.push(A),mt(ee)}).then(()=>(B.matched.forEach(O=>O.enterCallbacks={}),ee=ll(b,"beforeRouteEnter",B,re,E),ee.push(A),mt(ee))).then(()=>{ee=[];for(const O of a.list())ee.push(rr(O,B,re));return ee.push(A),mt(ee)}).catch(O=>Bn(O,8)?O:Promise.reject(O))}function P(B,re,ee){l.list().forEach(le=>E(()=>le(B,re,ee)))}function I(B,re,ee,le,Pe){const b=V(B,re);if(b)return b;const A=re===Zn,O=es?history.state:{};ee&&(le||A?s.replace(B.fullPath,Be({scroll:A&&O&&O.scroll},Pe)):s.push(B.fullPath,Pe)),u.value=B,At(B,re,ee,A),rn()}let T;function Ue(){T||(T=s.listen((B,re,ee)=>{if(!Ct.listening)return;const le=K(B),Pe=ce(le);if(Pe){R(Be(Pe,{replace:!0,force:!0}),le).catch(di);return}h=le;const b=u.value;es&&fE(jh(b.fullPath,ee.delta),_a()),S(le,b).catch(A=>Bn(A,12)?A:Bn(A,2)?(R(Be(U(A.to),{force:!0}),le).then(O=>{Bn(O,20)&&!ee.delta&&ee.type===Di.pop&&s.go(-1,!1)}).catch(di),Promise.reject()):(ee.delta&&s.go(-ee.delta,!1),Se(A,le,b))).then(A=>{A=A||I(le,b,!1),A&&(ee.delta&&!Bn(A,8)?s.go(-ee.delta,!1):ee.type===Di.pop&&Bn(A,20)&&s.go(-1,!1)),P(le,b,A)}).catch(di)}))}let Ze=Qs(),Ke=Qs(),Re;function Se(B,re,ee){rn(B);const le=Ke.list();return le.length?le.forEach(Pe=>Pe(B,re,ee)):console.error(B),Promise.reject(B)}function bt(){return Re&&u.value!==Zn?Promise.resolve():new Promise((B,re)=>{Ze.add([B,re])})}function rn(B){return Re||(Re=!B,Ue(),Ze.list().forEach(([re,ee])=>B?ee(B):re()),Ze.reset()),B}function At(B,re,ee,le){const{scrollBehavior:Pe}=n;if(!es||!Pe)return Promise.resolve();const b=!ee&&dE(jh(B.fullPath,0))||(le||!ee)&&history.state&&history.state.scroll||null;return tp().then(()=>Pe(B,re,b)).then(A=>A&&hE(A)).catch(A=>Se(A,B,re))}const We=B=>s.go(B);let Ge;const wn=new Set,Ct={currentRoute:u,listening:!0,addRoute:v,removeRoute:D,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:C,resolve:K,options:n,push:$,replace:ae,go:We,back:()=>We(-1),forward:()=>We(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:Ke.add,isReady:bt,install(B){const re=this;B.component("RouterLink",LE),B.component("RouterView",jE),B.config.globalProperties.$router=re,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>ls(u)}),es&&!Ge&&u.value===Zn&&(Ge=!0,$(s.location).catch(Pe=>{}));const ee={};for(const Pe in Zn)Object.defineProperty(ee,Pe,{get:()=>u.value[Pe],enumerable:!0});B.provide(Ku,re),B.provide(Wu,Qd(ee)),B.provide(Gl,u);const le=B.unmount;wn.add(B),B.unmount=function(){wn.delete(B),wn.size<1&&(h=Zn,T&&T(),T=null,u.value=Zn,Ge=!1,Re=!1),le()}}};function mt(B){return B.reduce((re,ee)=>re.then(()=>E(ee)),Promise.resolve())}return Ct}function HE(n,e){const t=[],r=[],s=[],i=Math.max(e.matched.length,n.matched.length);for(let a=0;a<i;a++){const l=e.matched[a];l&&(n.matched.find(h=>vs(h,l))?r.push(l):t.push(l));const u=n.matched[a];u&&(e.matched.find(h=>vs(h,u))||s.push(u))}return[t,r,s]}function qE(n){return Mn(Wu)}const hs="/dog%20hend.png",tm="/camara%20icon.png",nm="/dog%20icon.png";function rm(n,e){return function(){return n.apply(e,arguments)}}const{toString:zE}=Object.prototype,{getPrototypeOf:Gu}=Object,{iterator:va,toStringTag:sm}=Symbol,Ea=(n=>e=>{const t=zE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),En=n=>(n=n.toLowerCase(),e=>Ea(e)===n),wa=n=>e=>typeof e===n,{isArray:Rs}=Array,Pi=wa("undefined");function KE(n){return n!==null&&!Pi(n)&&n.constructor!==null&&!Pi(n.constructor)&&tn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const im=En("ArrayBuffer");function WE(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&im(n.buffer),e}const GE=wa("string"),tn=wa("function"),om=wa("number"),Ta=n=>n!==null&&typeof n=="object",YE=n=>n===!0||n===!1,Ro=n=>{if(Ea(n)!=="object")return!1;const e=Gu(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(sm in n)&&!(va in n)},QE=En("Date"),JE=En("File"),XE=En("Blob"),ZE=En("FileList"),ew=n=>Ta(n)&&tn(n.pipe),tw=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||tn(n.append)&&((e=Ea(n))==="formdata"||e==="object"&&tn(n.toString)&&n.toString()==="[object FormData]"))},nw=En("URLSearchParams"),[rw,sw,iw,ow]=["ReadableStream","Request","Response","Headers"].map(En),aw=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ji(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Rs(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,n[l],l,n)}}function am(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lm=n=>!Pi(n)&&n!==Vr;function Yl(){const{caseless:n}=lm(this)&&this||{},e={},t=(r,s)=>{const i=n&&am(e,s)||s;Ro(e[i])&&Ro(r)?e[i]=Yl(e[i],r):Ro(r)?e[i]=Yl({},r):Rs(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ji(arguments[r],t);return e}const lw=(n,e,t,{allOwnKeys:r}={})=>(ji(e,(s,i)=>{t&&tn(s)?n[i]=rm(s,t):n[i]=s},{allOwnKeys:r}),n),uw=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cw=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},hw=(n,e,t,r)=>{let s,i,a;const l={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)a=s[i],(!r||r(a,n,e))&&!l[a]&&(e[a]=n[a],l[a]=!0);n=t!==!1&&Gu(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},fw=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},dw=n=>{if(!n)return null;if(Rs(n))return n;let e=n.length;if(!om(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},pw=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Gu(Uint8Array)),mw=(n,e)=>{const r=(n&&n[va]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},gw=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},yw=En("HTMLFormElement"),_w=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),nf=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),vw=En("RegExp"),um=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ji(t,(s,i)=>{let a;(a=e(s,i,n))!==!1&&(r[i]=a||s)}),Object.defineProperties(n,r)},Ew=n=>{um(n,(e,t)=>{if(tn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(tn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ww=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return Rs(n)?r(n):r(String(n).split(e)),t},Tw=()=>{},bw=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Aw(n){return!!(n&&tn(n.append)&&n[sm]==="FormData"&&n[va])}const Cw=n=>{const e=new Array(10),t=(r,s)=>{if(Ta(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Rs(r)?[]:{};return ji(r,(a,l)=>{const u=t(a,s+1);!Pi(u)&&(i[l]=u)}),e[s]=void 0,i}}return r};return t(n,0)},Iw=En("AsyncFunction"),Sw=n=>n&&(Ta(n)||tn(n))&&tn(n.then)&&tn(n.catch),cm=((n,e)=>n?setImmediate:e?((t,r)=>(Vr.addEventListener("message",({source:s,data:i})=>{s===Vr&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Vr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",tn(Vr.postMessage)),Rw=typeof queueMicrotask<"u"?queueMicrotask.bind(Vr):typeof process<"u"&&process.nextTick||cm,Dw=n=>n!=null&&tn(n[va]),k={isArray:Rs,isArrayBuffer:im,isBuffer:KE,isFormData:tw,isArrayBufferView:WE,isString:GE,isNumber:om,isBoolean:YE,isObject:Ta,isPlainObject:Ro,isReadableStream:rw,isRequest:sw,isResponse:iw,isHeaders:ow,isUndefined:Pi,isDate:QE,isFile:JE,isBlob:XE,isRegExp:vw,isFunction:tn,isStream:ew,isURLSearchParams:nw,isTypedArray:pw,isFileList:ZE,forEach:ji,merge:Yl,extend:lw,trim:aw,stripBOM:uw,inherits:cw,toFlatObject:hw,kindOf:Ea,kindOfTest:En,endsWith:fw,toArray:dw,forEachEntry:mw,matchAll:gw,isHTMLForm:yw,hasOwnProperty:nf,hasOwnProp:nf,reduceDescriptors:um,freezeMethods:Ew,toObjectSet:ww,toCamelCase:_w,noop:Tw,toFiniteNumber:bw,findKey:am,global:Vr,isContextDefined:lm,isSpecCompliantForm:Aw,toJSONObject:Cw,isAsyncFn:Iw,isThenable:Sw,setImmediate:cm,asap:Rw,isIterable:Dw};function Ce(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}k.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const hm=Ce.prototype,fm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{fm[n]={value:n}});Object.defineProperties(Ce,fm);Object.defineProperty(hm,"isAxiosError",{value:!0});Ce.from=(n,e,t,r,s,i)=>{const a=Object.create(hm);return k.toFlatObject(n,a,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),Ce.call(a,n.message,e,t,r,s),a.cause=n,a.name=n.name,i&&Object.assign(a,i),a};const Pw=null;function Ql(n){return k.isPlainObject(n)||k.isArray(n)}function dm(n){return k.endsWith(n,"[]")?n.slice(0,-2):n}function rf(n,e,t){return n?n.concat(e).map(function(s,i){return s=dm(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function xw(n){return k.isArray(n)&&!n.some(Ql)}const Mw=k.toFlatObject(k,{},null,function(e){return/^is[A-Z]/.test(e)});function ba(n,e,t){if(!k.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=k.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,x){return!k.isUndefined(x[C])});const r=t.metaTokens,s=t.visitor||f,i=t.dots,a=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(e);if(!k.isFunction(s))throw new TypeError("visitor must be a function");function h(D){if(D===null)return"";if(k.isDate(D))return D.toISOString();if(k.isBoolean(D))return D.toString();if(!u&&k.isBlob(D))throw new Ce("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(D)||k.isTypedArray(D)?u&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function f(D,C,x){let K=D;if(D&&!x&&typeof D=="object"){if(k.endsWith(C,"{}"))C=r?C:C.slice(0,-2),D=JSON.stringify(D);else if(k.isArray(D)&&xw(D)||(k.isFileList(D)||k.endsWith(C,"[]"))&&(K=k.toArray(D)))return C=dm(C),K.forEach(function(V,$){!(k.isUndefined(V)||V===null)&&e.append(a===!0?rf([C],$,i):a===null?C:C+"[]",h(V))}),!1}return Ql(D)?!0:(e.append(rf(x,C,i),h(D)),!1)}const p=[],m=Object.assign(Mw,{defaultVisitor:f,convertValue:h,isVisitable:Ql});function v(D,C){if(!k.isUndefined(D)){if(p.indexOf(D)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(D),k.forEach(D,function(K,U){(!(k.isUndefined(K)||K===null)&&s.call(e,K,k.isString(U)?U.trim():U,C,m))===!0&&v(K,C?C.concat(U):[U])}),p.pop()}}if(!k.isObject(n))throw new TypeError("data must be an object");return v(n),e}function sf(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Yu(n,e){this._pairs=[],n&&ba(n,this,e)}const pm=Yu.prototype;pm.append=function(e,t){this._pairs.push([e,t])};pm.toString=function(e){const t=e?function(r){return e.call(this,r,sf)}:sf;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Ow(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mm(n,e,t){if(!e)return n;const r=t&&t.encode||Ow;k.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let i;if(s?i=s(e,t):i=k.isURLSearchParams(e)?e.toString():new Yu(e,t).toString(r),i){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class of{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){k.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Nw=typeof URLSearchParams<"u"?URLSearchParams:Yu,Vw=typeof FormData<"u"?FormData:null,kw=typeof Blob<"u"?Blob:null,Lw={isBrowser:!0,classes:{URLSearchParams:Nw,FormData:Vw,Blob:kw},protocols:["http","https","file","blob","url","data"]},Qu=typeof window<"u"&&typeof document<"u",Jl=typeof navigator=="object"&&navigator||void 0,Fw=Qu&&(!Jl||["ReactNative","NativeScript","NS"].indexOf(Jl.product)<0),Uw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bw=Qu&&window.location.href||"http://localhost",jw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qu,hasStandardBrowserEnv:Fw,hasStandardBrowserWebWorkerEnv:Uw,navigator:Jl,origin:Bw},Symbol.toStringTag,{value:"Module"})),kt={...jw,...Lw};function $w(n,e){return ba(n,new kt.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return kt.isNode&&k.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Hw(n){return k.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qw(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function ym(n){function e(t,r,s,i){let a=t[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=t.length;return a=!a&&k.isArray(s)?s.length:a,u?(k.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!k.isObject(s[a]))&&(s[a]=[]),e(t,r,s[a],i)&&k.isArray(s[a])&&(s[a]=qw(s[a])),!l)}if(k.isFormData(n)&&k.isFunction(n.entries)){const t={};return k.forEachEntry(n,(r,s)=>{e(Hw(r),s,t,0)}),t}return null}function zw(n,e,t){if(k.isString(n))try{return(e||JSON.parse)(n),k.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const $i={transitional:gm,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=k.isObject(e);if(i&&k.isHTMLForm(e)&&(e=new FormData(e)),k.isFormData(e))return s?JSON.stringify(ym(e)):e;if(k.isArrayBuffer(e)||k.isBuffer(e)||k.isStream(e)||k.isFile(e)||k.isBlob(e)||k.isReadableStream(e))return e;if(k.isArrayBufferView(e))return e.buffer;if(k.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return $w(e,this.formSerializer).toString();if((l=k.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ba(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),zw(e)):e}],transformResponse:[function(e){const t=this.transitional||$i.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(k.isResponse(e)||k.isReadableStream(e))return e;if(e&&k.isString(e)&&(r&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],n=>{$i.headers[n]={}});const Kw=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ww=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!t||e[t]&&Kw[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},af=Symbol("internals");function Js(n){return n&&String(n).trim().toLowerCase()}function Do(n){return n===!1||n==null?n:k.isArray(n)?n.map(Do):String(n)}function Gw(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Yw=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function ul(n,e,t,r,s){if(k.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!k.isString(e)){if(k.isString(r))return e.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(e)}}function Qw(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Jw(n,e){const t=k.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,a){return this[r].call(this,e,s,i,a)},configurable:!0})})}let nn=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(l,u,h){const f=Js(u);if(!f)throw new Error("header name must be a non-empty string");const p=k.findKey(s,f);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||u]=Do(l))}const a=(l,u)=>k.forEach(l,(h,f)=>i(h,f,u));if(k.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(k.isString(e)&&(e=e.trim())&&!Yw(e))a(Ww(e),t);else if(k.isObject(e)&&k.isIterable(e)){let l={},u,h;for(const f of e){if(!k.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(u=l[h])?k.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,t)}else e!=null&&i(t,e,r);return this}get(e,t){if(e=Js(e),e){const r=k.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return Gw(s);if(k.isFunction(t))return t.call(this,s,r);if(k.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Js(e),e){const r=k.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||ul(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(a){if(a=Js(a),a){const l=k.findKey(r,a);l&&(!t||ul(r,r[l],l,t))&&(delete r[l],s=!0)}}return k.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||ul(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return k.forEach(this,(s,i)=>{const a=k.findKey(r,i);if(a){t[a]=Do(s),delete t[i];return}const l=e?Qw(i):String(i).trim();l!==i&&delete t[i],t[l]=Do(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return k.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&k.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[af]=this[af]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Js(a);r[l]||(Jw(s,a),r[l]=!0)}return k.isArray(e)?e.forEach(i):i(e),this}};nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(nn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});k.freezeMethods(nn);function cl(n,e){const t=this||$i,r=e||t,s=nn.from(r.headers);let i=r.data;return k.forEach(n,function(l){i=l.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function _m(n){return!!(n&&n.__CANCEL__)}function Ds(n,e,t){Ce.call(this,n??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}k.inherits(Ds,Ce,{__CANCEL__:!0});function vm(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Xw(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Zw(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,a;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[i];a||(a=h),t[s]=u,r[s]=h;let p=i,m=0;for(;p!==s;)m+=t[p++],p=p%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),h-a<e)return;const v=f&&h-f;return v?Math.round(m*1e3/v):void 0}}function eT(n,e){let t=0,r=1e3/e,s,i;const a=(h,f=Date.now())=>{t=f,s=null,i&&(clearTimeout(i),i=null),n.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-t;p>=r?a(h,f):(s=h,i||(i=setTimeout(()=>{i=null,a(s)},r-p)))},()=>s&&a(s)]}const zo=(n,e,t=3)=>{let r=0;const s=Zw(50,250);return eT(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,h=s(u),f=a<=l;r=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:h||void 0,estimated:h&&l&&f?(l-a)/h:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(p)},t)},lf=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},uf=n=>(...e)=>k.asap(()=>n(...e)),tT=kt.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,kt.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,nT=kt.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const a=[n+"="+encodeURIComponent(e)];k.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),k.isString(r)&&a.push("path="+r),k.isString(s)&&a.push("domain="+s),i===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rT(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function sT(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Em(n,e,t){let r=!rT(e);return n&&(r||t==!1)?sT(n,e):e}const cf=n=>n instanceof nn?{...n}:n;function $r(n,e){e=e||{};const t={};function r(h,f,p,m){return k.isPlainObject(h)&&k.isPlainObject(f)?k.merge.call({caseless:m},h,f):k.isPlainObject(f)?k.merge({},f):k.isArray(f)?f.slice():f}function s(h,f,p,m){if(k.isUndefined(f)){if(!k.isUndefined(h))return r(void 0,h,p,m)}else return r(h,f,p,m)}function i(h,f){if(!k.isUndefined(f))return r(void 0,f)}function a(h,f){if(k.isUndefined(f)){if(!k.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,p){if(p in e)return r(h,f);if(p in n)return r(void 0,h)}const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,f,p)=>s(cf(h),cf(f),p,!0)};return k.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=u[f]||s,m=p(n[f],e[f],f);k.isUndefined(m)&&p!==l||(t[f]=m)}),t}const wm=n=>{const e=$r({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;e.headers=a=nn.from(a),e.url=mm(Em(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(k.isFormData(t)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[h,...f]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...f].join("; "))}}if(kt.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(e)),r||r!==!1&&tT(e.url))){const h=s&&i&&nT.read(i);h&&a.set(s,h)}return e},iT=typeof XMLHttpRequest<"u",oT=iT&&function(n){return new Promise(function(t,r){const s=wm(n);let i=s.data;const a=nn.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:h}=s,f,p,m,v,D;function C(){v&&v(),D&&D(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function K(){if(!x)return;const V=nn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),ae={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:V,config:n,request:x};vm(function(R){t(R),C()},function(R){r(R),C()},ae),x=null}"onloadend"in x?x.onloadend=K:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(K)},x.onabort=function(){x&&(r(new Ce("Request aborted",Ce.ECONNABORTED,n,x)),x=null)},x.onerror=function(){r(new Ce("Network Error",Ce.ERR_NETWORK,n,x)),x=null},x.ontimeout=function(){let $=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ae=s.transitional||gm;s.timeoutErrorMessage&&($=s.timeoutErrorMessage),r(new Ce($,ae.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,n,x)),x=null},i===void 0&&a.setContentType(null),"setRequestHeader"in x&&k.forEach(a.toJSON(),function($,ae){x.setRequestHeader(ae,$)}),k.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),l&&l!=="json"&&(x.responseType=s.responseType),h&&([m,D]=zo(h,!0),x.addEventListener("progress",m)),u&&x.upload&&([p,v]=zo(u),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(f=V=>{x&&(r(!V||V.type?new Ds(null,n,x):V),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const U=Xw(s.url);if(U&&kt.protocols.indexOf(U)===-1){r(new Ce("Unsupported protocol "+U+":",Ce.ERR_BAD_REQUEST,n));return}x.send(i||null)})},aT=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(h){if(!s){s=!0,l();const f=h instanceof Error?h:this.reason;r.abort(f instanceof Ce?f:new Ds(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,i(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),n=null)};n.forEach(h=>h.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>k.asap(l),u}},lT=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},uT=async function*(n,e){for await(const t of cT(n))yield*lT(t,e)},cT=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},hf=(n,e,t,r)=>{const s=uT(n,e);let i=0,a,l=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await s.next();if(h){l(),u.close();return}let p=f.byteLength;if(t){let m=i+=p;t(m)}u.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},Aa=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tm=Aa&&typeof ReadableStream=="function",hT=Aa&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),bm=(n,...e)=>{try{return!!n(...e)}catch{return!1}},fT=Tm&&bm(()=>{let n=!1;const e=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ff=64*1024,Xl=Tm&&bm(()=>k.isReadableStream(new Response("").body)),Ko={stream:Xl&&(n=>n.body)};Aa&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ko[e]&&(Ko[e]=k.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,r)})})})(new Response);const dT=async n=>{if(n==null)return 0;if(k.isBlob(n))return n.size;if(k.isSpecCompliantForm(n))return(await new Request(kt.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(k.isArrayBufferView(n)||k.isArrayBuffer(n))return n.byteLength;if(k.isURLSearchParams(n)&&(n=n+""),k.isString(n))return(await hT(n)).byteLength},pT=async(n,e)=>{const t=k.toFiniteNumber(n.getContentLength());return t??dT(e)},mT=Aa&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:a,onDownloadProgress:l,onUploadProgress:u,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:m}=wm(n);h=h?(h+"").toLowerCase():"text";let v=aT([s,i&&i.toAbortSignal()],a),D;const C=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(u&&fT&&t!=="get"&&t!=="head"&&(x=await pT(f,r))!==0){let ae=new Request(e,{method:"POST",body:r,duplex:"half"}),ce;if(k.isFormData(r)&&(ce=ae.headers.get("content-type"))&&f.setContentType(ce),ae.body){const[R,w]=lf(x,zo(uf(u)));r=hf(ae.body,ff,R,w)}}k.isString(p)||(p=p?"include":"omit");const K="credentials"in Request.prototype;D=new Request(e,{...m,signal:v,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:K?p:void 0});let U=await fetch(D,m);const V=Xl&&(h==="stream"||h==="response");if(Xl&&(l||V&&C)){const ae={};["status","statusText","headers"].forEach(E=>{ae[E]=U[E]});const ce=k.toFiniteNumber(U.headers.get("content-length")),[R,w]=l&&lf(ce,zo(uf(l),!0))||[];U=new Response(hf(U.body,ff,R,()=>{w&&w(),C&&C()}),ae)}h=h||"text";let $=await Ko[k.findKey(Ko,h)||"text"](U,n);return!V&&C&&C(),await new Promise((ae,ce)=>{vm(ae,ce,{data:$,headers:nn.from(U.headers),status:U.status,statusText:U.statusText,config:n,request:D})})}catch(K){throw C&&C(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,n,D),{cause:K.cause||K}):Ce.from(K,K&&K.code,n,D)}}),Zl={http:Pw,xhr:oT,fetch:mT};k.forEach(Zl,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const df=n=>`- ${n}`,gT=n=>k.isFunction(n)||n===null||n===!1,Am={getAdapter:n=>{n=k.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let a;if(r=t,!gT(t)&&(r=Zl[(a=String(t)).toLowerCase()],r===void 0))throw new Ce(`Unknown adapter '${a}'`);if(r)break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?i.length>1?`since :
`+i.map(df).join(`
`):" "+df(i[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Zl};function hl(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ds(null,n)}function pf(n){return hl(n),n.headers=nn.from(n.headers),n.data=cl.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Am.getAdapter(n.adapter||$i.adapter)(n).then(function(r){return hl(n),r.data=cl.call(n,n.transformResponse,r),r.headers=nn.from(r.headers),r},function(r){return _m(r)||(hl(n),r&&r.response&&(r.response.data=cl.call(n,n.transformResponse,r.response),r.response.headers=nn.from(r.response.headers))),Promise.reject(r)})}const Cm="1.10.0",Ca={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ca[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const mf={};Ca.transitional=function(e,t,r){function s(i,a){return"[Axios v"+Cm+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,l)=>{if(e===!1)throw new Ce(s(a," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!mf[a]&&(mf[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,a,l):!0}};Ca.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function yT(n,e,t){if(typeof n!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=n[i],u=l===void 0||a(l,i,n);if(u!==!0)throw new Ce("option "+i+" must be "+u,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+i,Ce.ERR_BAD_OPTION)}}const Po={assertOptions:yT,validators:Ca},Cn=Po.validators;let Fr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new of,response:new of}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=$r(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&Po.assertOptions(r,{silentJSONParsing:Cn.transitional(Cn.boolean),forcedJSONParsing:Cn.transitional(Cn.boolean),clarifyTimeoutError:Cn.transitional(Cn.boolean)},!1),s!=null&&(k.isFunction(s)?t.paramsSerializer={serialize:s}:Po.assertOptions(s,{encode:Cn.function,serialize:Cn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Po.assertOptions(t,{baseUrl:Cn.spelling("baseURL"),withXsrfToken:Cn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&k.merge(i.common,i[t.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],D=>{delete i[D]}),t.headers=nn.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(t)===!1||(u=u&&C.synchronous,l.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let f,p=0,m;if(!u){const D=[pf.bind(this),void 0];for(D.unshift.apply(D,l),D.push.apply(D,h),m=D.length,f=Promise.resolve(t);p<m;)f=f.then(D[p++],D[p++]);return f}m=l.length;let v=t;for(p=0;p<m;){const D=l[p++],C=l[p++];try{v=D(v)}catch(x){C.call(this,x);break}}try{f=pf.call(this,v)}catch(D){return Promise.reject(D)}for(p=0,m=h.length;p<m;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=$r(this.defaults,e);const t=Em(e.baseURL,e.url,e.allowAbsoluteUrls);return mm(t,e.params,e.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(e){Fr.prototype[e]=function(t,r){return this.request($r(r||{},{method:e,url:t,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(e){function t(r){return function(i,a,l){return this.request($r(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}Fr.prototype[e]=t(),Fr.prototype[e+"Form"]=t(!0)});let _T=class Im{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=function(){r.unsubscribe(i)},a},e(function(i,a,l){r.reason||(r.reason=new Ds(i,a,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Im(function(s){e=s}),cancel:e}}};function vT(n){return function(t){return n.apply(null,t)}}function ET(n){return k.isObject(n)&&n.isAxiosError===!0}const eu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eu).forEach(([n,e])=>{eu[e]=n});function Sm(n){const e=new Fr(n),t=rm(Fr.prototype.request,e);return k.extend(t,Fr.prototype,e,{allOwnKeys:!0}),k.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Sm($r(n,s))},t}const tt=Sm($i);tt.Axios=Fr;tt.CanceledError=Ds;tt.CancelToken=_T;tt.isCancel=_m;tt.VERSION=Cm;tt.toFormData=ba;tt.AxiosError=Ce;tt.Cancel=tt.CanceledError;tt.all=function(e){return Promise.all(e)};tt.spread=vT;tt.isAxiosError=ET;tt.mergeConfig=$r;tt.AxiosHeaders=nn;tt.formToJSON=n=>ym(k.isHTMLForm(n)?new FormData(n):n);tt.getAdapter=Am.getAdapter;tt.HttpStatusCode=eu;tt.default=tt;const{Axios:GC,AxiosError:YC,CanceledError:QC,isCancel:JC,CancelToken:XC,VERSION:ZC,all:eI,Cancel:tI,isAxiosError:nI,spread:rI,toFormData:sI,AxiosHeaders:iI,HttpStatusCode:oI,formToJSON:aI,getAdapter:lI,mergeConfig:uI}=tt;var fl=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],fs={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},xi={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Xt=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},fn=function(n){return n===!0?1:0};function gf(n,e){var t;return function(){var r=this,s=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,s)},e)}}var dl=function(n){return n instanceof Array?n:[n]};function jt(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Le(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function go(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Rm(n,e){if(e(n))return n;if(n.parentNode)return Rm(n.parentNode,e)}function yo(n,e){var t=Le("div","numInputWrapper"),r=Le("input","numInput "+n),s=Le("span","arrowUp"),i=Le("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var a in e)r.setAttribute(a,e[a]);return t.appendChild(r),t.appendChild(s),t.appendChild(i),t}function on(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var pl=function(){},Wo=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},wT={D:pl,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*fn(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),s=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+t.firstDayOfWeek),s},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:pl,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:pl,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},Nr={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mi={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[mi.w(n,e,t)]},F:function(n,e,t){return Wo(mi.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Xt(mi.h(n,e,t))},H:function(n){return Xt(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[fn(n.getHours()>11)]},M:function(n,e){return Wo(n.getMonth(),!0,e)},S:function(n){return Xt(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Xt(n.getFullYear(),4)},d:function(n){return Xt(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Xt(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Xt(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Dm=function(n){var e=n.config,t=e===void 0?fs:e,r=n.l10n,s=r===void 0?xi:r,i=n.isMobile,a=i===void 0?!1:i;return function(l,u,h){var f=h||s;return t.formatDate!==void 0&&!a?t.formatDate(l,u,f):u.split("").map(function(p,m,v){return mi[p]&&v[m-1]!=="\\"?mi[p](l,f,t):p!=="\\"?p:""}).join("")}},tu=function(n){var e=n.config,t=e===void 0?fs:e,r=n.l10n,s=r===void 0?xi:r;return function(i,a,l,u){if(!(i!==0&&!i)){var h=u||s,f,p=i;if(i instanceof Date)f=new Date(i.getTime());else if(typeof i!="string"&&i.toFixed!==void 0)f=new Date(i);else if(typeof i=="string"){var m=a||(t||fs).dateFormat,v=String(i).trim();if(v==="today")f=new Date,l=!0;else if(t&&t.parseDate)f=t.parseDate(i,m);else if(/Z$/.test(v)||/GMT$/.test(v))f=new Date(i);else{for(var D=void 0,C=[],x=0,K=0,U="";x<m.length;x++){var V=m[x],$=V==="\\",ae=m[x-1]==="\\"||$;if(Nr[V]&&!ae){U+=Nr[V];var ce=new RegExp(U).exec(i);ce&&(D=!0)&&C[V!=="Y"?"push":"unshift"]({fn:wT[V],val:ce[++K]})}else $||(U+=".")}f=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),C.forEach(function(R){var w=R.fn,E=R.val;return f=w(f,E,h)||f}),f=D?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){t.errorHandler(new Error("Invalid date provided: "+p));return}return l===!0&&f.setHours(0,0,0,0),f}}};function an(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var TT=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},ml=function(n,e,t){return n*3600+e*60+t},bT=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},AT={DAY:864e5};function gl(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var s=n.minDate.getHours(),i=n.minDate.getMinutes(),a=n.minDate.getSeconds();e<s&&(e=s),e===s&&t<i&&(t=i),e===s&&t===i&&r<a&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var l=n.maxDate.getHours(),u=n.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(u,t)),e===l&&t===u&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(l){l&&Object.keys(l).forEach(function(u){return n[u]=l[u]})},s=0,i=e;s<i.length;s++){var a=i[s];r(a)}return n});var Pt=function(){return Pt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Pt.apply(this,arguments)},yf=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),s=0,e=0;e<t;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,s++)r[s]=i[a];return r},CT=300;function IT(n,e){var t={config:Pt(Pt({},fs),at.defaultConfig),l10n:xi};t.parseDate=tu({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=C,t._setHoursFromDate=m,t._positionCalendar=Y,t.changeMonth=At,t.changeYear=B,t.clear=We,t.close=Ge,t.onMouseOver=b,t._createElement=Le,t.createDay=ce,t.destroy=wn,t.isEnabled=re,t.jumpToDate=U,t.updateValue=Ut,t.open=O,t.redraw=fe,t.set=ge,t.setDate=De,t.toggle=Er;function r(){t.utils={getDaysInMonth:function(y,_){return y===void 0&&(y=t.currentMonth),_===void 0&&(_=t.currentYear),y===1&&(_%4===0&&_%100!==0||_%400===0)?29:t.l10n.daysInMonth[y]}}}function s(){t.element=t.input=n,t.isOpen=!1,q(),te(),Yt(),ht(),r(),t.isMobile||ae(),K(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),Ut(!1)),l();var y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&y&&Y(),Ie("onReady")}function i(){var y;return((y=t.calendarContainer)===null||y===void 0?void 0:y.getRootNode()).activeElement||document.activeElement}function a(y){return y.bind(t)}function l(){var y=t.config;y.weekNumbers===!1&&y.showMonths===1||y.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var _=(t.days.offsetWidth+1)*y.showMonths;t.daysContainer.style.width=_+"px",t.calendarContainer.style.width=_+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function u(y){if(t.selectedDates.length===0){var _=t.config.minDate===void 0||an(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),M=gl(t.config);_.setHours(M.hours,M.minutes,M.seconds,_.getMilliseconds()),t.selectedDates=[_],t.latestSelectedDateObj=_}y!==void 0&&y.type!=="blur"&&ks(y);var F=t._input.value;p(),Ut(),t._input.value!==F&&t._debouncedChange()}function h(y,_){return y%12+12*fn(_===t.l10n.amPM[1])}function f(y){switch(y%24){case 0:case 12:return 12;default:return y%12}}function p(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var y=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,_=(parseInt(t.minuteElement.value,10)||0)%60,M=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(y=h(y,t.amPM.textContent));var F=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&an(t.latestSelectedDateObj,t.config.minDate,!0)===0,G=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&an(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var se=ml(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),de=ml(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),ue=ml(y,_,M);if(ue>de&&ue<se){var we=bT(se);y=we[0],_=we[1],M=we[2]}}else{if(G){var ie=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;y=Math.min(y,ie.getHours()),y===ie.getHours()&&(_=Math.min(_,ie.getMinutes())),_===ie.getMinutes()&&(M=Math.min(M,ie.getSeconds()))}if(F){var _e=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;y=Math.max(y,_e.getHours()),y===_e.getHours()&&_<_e.getMinutes()&&(_=_e.getMinutes()),_===_e.getMinutes()&&(M=Math.max(M,_e.getSeconds()))}}v(y,_,M)}}function m(y){var _=y||t.latestSelectedDateObj;_&&_ instanceof Date&&v(_.getHours(),_.getMinutes(),_.getSeconds())}function v(y,_,M){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(y%24,_,M||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Xt(t.config.time_24hr?y:(12+y)%12+12*fn(y%12===0)),t.minuteElement.value=Xt(_),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[fn(y>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Xt(M)))}function D(y){var _=on(y),M=parseInt(_.value)+(y.delta||0);(M/1e3>1||y.key==="Enter"&&!/[^\d]/.test(M.toString()))&&B(M)}function C(y,_,M,F){if(_ instanceof Array)return _.forEach(function(G){return C(y,G,M,F)});if(y instanceof Array)return y.forEach(function(G){return C(G,_,M,F)});y.addEventListener(_,M,F),t._handlers.push({remove:function(){return y.removeEventListener(_,M,F)}})}function x(){Ie("onChange")}function K(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(M){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+M+"]"),function(F){return C(F,"click",t[M])})}),t.isMobile){Tn();return}var y=gf(A,50);if(t._debouncedChange=gf(x,CT),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&C(t.daysContainer,"mouseover",function(M){t.config.mode==="range"&&b(on(M))}),C(t._input,"keydown",Pe),t.calendarContainer!==void 0&&C(t.calendarContainer,"keydown",Pe),!t.config.inline&&!t.config.static&&C(window,"resize",y),window.ontouchstart!==void 0?C(window.document,"touchstart",mt):C(window.document,"mousedown",mt),C(window.document,"focus",mt,{capture:!0}),t.config.clickOpens===!0&&(C(t._input,"focus",t.open),C(t._input,"click",t.open)),t.daysContainer!==void 0&&(C(t.monthNav,"click",Vs),C(t.monthNav,["keyup","increment"],D),C(t.daysContainer,"click",he)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var _=function(M){return on(M).select()};C(t.timeContainer,["increment"],u),C(t.timeContainer,"blur",u,{capture:!0}),C(t.timeContainer,"click",V),C([t.hourElement,t.minuteElement],["focus","click"],_),t.secondElement!==void 0&&C(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&C(t.amPM,"click",function(M){u(M)})}t.config.allowInput&&C(t._input,"blur",le)}function U(y,_){var M=y!==void 0?t.parseDate(y):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),F=t.currentYear,G=t.currentMonth;try{M!==void 0&&(t.currentYear=M.getFullYear(),t.currentMonth=M.getMonth())}catch(se){se.message="Invalid date supplied: "+M,t.config.errorHandler(se)}_&&t.currentYear!==F&&(Ie("onYearChange"),T()),_&&(t.currentYear!==F||t.currentMonth!==G)&&Ie("onMonthChange"),t.redraw()}function V(y){var _=on(y);~_.className.indexOf("arrow")&&$(y,_.classList.contains("arrowUp")?1:-1)}function $(y,_,M){var F=y&&on(y),G=M||F&&F.parentNode&&F.parentNode.firstChild,se=It("increment");se.delta=_,G&&G.dispatchEvent(se)}function ae(){var y=window.document.createDocumentFragment();if(t.calendarContainer=Le("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(y.appendChild(Ke()),t.innerContainer=Le("div","flatpickr-innerContainer"),t.config.weekNumbers){var _=rn(),M=_.weekWrapper,F=_.weekNumbers;t.innerContainer.appendChild(M),t.weekNumbers=F,t.weekWrapper=M}t.rContainer=Le("div","flatpickr-rContainer"),t.rContainer.appendChild(Se()),t.daysContainer||(t.daysContainer=Le("div","flatpickr-days"),t.daysContainer.tabIndex=-1),I(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),y.appendChild(t.innerContainer)}t.config.enableTime&&y.appendChild(Re()),jt(t.calendarContainer,"rangeMode",t.config.mode==="range"),jt(t.calendarContainer,"animate",t.config.animate===!0),jt(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(y);var G=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!G&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var se=Le("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(se,t.element),se.appendChild(t.element),t.altInput&&se.appendChild(t.altInput),se.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function ce(y,_,M,F){var G=re(_,!0),se=Le("span",y,_.getDate().toString());return se.dateObj=_,se.$i=F,se.setAttribute("aria-label",t.formatDate(_,t.config.ariaDateFormat)),y.indexOf("hidden")===-1&&an(_,t.now)===0&&(t.todayDateElem=se,se.classList.add("today"),se.setAttribute("aria-current","date")),G?(se.tabIndex=-1,Yn(_)&&(se.classList.add("selected"),t.selectedDateElem=se,t.config.mode==="range"&&(jt(se,"startRange",t.selectedDates[0]&&an(_,t.selectedDates[0],!0)===0),jt(se,"endRange",t.selectedDates[1]&&an(_,t.selectedDates[1],!0)===0),y==="nextMonthDay"&&se.classList.add("inRange")))):se.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Ns(_)&&!Yn(_)&&se.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&y!=="prevMonthDay"&&F%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(_)+"</span>"),Ie("onDayCreate",se),se}function R(y){y.focus(),t.config.mode==="range"&&b(y)}function w(y){for(var _=y>0?0:t.config.showMonths-1,M=y>0?t.config.showMonths:-1,F=_;F!=M;F+=y)for(var G=t.daysContainer.children[F],se=y>0?0:G.children.length-1,de=y>0?G.children.length:-1,ue=se;ue!=de;ue+=y){var we=G.children[ue];if(we.className.indexOf("hidden")===-1&&re(we.dateObj))return we}}function E(y,_){for(var M=y.className.indexOf("Month")===-1?y.dateObj.getMonth():t.currentMonth,F=_>0?t.config.showMonths:-1,G=_>0?1:-1,se=M-t.currentMonth;se!=F;se+=G)for(var de=t.daysContainer.children[se],ue=M-t.currentMonth===se?y.$i+_:_<0?de.children.length-1:0,we=de.children.length,ie=ue;ie>=0&&ie<we&&ie!=(_>0?we:-1);ie+=G){var _e=de.children[ie];if(_e.className.indexOf("hidden")===-1&&re(_e.dateObj)&&Math.abs(y.$i-ie)>=Math.abs(_))return R(_e)}t.changeMonth(G),S(w(G),0)}function S(y,_){var M=i(),F=ee(M||document.body),G=y!==void 0?y:F?M:t.selectedDateElem!==void 0&&ee(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ee(t.todayDateElem)?t.todayDateElem:w(_>0?1:-1);G===void 0?t._input.focus():F?E(G,_):R(G)}function P(y,_){for(var M=(new Date(y,_,1).getDay()-t.l10n.firstDayOfWeek+7)%7,F=t.utils.getDaysInMonth((_-1+12)%12,y),G=t.utils.getDaysInMonth(_,y),se=window.document.createDocumentFragment(),de=t.config.showMonths>1,ue=de?"prevMonthDay hidden":"prevMonthDay",we=de?"nextMonthDay hidden":"nextMonthDay",ie=F+1-M,_e=0;ie<=F;ie++,_e++)se.appendChild(ce("flatpickr-day "+ue,new Date(y,_-1,ie),ie,_e));for(ie=1;ie<=G;ie++,_e++)se.appendChild(ce("flatpickr-day",new Date(y,_,ie),ie,_e));for(var $e=G+1;$e<=42-M&&(t.config.showMonths===1||_e%7!==0);$e++,_e++)se.appendChild(ce("flatpickr-day "+we,new Date(y,_+1,$e%G),$e,_e));var _t=Le("div","dayContainer");return _t.appendChild(se),_t}function I(){if(t.daysContainer!==void 0){go(t.daysContainer),t.weekNumbers&&go(t.weekNumbers);for(var y=document.createDocumentFragment(),_=0;_<t.config.showMonths;_++){var M=new Date(t.currentYear,t.currentMonth,1);M.setMonth(t.currentMonth+_),y.appendChild(P(M.getFullYear(),M.getMonth()))}t.daysContainer.appendChild(y),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&b()}}function T(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var y=function(F){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&F<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&F>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var _=0;_<12;_++)if(y(_)){var M=Le("option","flatpickr-monthDropdown-month");M.value=new Date(t.currentYear,_).getMonth().toString(),M.textContent=Wo(_,t.config.shorthandCurrentMonth,t.l10n),M.tabIndex=-1,t.currentMonth===_&&(M.selected=!0),t.monthsDropdownContainer.appendChild(M)}}}function Ue(){var y=Le("div","flatpickr-month"),_=window.document.createDocumentFragment(),M;t.config.showMonths>1||t.config.monthSelectorType==="static"?M=Le("span","cur-month"):(t.monthsDropdownContainer=Le("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),C(t.monthsDropdownContainer,"change",function(de){var ue=on(de),we=parseInt(ue.value,10);t.changeMonth(we-t.currentMonth),Ie("onMonthChange")}),T(),M=t.monthsDropdownContainer);var F=yo("cur-year",{tabindex:"-1"}),G=F.getElementsByTagName("input")[0];G.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&G.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(G.setAttribute("max",t.config.maxDate.getFullYear().toString()),G.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var se=Le("div","flatpickr-current-month");return se.appendChild(M),se.appendChild(F),_.appendChild(se),y.appendChild(_),{container:y,yearElement:G,monthElement:M}}function Ze(){go(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var y=t.config.showMonths;y--;){var _=Ue();t.yearElements.push(_.yearElement),t.monthElements.push(_.monthElement),t.monthNav.appendChild(_.container)}t.monthNav.appendChild(t.nextMonthNav)}function Ke(){return t.monthNav=Le("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Le("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Le("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,Ze(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(y){t.__hidePrevMonthArrow!==y&&(jt(t.prevMonthNav,"flatpickr-disabled",y),t.__hidePrevMonthArrow=y)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(y){t.__hideNextMonthArrow!==y&&(jt(t.nextMonthNav,"flatpickr-disabled",y),t.__hideNextMonthArrow=y)}}),t.currentYearElement=t.yearElements[0],wr(),t.monthNav}function Re(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var y=gl(t.config);t.timeContainer=Le("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var _=Le("span","flatpickr-time-separator",":"),M=yo("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=M.getElementsByTagName("input")[0];var F=yo("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=F.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Xt(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?y.hours:f(y.hours)),t.minuteElement.value=Xt(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():y.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(M),t.timeContainer.appendChild(_),t.timeContainer.appendChild(F),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var G=yo("flatpickr-second");t.secondElement=G.getElementsByTagName("input")[0],t.secondElement.value=Xt(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():y.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Le("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(G)}return t.config.time_24hr||(t.amPM=Le("span","flatpickr-am-pm",t.l10n.amPM[fn((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function Se(){t.weekdayContainer?go(t.weekdayContainer):t.weekdayContainer=Le("div","flatpickr-weekdays");for(var y=t.config.showMonths;y--;){var _=Le("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(_)}return bt(),t.weekdayContainer}function bt(){if(t.weekdayContainer){var y=t.l10n.firstDayOfWeek,_=yf(t.l10n.weekdays.shorthand);y>0&&y<_.length&&(_=yf(_.splice(y,_.length),_.splice(0,y)));for(var M=t.config.showMonths;M--;)t.weekdayContainer.children[M].innerHTML=`
      <span class='flatpickr-weekday'>
        `+_.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function rn(){t.calendarContainer.classList.add("hasWeeks");var y=Le("div","flatpickr-weekwrapper");y.appendChild(Le("span","flatpickr-weekday",t.l10n.weekAbbreviation));var _=Le("div","flatpickr-weeks");return y.appendChild(_),{weekWrapper:y,weekNumbers:_}}function At(y,_){_===void 0&&(_=!0);var M=_?y:y-t.currentMonth;M<0&&t._hidePrevMonthArrow===!0||M>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=M,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Ie("onYearChange"),T()),I(),Ie("onMonthChange"),wr())}function We(y,_){if(y===void 0&&(y=!0),_===void 0&&(_=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,_===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var M=gl(t.config),F=M.hours,G=M.minutes,se=M.seconds;v(F,G,se)}t.redraw(),y&&Ie("onChange")}function Ge(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Ie("onClose")}function wn(){t.config!==void 0&&Ie("onDestroy");for(var y=t._handlers.length;y--;)t._handlers[y].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var _=t.calendarContainer.parentNode;if(_.lastChild&&_.removeChild(_.lastChild),_.parentNode){for(;_.firstChild;)_.parentNode.insertBefore(_.firstChild,_);_.parentNode.removeChild(_)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(M){try{delete t[M]}catch{}})}function Ct(y){return t.calendarContainer.contains(y)}function mt(y){if(t.isOpen&&!t.config.inline){var _=on(y),M=Ct(_),F=_===t.input||_===t.altInput||t.element.contains(_)||y.path&&y.path.indexOf&&(~y.path.indexOf(t.input)||~y.path.indexOf(t.altInput)),G=!F&&!M&&!Ct(y.relatedTarget),se=!t.config.ignoredFocusElements.some(function(de){return de.contains(_)});G&&se&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&u(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function B(y){if(!(!y||t.config.minDate&&y<t.config.minDate.getFullYear()||t.config.maxDate&&y>t.config.maxDate.getFullYear())){var _=y,M=t.currentYear!==_;t.currentYear=_||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),M&&(t.redraw(),Ie("onYearChange"),T())}}function re(y,_){var M;_===void 0&&(_=!0);var F=t.parseDate(y,void 0,_);if(t.config.minDate&&F&&an(F,t.config.minDate,_!==void 0?_:!t.minDateHasTime)<0||t.config.maxDate&&F&&an(F,t.config.maxDate,_!==void 0?_:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(F===void 0)return!1;for(var G=!!t.config.enable,se=(M=t.config.enable)!==null&&M!==void 0?M:t.config.disable,de=0,ue=void 0;de<se.length;de++){if(ue=se[de],typeof ue=="function"&&ue(F))return G;if(ue instanceof Date&&F!==void 0&&ue.getTime()===F.getTime())return G;if(typeof ue=="string"){var we=t.parseDate(ue,void 0,!0);return we&&we.getTime()===F.getTime()?G:!G}else if(typeof ue=="object"&&F!==void 0&&ue.from&&ue.to&&F.getTime()>=ue.from.getTime()&&F.getTime()<=ue.to.getTime())return G}return!G}function ee(y){return t.daysContainer!==void 0?y.className.indexOf("hidden")===-1&&y.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(y):!1}function le(y){var _=y.target===t._input,M=t._input.value.trimEnd()!==Kr();_&&M&&!(y.relatedTarget&&Ct(y.relatedTarget))&&t.setDate(t._input.value,!0,y.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Pe(y){var _=on(y),M=t.config.wrap?n.contains(_):_===t._input,F=t.config.allowInput,G=t.isOpen&&(!F||!M),se=t.config.inline&&M&&!F;if(y.keyCode===13&&M){if(F)return t.setDate(t._input.value,!0,_===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),_.blur();t.open()}else if(Ct(_)||G||se){var de=!!t.timeContainer&&t.timeContainer.contains(_);switch(y.keyCode){case 13:de?(y.preventDefault(),u(),Z()):he(y);break;case 27:y.preventDefault(),Z();break;case 8:case 46:M&&!t.config.allowInput&&(y.preventDefault(),t.clear());break;case 37:case 39:if(!de&&!M){y.preventDefault();var ue=i();if(t.daysContainer!==void 0&&(F===!1||ue&&ee(ue))){var we=y.keyCode===39?1:-1;y.ctrlKey?(y.stopPropagation(),At(we),S(w(1),0)):S(void 0,we)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:y.preventDefault();var ie=y.keyCode===40?1:-1;t.daysContainer&&_.$i!==void 0||_===t.input||_===t.altInput?y.ctrlKey?(y.stopPropagation(),B(t.currentYear-ie),S(w(1),0)):de||S(void 0,ie*7):_===t.currentYearElement?B(t.currentYear-ie):t.config.enableTime&&(!de&&t.hourElement&&t.hourElement.focus(),u(y),t._debouncedChange());break;case 9:if(de){var _e=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(Bt){return Bt}),$e=_e.indexOf(_);if($e!==-1){var _t=_e[$e+(y.shiftKey?-1:1)];y.preventDefault(),(_t||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(_)&&y.shiftKey&&(y.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&_===t.amPM)switch(y.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],p(),Ut();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],p(),Ut();break}(M||Ct(_))&&Ie("onKeyDown",y)}function b(y,_){if(_===void 0&&(_="flatpickr-day"),!(t.selectedDates.length!==1||y&&(!y.classList.contains(_)||y.classList.contains("flatpickr-disabled")))){for(var M=y?y.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),F=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),G=Math.min(M,t.selectedDates[0].getTime()),se=Math.max(M,t.selectedDates[0].getTime()),de=!1,ue=0,we=0,ie=G;ie<se;ie+=AT.DAY)re(new Date(ie),!0)||(de=de||ie>G&&ie<se,ie<F&&(!ue||ie>ue)?ue=ie:ie>F&&(!we||ie<we)&&(we=ie));var _e=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+_));_e.forEach(function($e){var _t=$e.dateObj,Bt=_t.getTime(),Tr=ue>0&&Bt<ue||we>0&&Bt>we;if(Tr){$e.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(pn){$e.classList.remove(pn)});return}else if(de&&!Tr)return;["startRange","inRange","endRange","notAllowed"].forEach(function(pn){$e.classList.remove(pn)}),y!==void 0&&(y.classList.add(M<=t.selectedDates[0].getTime()?"startRange":"endRange"),F<M&&Bt===F?$e.classList.add("startRange"):F>M&&Bt===F&&$e.classList.add("endRange"),Bt>=ue&&(we===0||Bt<=we)&&TT(Bt,F,M)&&$e.classList.add("inRange"))})}}function A(){t.isOpen&&!t.config.static&&!t.config.inline&&Y()}function O(y,_){if(_===void 0&&(_=t._positionElement),t.isMobile===!0){if(y){y.preventDefault();var M=on(y);M&&M.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Ie("onOpen");return}else if(t._input.disabled||t.config.inline)return;var F=t.isOpen;t.isOpen=!0,F||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Ie("onOpen"),Y(_)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(y===void 0||!t.timeContainer.contains(y.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function j(y){return function(_){var M=t.config["_"+y+"Date"]=t.parseDate(_,t.config.dateFormat),F=t.config["_"+(y==="min"?"max":"min")+"Date"];M!==void 0&&(t[y==="min"?"minDateHasTime":"maxDateHasTime"]=M.getHours()>0||M.getMinutes()>0||M.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(G){return re(G)}),!t.selectedDates.length&&y==="min"&&m(M),Ut()),t.daysContainer&&(fe(),M!==void 0?t.currentYearElement[y]=M.getFullYear().toString():t.currentYearElement.removeAttribute(y),t.currentYearElement.disabled=!!F&&M!==void 0&&F.getFullYear()===M.getFullYear())}}function q(){var y=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],_=Pt(Pt({},JSON.parse(JSON.stringify(n.dataset||{}))),e),M={};t.config.parseDate=_.parseDate,t.config.formatDate=_.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(_e){t.config._enable=st(_e)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(_e){t.config._disable=st(_e)}});var F=_.mode==="time";if(!_.dateFormat&&(_.enableTime||F)){var G=at.defaultConfig.dateFormat||fs.dateFormat;M.dateFormat=_.noCalendar||F?"H:i"+(_.enableSeconds?":S":""):G+" H:i"+(_.enableSeconds?":S":"")}if(_.altInput&&(_.enableTime||F)&&!_.altFormat){var se=at.defaultConfig.altFormat||fs.altFormat;M.altFormat=_.noCalendar||F?"h:i"+(_.enableSeconds?":S K":" K"):se+(" h:i"+(_.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:j("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:j("max")});var de=function(_e){return function($e){t.config[_e==="min"?"_minTime":"_maxTime"]=t.parseDate($e,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:de("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:de("max")}),_.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,M,_);for(var ue=0;ue<y.length;ue++)t.config[y[ue]]=t.config[y[ue]]===!0||t.config[y[ue]]==="true";fl.filter(function(_e){return t.config[_e]!==void 0}).forEach(function(_e){t.config[_e]=dl(t.config[_e]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ue=0;ue<t.config.plugins.length;ue++){var we=t.config.plugins[ue](t)||{};for(var ie in we)fl.indexOf(ie)>-1?t.config[ie]=dl(we[ie]).map(a).concat(t.config[ie]):typeof _[ie]>"u"&&(t.config[ie]=we[ie])}_.altInputClass||(t.config.altInputClass=H().className+" "+t.config.altInputClass),Ie("onParseConfig")}function H(){return t.config.wrap?n.querySelector("[data-input]"):n}function te(){typeof t.config.locale!="object"&&typeof at.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Pt(Pt({},at.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?at.l10ns[t.config.locale]:void 0),Nr.D="("+t.l10n.weekdays.shorthand.join("|")+")",Nr.l="("+t.l10n.weekdays.longhand.join("|")+")",Nr.M="("+t.l10n.months.shorthand.join("|")+")",Nr.F="("+t.l10n.months.longhand.join("|")+")",Nr.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var y=Pt(Pt({},e),JSON.parse(JSON.stringify(n.dataset||{})));y.time_24hr===void 0&&at.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Dm(t),t.parseDate=tu({config:t.config,l10n:t.l10n})}function Y(y){if(typeof t.config.position=="function")return void t.config.position(t,y);if(t.calendarContainer!==void 0){Ie("onPreCalendarPosition");var _=y||t._positionElement,M=Array.prototype.reduce.call(t.calendarContainer.children,function(Ji,Xi){return Ji+Xi.offsetHeight},0),F=t.calendarContainer.offsetWidth,G=t.config.position.split(" "),se=G[0],de=G.length>1?G[1]:null,ue=_.getBoundingClientRect(),we=window.innerHeight-ue.bottom,ie=se==="above"||se!=="below"&&we<M&&ue.top>M,_e=window.pageYOffset+ue.top+(ie?-M-2:_.offsetHeight+2);if(jt(t.calendarContainer,"arrowTop",!ie),jt(t.calendarContainer,"arrowBottom",ie),!t.config.inline){var $e=window.pageXOffset+ue.left,_t=!1,Bt=!1;de==="center"?($e-=(F-ue.width)/2,_t=!0):de==="right"&&($e-=F-ue.width,Bt=!0),jt(t.calendarContainer,"arrowLeft",!_t&&!Bt),jt(t.calendarContainer,"arrowCenter",_t),jt(t.calendarContainer,"arrowRight",Bt);var Tr=window.document.body.offsetWidth-(window.pageXOffset+ue.right),pn=$e+F>window.document.body.offsetWidth,Gi=Tr+F>window.document.body.offsetWidth;if(jt(t.calendarContainer,"rightMost",pn),!t.config.static)if(t.calendarContainer.style.top=_e+"px",!pn)t.calendarContainer.style.left=$e+"px",t.calendarContainer.style.right="auto";else if(!Gi)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Tr+"px";else{var br=Q();if(br===void 0)return;var Wr=window.document.body.offsetWidth,bn=Math.max(0,Wr/2-F/2),Yi=".flatpickr-calendar.centerMost:before",Qi=".flatpickr-calendar.centerMost:after",Ls=br.cssRules.length,Fs="{left:"+ue.left+"px;right:auto;}";jt(t.calendarContainer,"rightMost",!1),jt(t.calendarContainer,"centerMost",!0),br.insertRule(Yi+","+Qi+Fs,Ls),t.calendarContainer.style.left=bn+"px",t.calendarContainer.style.right="auto"}}}}function Q(){for(var y=null,_=0;_<document.styleSheets.length;_++){var M=document.styleSheets[_];if(M.cssRules){try{M.cssRules}catch{continue}y=M;break}}return y??W()}function W(){var y=document.createElement("style");return document.head.appendChild(y),y.sheet}function fe(){t.config.noCalendar||t.isMobile||(T(),wr(),I())}function Z(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function he(y){y.preventDefault(),y.stopPropagation();var _=function(_e){return _e.classList&&_e.classList.contains("flatpickr-day")&&!_e.classList.contains("flatpickr-disabled")&&!_e.classList.contains("notAllowed")},M=Rm(on(y),_);if(M!==void 0){var F=M,G=t.latestSelectedDateObj=new Date(F.dateObj.getTime()),se=(G.getMonth()<t.currentMonth||G.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=F,t.config.mode==="single")t.selectedDates=[G];else if(t.config.mode==="multiple"){var de=Yn(G);de?t.selectedDates.splice(parseInt(de),1):t.selectedDates.push(G)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=G,t.selectedDates.push(G),an(G,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(_e,$e){return _e.getTime()-$e.getTime()}));if(p(),se){var ue=t.currentYear!==G.getFullYear();t.currentYear=G.getFullYear(),t.currentMonth=G.getMonth(),ue&&(Ie("onYearChange"),T()),Ie("onMonthChange")}if(wr(),I(),Ut(),!se&&t.config.mode!=="range"&&t.config.showMonths===1?R(F):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var we=t.config.mode==="single"&&!t.config.enableTime,ie=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(we||ie)&&Z()}x()}}var me={locale:[te,bt],showMonths:[Ze,l,Se],minDate:[U],maxDate:[U],positionElement:[ft],clickOpens:[function(){t.config.clickOpens===!0?(C(t._input,"focus",t.open),C(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function ge(y,_){if(y!==null&&typeof y=="object"){Object.assign(t.config,y);for(var M in y)me[M]!==void 0&&me[M].forEach(function(F){return F()})}else t.config[y]=_,me[y]!==void 0?me[y].forEach(function(F){return F()}):fl.indexOf(y)>-1&&(t.config[y]=dl(_));t.redraw(),Ut(!0)}function Ee(y,_){var M=[];if(y instanceof Array)M=y.map(function(F){return t.parseDate(F,_)});else if(y instanceof Date||typeof y=="number")M=[t.parseDate(y,_)];else if(typeof y=="string")switch(t.config.mode){case"single":case"time":M=[t.parseDate(y,_)];break;case"multiple":M=y.split(t.config.conjunction).map(function(F){return t.parseDate(F,_)});break;case"range":M=y.split(t.l10n.rangeSeparator).map(function(F){return t.parseDate(F,_)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(y)));t.selectedDates=t.config.allowInvalidPreload?M:M.filter(function(F){return F instanceof Date&&re(F,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(F,G){return F.getTime()-G.getTime()})}function De(y,_,M){if(_===void 0&&(_=!1),M===void 0&&(M=t.config.dateFormat),y!==0&&!y||y instanceof Array&&y.length===0)return t.clear(_);Ee(y,M),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),U(void 0,_),m(),t.selectedDates.length===0&&t.clear(!1),Ut(_),_&&Ie("onChange")}function st(y){return y.slice().map(function(_){return typeof _=="string"||typeof _=="number"||_ instanceof Date?t.parseDate(_,void 0,!0):_&&typeof _=="object"&&_.from&&_.to?{from:t.parseDate(_.from,void 0),to:t.parseDate(_.to,void 0)}:_}).filter(function(_){return _})}function ht(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var y=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);y&&Ee(y,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Yt(){if(t.input=H(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Le(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),ft()}function ft(){t._positionElement=t.config.positionElement||t._input}function Tn(){var y=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Le("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=y,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=y==="datetime-local"?"Y-m-d\\TH:i:S":y==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}C(t.mobileInput,"change",function(_){t.setDate(on(_).value,!1,t.mobileFormatStr),Ie("onChange"),Ie("onClose")})}function Er(y){if(t.isOpen===!0)return t.close();t.open(y)}function Ie(y,_){if(t.config!==void 0){var M=t.config[y];if(M!==void 0&&M.length>0)for(var F=0;M[F]&&F<M.length;F++)M[F](t.selectedDates,t.input.value,t,_);y==="onChange"&&(t.input.dispatchEvent(It("change")),t.input.dispatchEvent(It("input")))}}function It(y){var _=document.createEvent("Event");return _.initEvent(y,!0,!0),_}function Yn(y){for(var _=0;_<t.selectedDates.length;_++){var M=t.selectedDates[_];if(M instanceof Date&&an(M,y)===0)return""+_}return!1}function Ns(y){return t.config.mode!=="range"||t.selectedDates.length<2?!1:an(y,t.selectedDates[0])>=0&&an(y,t.selectedDates[1])<=0}function wr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(y,_){var M=new Date(t.currentYear,t.currentMonth,1);M.setMonth(t.currentMonth+_),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[_].textContent=Wo(M.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=M.getMonth().toString(),y.value=M.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function Kr(y){var _=y||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(M){return t.formatDate(M,_)}).filter(function(M,F,G){return t.config.mode!=="range"||t.config.enableTime||G.indexOf(M)===F}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Ut(y){y===void 0&&(y=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=Kr(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=Kr(t.config.altFormat)),y!==!1&&Ie("onValueUpdate")}function Vs(y){var _=on(y),M=t.prevMonthNav.contains(_),F=t.nextMonthNav.contains(_);M||F?At(M?-1:1):t.yearElements.indexOf(_)>=0?_.select():_.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):_.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function ks(y){y.preventDefault();var _=y.type==="keydown",M=on(y),F=M;t.amPM!==void 0&&M===t.amPM&&(t.amPM.textContent=t.l10n.amPM[fn(t.amPM.textContent===t.l10n.amPM[0])]);var G=parseFloat(F.getAttribute("min")),se=parseFloat(F.getAttribute("max")),de=parseFloat(F.getAttribute("step")),ue=parseInt(F.value,10),we=y.delta||(_?y.which===38?1:-1:0),ie=ue+de*we;if(typeof F.value<"u"&&F.value.length===2){var _e=F===t.hourElement,$e=F===t.minuteElement;ie<G?(ie=se+ie+fn(!_e)+(fn(_e)&&fn(!t.amPM)),$e&&$(void 0,-1,t.hourElement)):ie>se&&(ie=F===t.hourElement?ie-se-fn(!t.amPM):G,$e&&$(void 0,1,t.hourElement)),t.amPM&&_e&&(de===1?ie+ue===23:Math.abs(ie-ue)>de)&&(t.amPM.textContent=t.l10n.amPM[fn(t.amPM.textContent===t.l10n.amPM[0])]),F.value=Xt(ie)}}return s(),t}function ds(n,e){for(var t=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),r=[],s=0;s<t.length;s++){var i=t[s];try{if(i.getAttribute("data-fp-omit")!==null)continue;i._flatpickr!==void 0&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=IT(i,e||{}),r.push(i._flatpickr)}catch(a){console.error(a)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return ds(this,n)},HTMLElement.prototype.flatpickr=function(n){return ds([this],n)});var at=function(n,e){return typeof n=="string"?ds(window.document.querySelectorAll(n),e):n instanceof Node?ds([n],e):ds(n,e)};at.defaultConfig={};at.l10ns={en:Pt({},xi),default:Pt({},xi)};at.localize=function(n){at.l10ns.default=Pt(Pt({},at.l10ns.default),n)};at.setDefaults=function(n){at.defaultConfig=Pt(Pt({},at.defaultConfig),n)};at.parseDate=tu({});at.formatDate=Dm({});at.compareDates=an;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return ds(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=at);const Pm=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t},ST={class:"header"},RT={class:"header-right"},DT={class:"menu-dropdown",ref:"menu"},PT={class:"container"},xT={class:"tab-switch"},MT={class:"input-area"},OT={class:"input-group"},NT=["placeholder"],VT=["placeholder"],kT=["innerHTML"],LT={class:"knowledge-wrapper"},FT=["innerHTML"],UT={key:0,class:"modal-overlay"},BT={class:"modal-box"},_f="",yl="這裡會顯示結果。",_l="這裡會顯示對照知識。",jT={__name:"ServicePage",setup(n){const e=ot(!1),t=ot("writing"),r=ot(""),s=ot(""),i=ot(yl),a=ot(_l),l=ot(""),u=ot(!1),h=ot(!0);let f=null;const p=ot(!1),m=ot("");function v(){navigator.clipboard.writeText(m.value).then(()=>alert("已複製臨時網址")).catch(()=>alert("複製失敗，請手動複製"))}const D=Zt(()=>t.value==="question"?"選擇事件詢問日期":"選擇新聞發布日期");pa(()=>{at(document.querySelector(".date-input"),{dateFormat:"Y/m/d",defaultDate:s.value,clickOpens:!0,allowInput:!1,disableMobile:!0,onChange:(U,V)=>s.value=V})});function C(U){t.value=U,r.value="",s.value="",i.value=yl,a.value=_l}function x(U){l.value=U,clearTimeout(f),f=setTimeout(()=>l.value="",2e3)}async function K(){if(u.value=!0,setTimeout(()=>u.value=!1,300),!r.value)return x(t.value==="writing"?"請輸入內容！":"請輸入你的問題！");if(!s.value)return x("請選擇日期！");e.value=!0,i.value="",a.value="";try{const{data:$}=await tt.post(`${_f}/api/tasks`,{url:r.value,mode:t.value,date:s.value});m.value=`${window.location.origin}/tasks/${$.id}`,p.value=!0}catch($){console.error("建立臨時任務失敗",$),x("無法建立查詢任務"),e.value=!1;return}const U=new FormData;U.append("file",new Blob([r.value],{type:"text/plain"}),"user.txt"),U.append("date",s.value);const V=t.value==="question"?"/api/answerer/query":"/api/verifier/query";try{const{data:$}=await tt.post(`${_f}${V}`,U,{headers:{"Content-Type":"multipart/form-data"}});t.value==="question"?(i.value=$.user_judge_result||"沒有取得答案",a.value=$.user_news_kg||"沒有查到知識內容"):(i.value=$.judge_result||"沒有取得答案",a.value=$.news_kg||"沒有查到知識內容")}catch($){console.error($),x("查詢失敗："+($.response?.data.detail||$.message))}finally{e.value=!1}}return(U,V)=>(Ht(),un(Nt,null,[l.value?(Ht(),un("div",{key:0,class:Mt(["error-message",{show:l.value}])},as(l.value),3)):$l("",!0),V[17]||(V[17]=ne("img",{src:hs,class:"dog-hand dog-hand-1",alt:"dog hand"},null,-1)),V[18]||(V[18]=ne("img",{src:hs,class:"dog-hand dog-hand-2",alt:"dog hand"},null,-1)),V[19]||(V[19]=ne("img",{src:hs,class:"dog-hand dog-hand-3",alt:"dog hand"},null,-1)),ne("header",ST,[V[8]||(V[8]=ne("div",{class:"header-left"},[ne("span",{class:"header-icon",role:"img","aria-label":"camera"},[ne("img",{src:tm,alt:"camera icon",style:{width:"60px",height:"60px",display:"block"}})]),ne("span",{class:"header-title"},"圖破謠言，新聞真偽辨識AI")],-1)),ne("div",RT,[ne("button",{class:"menu-btn",onClick:V[0]||(V[0]=$=>U.$refs.menu.classList.toggle("show"))},V[6]||(V[6]=[ne("span",{class:"menu-bar"},null,-1),ne("span",{class:"menu-bar"},null,-1),ne("span",{class:"menu-bar"},null,-1)])),ne("nav",DT,V[7]||(V[7]=[ne("a",{href:"#"},"首頁",-1),ne("a",{href:"#"},"服務介紹",-1),ne("a",{href:"#"},"關於我們",-1)]),512)])]),V[20]||(V[20]=ne("img",{src:nm,class:"bg-dog",alt:"dog icon"},null,-1)),ne("div",PT,[V[14]||(V[14]=ne("h1",null,"來找芒狗偵探，幫你了解真相！",-1)),ne("div",xT,[ne("button",{class:Mt(["tab-btn",{active:t.value==="writing"}]),onClick:V[1]||(V[1]=$=>C("writing"))}," 文案查詢 ",2),ne("button",{class:Mt(["tab-btn",{active:t.value==="question"}]),onClick:V[2]||(V[2]=$=>C("question"))}," 詢問模式 ",2)]),ne("div",MT,[ne("div",OT,[kl(ne("input",{type:"text","onUpdate:modelValue":V[3]||(V[3]=$=>r.value=$),placeholder:t.value==="writing"?"請輸入文案內容...":"請輸入你的問題..."},null,8,NT),[[Nv,r.value]]),ne("input",{class:"date-input",inputmode:"none",placeholder:D.value,style:{background:"#fff8f0",cursor:"pointer"}},null,8,VT),ne("button",{id:"query-btn",class:Mt({bounce:u.value}),onClick:K}," 開始查核 ",2)])]),ne("div",{class:Mt(["answer-card",{default:!e.value&&i.value===yl}])},[e.value?(Ht(),un(Nt,{key:0},[V[9]||(V[9]=ne("div",{class:"loading-spinner"},null,-1)),V[10]||(V[10]=ne("p",{class:"loading-text"},"調查中… 請等候30~60秒…",-1))],64)):(Ht(),un("div",{key:1,innerHTML:i.value},null,8,kT))],2),ne("div",LT,[ne("button",{class:"collapse-btn",onClick:V[4]||(V[4]=$=>h.value=!h.value)},[$u(as(h.value?"展開對照知識":"收起對照知識")+" ",1),ne("span",{class:Mt(["triangle",{rotated:!h.value}])},V[11]||(V[11]=[ne("svg",{width:"18",height:"18",viewBox:"0 0 18 18"},[ne("polygon",{points:"4,7 9,12 14,7",fill:"#fff"})],-1)]),2)]),Lt(zl,{name:"fade"},{default:Bo(()=>[kl(ne("div",{class:Mt(["knowledge-card",{default:!e.value&&a.value===_l}])},[e.value?(Ht(),un(Nt,{key:0},[V[12]||(V[12]=ne("div",{class:"loading-spinner"},null,-1)),V[13]||(V[13]=ne("p",{class:"loading-text"},"調查中… 請等候30~60秒…",-1))],64)):(Ht(),un("div",{key:1,innerHTML:a.value},null,8,FT))],2),[[$p,e.value||!h.value]])]),_:1})])]),Lt(zl,{name:"fade"},{default:Bo(()=>[p.value?(Ht(),un("div",UT,[ne("div",BT,[V[15]||(V[15]=ne("h3",null,"臨時查詢網址",-1)),ne("p",{class:"url-text",onClick:v,title:"點擊複製"},as(m.value),1),V[16]||(V[16]=ne("small",null,"稍後可由此網址查看調查結果",-1)),ne("button",{class:"modal-ok",onClick:V[5]||(V[5]=$=>p.value=!1)},"確定")])])):$l("",!0)]),_:1})],64))}},$T=Pm(jT,[["__scopeId","data-v-ca558538"]]),HT=()=>{};var vf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qT=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],a=n[t++],l=n[t++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=n[t++],a=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Mm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],a=s+1<n.length,l=a?n[s+1]:0,u=s+2<n.length,h=u?n[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let m=(l&15)<<2|h>>6,v=h&63;u||(v=64,a||(m=64)),r.push(t[f],t[p],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(xm(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const p=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||l==null||h==null||p==null)throw new zT;const m=i<<2|l>>4;if(r.push(m),h!==64){const v=l<<4&240|h>>2;if(r.push(v),p!==64){const D=h<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KT=function(n){const e=xm(n);return Mm.encodeByteArray(e,!0)},Go=function(n){return KT(n).replace(/\./g,"")},WT=function(n){try{return Mm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=()=>GT().__FIREBASE_DEFAULTS__,QT=()=>{if(typeof process>"u"||typeof vf>"u")return;const n=vf.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WT(n[1]);return e&&JSON.parse(e)},Ju=()=>{try{return HT()||YT()||QT()||JT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XT=n=>Ju()?.emulatorHosts?.[n],ZT=n=>{const e=XT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Om=()=>Ju()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Go(JSON.stringify(t)),Go(JSON.stringify(a)),""].join(".")}const gi={};function r0(){const n={prod:[],emulator:[]};for(const e of Object.keys(gi))gi[e]?n.emulator.push(e):n.prod.push(e);return n}function s0(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ef=!1;function i0(n,e){if(typeof window>"u"||typeof document>"u"||!Xu(window.location.host)||gi[n]===e||gi[n]||Ef)return;gi[n]=e;function t(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=r0().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Ef=!0,a()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=s0(r),v=t("text"),D=document.getElementById(v)||document.createElement("span"),C=t("learnmore"),x=document.getElementById(C)||document.createElement("a"),K=t("preprendIcon"),U=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const V=m.element;l(V),f(x,C);const $=h();u(U,K),V.append(U,D,x,$),document.body.appendChild(V)}i?(D.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a0(){const n=Ju()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l0(){return!a0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u0(){try{return typeof indexedDB=="object"}catch{return!1}}function c0(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="FirebaseError";class Ps extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=h0,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nm.prototype.create)}}class Nm{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?f0(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ps(s,l,r)}}function f0(n,e){return n.replace(d0,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const d0=/\{\$([^}]+)}/g;function Yo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],a=e[s];if(wf(i)&&wf(a)){if(!Yo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function wf(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n){return n&&n._delegate?n._delegate:n}class Mi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e0;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g0(e))try{this.getOrInitializeService({instanceIdentifier:Mr})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Mr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mr){return this.instances.has(e)}getOptions(e=Mr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m0(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mr){return this.component?this.component.multipleInstances?e:Mr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m0(n){return n===Mr?void 0:n}function g0(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new p0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const _0={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},v0=Oe.INFO,E0={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},w0=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=E0[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class km{constructor(e){this.name=e,this._logLevel=v0,this._logHandler=w0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const T0=(n,e)=>e.some(t=>n instanceof t);let Tf,bf;function b0(){return Tf||(Tf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A0(){return bf||(bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lm=new WeakMap,nu=new WeakMap,Fm=new WeakMap,vl=new WeakMap,Zu=new WeakMap;function C0(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",a)},i=()=>{t(ar(n.result)),s()},a=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&Lm.set(t,n)}).catch(()=>{}),Zu.set(e,n),e}function I0(n){if(nu.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",a),n.removeEventListener("abort",a)},i=()=>{t(),s()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",a),n.addEventListener("abort",a)});nu.set(n,e)}let ru={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nu.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Fm.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ar(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function S0(n){ru=n(ru)}function R0(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(El(this),e,...t);return Fm.set(r,e.sort?e.sort():[e]),ar(r)}:A0().includes(n)?function(...e){return n.apply(El(this),e),ar(Lm.get(this))}:function(...e){return ar(n.apply(El(this),e))}}function D0(n){return typeof n=="function"?R0(n):(n instanceof IDBTransaction&&I0(n),T0(n,b0())?new Proxy(n,ru):n)}function ar(n){if(n instanceof IDBRequest)return C0(n);if(vl.has(n))return vl.get(n);const e=D0(n);return e!==n&&(vl.set(n,e),Zu.set(e,n)),e}const El=n=>Zu.get(n);function P0(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(n,e),l=ar(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ar(a.result),u.oldVersion,u.newVersion,ar(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const x0=["get","getKey","getAll","getAllKeys","count"],M0=["put","add","delete","clear"],wl=new Map;function Af(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wl.get(e))return wl.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=M0.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||x0.includes(t)))return;const i=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),s&&u.done]))[0]};return wl.set(e,i),i}S0(n=>({...n,get:(e,t,r)=>Af(e,t)||n.get(e,t,r),has:(e,t)=>!!Af(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N0(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function N0(n){return n.getComponent()?.type==="VERSION"}const su="@firebase/app",Cf="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new km("@firebase/app"),V0="@firebase/app-compat",k0="@firebase/analytics-compat",L0="@firebase/analytics",F0="@firebase/app-check-compat",U0="@firebase/app-check",B0="@firebase/auth",j0="@firebase/auth-compat",$0="@firebase/database",H0="@firebase/data-connect",q0="@firebase/database-compat",z0="@firebase/functions",K0="@firebase/functions-compat",W0="@firebase/installations",G0="@firebase/installations-compat",Y0="@firebase/messaging",Q0="@firebase/messaging-compat",J0="@firebase/performance",X0="@firebase/performance-compat",Z0="@firebase/remote-config",eb="@firebase/remote-config-compat",tb="@firebase/storage",nb="@firebase/storage-compat",rb="@firebase/firestore",sb="@firebase/ai",ib="@firebase/firestore-compat",ob="firebase",ab="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="[DEFAULT]",lb={[su]:"fire-core",[V0]:"fire-core-compat",[L0]:"fire-analytics",[k0]:"fire-analytics-compat",[U0]:"fire-app-check",[F0]:"fire-app-check-compat",[B0]:"fire-auth",[j0]:"fire-auth-compat",[$0]:"fire-rtdb",[H0]:"fire-data-connect",[q0]:"fire-rtdb-compat",[z0]:"fire-fn",[K0]:"fire-fn-compat",[W0]:"fire-iid",[G0]:"fire-iid-compat",[Y0]:"fire-fcm",[Q0]:"fire-fcm-compat",[J0]:"fire-perf",[X0]:"fire-perf-compat",[Z0]:"fire-rc",[eb]:"fire-rc-compat",[tb]:"fire-gcs",[nb]:"fire-gcs-compat",[rb]:"fire-fst",[ib]:"fire-fst-compat",[sb]:"fire-vertex","fire-js":"fire-js",[ob]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Map,ub=new Map,ou=new Map;function If(n,e){try{n.container.addComponent(e)}catch(t){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(ou.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;ou.set(e,n);for(const t of Qo.values())If(t,n);for(const t of ub.values())If(t,n);return!0}function cb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hb(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Nm("app","Firebase",fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=ab;function Um(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:iu,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw lr.create("bad-app-name",{appName:String(s)});if(t||(t=Om()),!t)throw lr.create("no-options");const i=Qo.get(s);if(i){if(Yo(t,i.options)&&Yo(r,i.config))return i;throw lr.create("duplicate-app",{appName:s})}const a=new y0(s);for(const u of ou.values())a.addComponent(u);const l=new db(t,r,a);return Qo.set(s,l),l}function mb(n=iu){const e=Qo.get(n);if(!e&&n===iu&&Om())return Um();if(!e)throw lr.create("no-app",{appName:n});return e}function ps(n,e,t){let r=lb[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}Jo(new Mi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebase-heartbeat-database",yb=1,Oi="firebase-heartbeat-store";let Tl=null;function Bm(){return Tl||(Tl=P0(gb,yb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Oi)}catch(t){console.warn(t)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),Tl}async function _b(n){try{const t=(await Bm()).transaction(Oi),r=await t.objectStore(Oi).get(jm(n));return await t.done,r}catch(e){if(e instanceof Ps)Kn.warn(e.message);else{const t=lr.create("idb-get",{originalErrorMessage:e?.message});Kn.warn(t.message)}}}async function Sf(n,e){try{const r=(await Bm()).transaction(Oi,"readwrite");await r.objectStore(Oi).put(e,jm(n)),await r.done}catch(t){if(t instanceof Ps)Kn.warn(t.message);else{const r=lr.create("idb-set",{originalErrorMessage:t?.message});Kn.warn(r.message)}}}function jm(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1024,Eb=30;class wb{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rf();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>Eb){const s=Ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rf(),{heartbeatsToSend:t,unsentEntries:r}=Tb(this._heartbeatsCache.heartbeats),s=Go(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Kn.warn(e),""}}}function Rf(){return new Date().toISOString().substring(0,10)}function Tb(n,e=vb){const t=[];let r=n.slice();for(const s of n){const i=t.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),Df(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Df(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u0()?c0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _b(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Sf(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Df(n){return Go(JSON.stringify({version:2,heartbeats:n})).length}function Ab(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(n){Jo(new Mi("platform-logger",e=>new O0(e),"PRIVATE")),Jo(new Mi("heartbeat",e=>new wb(e),"PRIVATE")),ps(su,Cf,n),ps(su,Cf,"esm2020"),ps("fire-js","")}Cb("");var Ib="firebase",Sb="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(Ib,Sb,"app");var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,$m;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function E(){}E.prototype=w.prototype,R.D=w.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(S,P,I){for(var T=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)T[Ue-2]=arguments[Ue];return w.prototype[P].apply(S,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,w,E){E||(E=0);var S=Array(16);if(typeof w=="string")for(var P=0;16>P;++P)S[P]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(P=0;16>P;++P)S[P]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=R.g[0],E=R.g[1],P=R.g[2];var I=R.g[3],T=w+(I^E&(P^I))+S[0]+3614090360&4294967295;w=E+(T<<7&4294967295|T>>>25),T=I+(P^w&(E^P))+S[1]+3905402710&4294967295,I=w+(T<<12&4294967295|T>>>20),T=P+(E^I&(w^E))+S[2]+606105819&4294967295,P=I+(T<<17&4294967295|T>>>15),T=E+(w^P&(I^w))+S[3]+3250441966&4294967295,E=P+(T<<22&4294967295|T>>>10),T=w+(I^E&(P^I))+S[4]+4118548399&4294967295,w=E+(T<<7&4294967295|T>>>25),T=I+(P^w&(E^P))+S[5]+1200080426&4294967295,I=w+(T<<12&4294967295|T>>>20),T=P+(E^I&(w^E))+S[6]+2821735955&4294967295,P=I+(T<<17&4294967295|T>>>15),T=E+(w^P&(I^w))+S[7]+4249261313&4294967295,E=P+(T<<22&4294967295|T>>>10),T=w+(I^E&(P^I))+S[8]+1770035416&4294967295,w=E+(T<<7&4294967295|T>>>25),T=I+(P^w&(E^P))+S[9]+2336552879&4294967295,I=w+(T<<12&4294967295|T>>>20),T=P+(E^I&(w^E))+S[10]+4294925233&4294967295,P=I+(T<<17&4294967295|T>>>15),T=E+(w^P&(I^w))+S[11]+2304563134&4294967295,E=P+(T<<22&4294967295|T>>>10),T=w+(I^E&(P^I))+S[12]+1804603682&4294967295,w=E+(T<<7&4294967295|T>>>25),T=I+(P^w&(E^P))+S[13]+4254626195&4294967295,I=w+(T<<12&4294967295|T>>>20),T=P+(E^I&(w^E))+S[14]+2792965006&4294967295,P=I+(T<<17&4294967295|T>>>15),T=E+(w^P&(I^w))+S[15]+1236535329&4294967295,E=P+(T<<22&4294967295|T>>>10),T=w+(P^I&(E^P))+S[1]+4129170786&4294967295,w=E+(T<<5&4294967295|T>>>27),T=I+(E^P&(w^E))+S[6]+3225465664&4294967295,I=w+(T<<9&4294967295|T>>>23),T=P+(w^E&(I^w))+S[11]+643717713&4294967295,P=I+(T<<14&4294967295|T>>>18),T=E+(I^w&(P^I))+S[0]+3921069994&4294967295,E=P+(T<<20&4294967295|T>>>12),T=w+(P^I&(E^P))+S[5]+3593408605&4294967295,w=E+(T<<5&4294967295|T>>>27),T=I+(E^P&(w^E))+S[10]+38016083&4294967295,I=w+(T<<9&4294967295|T>>>23),T=P+(w^E&(I^w))+S[15]+3634488961&4294967295,P=I+(T<<14&4294967295|T>>>18),T=E+(I^w&(P^I))+S[4]+3889429448&4294967295,E=P+(T<<20&4294967295|T>>>12),T=w+(P^I&(E^P))+S[9]+568446438&4294967295,w=E+(T<<5&4294967295|T>>>27),T=I+(E^P&(w^E))+S[14]+3275163606&4294967295,I=w+(T<<9&4294967295|T>>>23),T=P+(w^E&(I^w))+S[3]+4107603335&4294967295,P=I+(T<<14&4294967295|T>>>18),T=E+(I^w&(P^I))+S[8]+1163531501&4294967295,E=P+(T<<20&4294967295|T>>>12),T=w+(P^I&(E^P))+S[13]+2850285829&4294967295,w=E+(T<<5&4294967295|T>>>27),T=I+(E^P&(w^E))+S[2]+4243563512&4294967295,I=w+(T<<9&4294967295|T>>>23),T=P+(w^E&(I^w))+S[7]+1735328473&4294967295,P=I+(T<<14&4294967295|T>>>18),T=E+(I^w&(P^I))+S[12]+2368359562&4294967295,E=P+(T<<20&4294967295|T>>>12),T=w+(E^P^I)+S[5]+4294588738&4294967295,w=E+(T<<4&4294967295|T>>>28),T=I+(w^E^P)+S[8]+2272392833&4294967295,I=w+(T<<11&4294967295|T>>>21),T=P+(I^w^E)+S[11]+1839030562&4294967295,P=I+(T<<16&4294967295|T>>>16),T=E+(P^I^w)+S[14]+4259657740&4294967295,E=P+(T<<23&4294967295|T>>>9),T=w+(E^P^I)+S[1]+2763975236&4294967295,w=E+(T<<4&4294967295|T>>>28),T=I+(w^E^P)+S[4]+1272893353&4294967295,I=w+(T<<11&4294967295|T>>>21),T=P+(I^w^E)+S[7]+4139469664&4294967295,P=I+(T<<16&4294967295|T>>>16),T=E+(P^I^w)+S[10]+3200236656&4294967295,E=P+(T<<23&4294967295|T>>>9),T=w+(E^P^I)+S[13]+681279174&4294967295,w=E+(T<<4&4294967295|T>>>28),T=I+(w^E^P)+S[0]+3936430074&4294967295,I=w+(T<<11&4294967295|T>>>21),T=P+(I^w^E)+S[3]+3572445317&4294967295,P=I+(T<<16&4294967295|T>>>16),T=E+(P^I^w)+S[6]+76029189&4294967295,E=P+(T<<23&4294967295|T>>>9),T=w+(E^P^I)+S[9]+3654602809&4294967295,w=E+(T<<4&4294967295|T>>>28),T=I+(w^E^P)+S[12]+3873151461&4294967295,I=w+(T<<11&4294967295|T>>>21),T=P+(I^w^E)+S[15]+530742520&4294967295,P=I+(T<<16&4294967295|T>>>16),T=E+(P^I^w)+S[2]+3299628645&4294967295,E=P+(T<<23&4294967295|T>>>9),T=w+(P^(E|~I))+S[0]+4096336452&4294967295,w=E+(T<<6&4294967295|T>>>26),T=I+(E^(w|~P))+S[7]+1126891415&4294967295,I=w+(T<<10&4294967295|T>>>22),T=P+(w^(I|~E))+S[14]+2878612391&4294967295,P=I+(T<<15&4294967295|T>>>17),T=E+(I^(P|~w))+S[5]+4237533241&4294967295,E=P+(T<<21&4294967295|T>>>11),T=w+(P^(E|~I))+S[12]+1700485571&4294967295,w=E+(T<<6&4294967295|T>>>26),T=I+(E^(w|~P))+S[3]+2399980690&4294967295,I=w+(T<<10&4294967295|T>>>22),T=P+(w^(I|~E))+S[10]+4293915773&4294967295,P=I+(T<<15&4294967295|T>>>17),T=E+(I^(P|~w))+S[1]+2240044497&4294967295,E=P+(T<<21&4294967295|T>>>11),T=w+(P^(E|~I))+S[8]+1873313359&4294967295,w=E+(T<<6&4294967295|T>>>26),T=I+(E^(w|~P))+S[15]+4264355552&4294967295,I=w+(T<<10&4294967295|T>>>22),T=P+(w^(I|~E))+S[6]+2734768916&4294967295,P=I+(T<<15&4294967295|T>>>17),T=E+(I^(P|~w))+S[13]+1309151649&4294967295,E=P+(T<<21&4294967295|T>>>11),T=w+(P^(E|~I))+S[4]+4149444226&4294967295,w=E+(T<<6&4294967295|T>>>26),T=I+(E^(w|~P))+S[11]+3174756917&4294967295,I=w+(T<<10&4294967295|T>>>22),T=P+(w^(I|~E))+S[2]+718787259&4294967295,P=I+(T<<15&4294967295|T>>>17),T=E+(I^(P|~w))+S[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(P+(T<<21&4294967295|T>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+I&4294967295}r.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var E=w-this.blockSize,S=this.B,P=this.h,I=0;I<w;){if(P==0)for(;I<=E;)s(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<w;)if(S[P++]=R.charCodeAt(I++),P==this.blockSize){s(this,S),P=0;break}}else for(;I<w;)if(S[P++]=R[I++],P==this.blockSize){s(this,S),P=0;break}}this.h=P,this.o+=w},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var E=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=E&255,E/=256;for(this.u(R),R=Array(16),w=E=0;4>w;++w)for(var S=0;32>S;S+=8)R[E++]=this.g[w]>>>S&255;return R};function i(R,w){var E=l;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=w(R)}function a(R,w){this.h=w;for(var E=[],S=!0,P=R.length-1;0<=P;P--){var I=R[P]|0;S&&I==w||(E[P]=I,S=!1)}this.g=E}var l={};function u(R){return-128<=R&&128>R?i(R,function(w){return new a([w|0],0>w?-1:0)}):new a([R|0],0>R?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return x(h(-R));for(var w=[],E=1,S=0;R>=E;S++)w[S]=R/E|0,E*=4294967296;return new a(w,0)}function f(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return x(f(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(w,8)),S=p,P=0;P<R.length;P+=8){var I=Math.min(8,R.length-P),T=parseInt(R.substring(P,P+I),w);8>I?(I=h(Math.pow(w,I)),S=S.j(I).add(h(T))):(S=S.j(E),S=S.add(h(T)))}return S}var p=u(0),m=u(1),v=u(16777216);n=a.prototype,n.m=function(){if(C(this))return-x(this).m();for(var R=0,w=1,E=0;E<this.g.length;E++){var S=this.i(E);R+=(0<=S?S:4294967296+S)*w,w*=4294967296}return R},n.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(C(this))return"-"+x(this).toString(R);for(var w=h(Math.pow(R,6)),E=this,S="";;){var P=$(E,w).g;E=K(E,P.j(w));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=P,D(E))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},n.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function C(R){return R.h==-1}n.l=function(R){return R=K(this,R),C(R)?-1:D(R)?0:1};function x(R){for(var w=R.g.length,E=[],S=0;S<w;S++)E[S]=~R.g[S];return new a(E,~R.h).add(m)}n.abs=function(){return C(this)?x(this):this},n.add=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0,P=0;P<=w;P++){var I=S+(this.i(P)&65535)+(R.i(P)&65535),T=(I>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);S=T>>>16,I&=65535,T&=65535,E[P]=T<<16|I}return new a(E,E[E.length-1]&-2147483648?-1:0)};function K(R,w){return R.add(x(w))}n.j=function(R){if(D(this)||D(R))return p;if(C(this))return C(R)?x(this).j(x(R)):x(x(this).j(R));if(C(R))return x(this.j(x(R)));if(0>this.l(v)&&0>R.l(v))return h(this.m()*R.m());for(var w=this.g.length+R.g.length,E=[],S=0;S<2*w;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<R.g.length;P++){var I=this.i(S)>>>16,T=this.i(S)&65535,Ue=R.i(P)>>>16,Ze=R.i(P)&65535;E[2*S+2*P]+=T*Ze,U(E,2*S+2*P),E[2*S+2*P+1]+=I*Ze,U(E,2*S+2*P+1),E[2*S+2*P+1]+=T*Ue,U(E,2*S+2*P+1),E[2*S+2*P+2]+=I*Ue,U(E,2*S+2*P+2)}for(S=0;S<w;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=w;S<2*w;S++)E[S]=0;return new a(E,0)};function U(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function V(R,w){this.g=R,this.h=w}function $(R,w){if(D(w))throw Error("division by zero");if(D(R))return new V(p,p);if(C(R))return w=$(x(R),w),new V(x(w.g),x(w.h));if(C(w))return w=$(R,x(w)),new V(x(w.g),w.h);if(30<R.g.length){if(C(R)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var E=m,S=w;0>=S.l(R);)E=ae(E),S=ae(S);var P=ce(E,1),I=ce(S,1);for(S=ce(S,2),E=ce(E,2);!D(S);){var T=I.add(S);0>=T.l(R)&&(P=P.add(E),I=T),S=ce(S,1),E=ce(E,1)}return w=K(R,P.j(w)),new V(P,w)}for(P=p;0<=R.l(w);){for(E=Math.max(1,Math.floor(R.m()/w.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=h(E),T=I.j(w);C(T)||0<T.l(R);)E-=S,I=h(E),T=I.j(w);D(I)&&(I=m),P=P.add(I),R=K(R,T)}return new V(P,R)}n.A=function(R){return $(this,R).h},n.and=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)&R.i(S);return new a(E,this.h&R.h)},n.or=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)|R.i(S);return new a(E,this.h|R.h)},n.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),E=[],S=0;S<w;S++)E[S]=this.i(S)^R.i(S);return new a(E,this.h^R.h)};function ae(R){for(var w=R.g.length+1,E=[],S=0;S<w;S++)E[S]=R.i(S)<<1|R.i(S-1)>>>31;return new a(E,R.h)}function ce(R,w){var E=w>>5;w%=32;for(var S=R.g.length-E,P=[],I=0;I<S;I++)P[I]=0<w?R.i(I+E)>>>w|R.i(I+E+1)<<32-w:R.i(I+E);return new a(P,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$m=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,ur=a}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});var _o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hm,ti,qm,xo,au,zm,Km,Wm;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,d){return o==Array.prototype||o==Object.prototype||(o[c]=d.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof _o=="object"&&_o];for(var c=0;c<o.length;++c){var d=o[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=t(this);function s(o,c){if(c)e:{var d=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var N=o[g];if(!(N in d))break e;d=d[N]}o=o[o.length-1],g=d[o],c=c(g),c!=g&&c!=null&&e(d,o,{configurable:!0,writable:!0,value:c})}}function i(o,c){o instanceof String&&(o+="");var d=0,g=!1,N={next:function(){if(!g&&d<o.length){var L=d++;return{value:c(L,o[L]),done:!1}}return g=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(o){return o||function(){return i(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function f(o,c,d){return o.call.apply(o.bind,arguments)}function p(o,c,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,g),o.apply(c,N)}}return function(){return o.apply(c,arguments)}}function m(o,c,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(o,c){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function D(o,c){function d(){}d.prototype=c.prototype,o.aa=c.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(g,N,L){for(var J=Array(arguments.length-2),He=2;He<arguments.length;He++)J[He-2]=arguments[He];return c.prototype[N].apply(g,J)}}function C(o){const c=o.length;if(0<c){const d=Array(c);for(let g=0;g<c;g++)d[g]=o[g];return d}return[]}function x(o,c){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(u(g)){const N=o.length||0,L=g.length||0;o.length=N+L;for(let J=0;J<L;J++)o[N+J]=g[J]}else o.push(g)}}class K{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function U(o){return/^[\s\xa0]*$/.test(o)}function V(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function $(o){return $[" "](o),o}$[" "]=function(){};var ae=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function ce(o,c,d){for(const g in o)c.call(d,o[g],g,o)}function R(o,c){for(const d in o)c.call(void 0,o[d],d,o)}function w(o){const c={};for(const d in o)c[d]=o[d];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(o,c){let d,g;for(let N=1;N<arguments.length;N++){g=arguments[N];for(d in g)o[d]=g[d];for(let L=0;L<E.length;L++)d=E[L],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function P(o){var c=1;o=o.split(":");const d=[];for(;0<c&&o.length;)d.push(o.shift()),c--;return o.length&&d.push(o.join(":")),d}function I(o){l.setTimeout(()=>{throw o},0)}function T(){var o=bt;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Ue{constructor(){this.h=this.g=null}add(c,d){const g=Ze.get();g.set(c,d),this.h?this.h.next=g:this.g=g,this.h=g}}var Ze=new K(()=>new Ke,o=>o.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,Se=!1,bt=new Ue,rn=()=>{const o=l.Promise.resolve(void 0);Re=()=>{o.then(At)}};var At=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(d){I(d)}var c=Ze;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}Se=!1};function We(){this.s=this.s,this.C=this.C}We.prototype.s=!1,We.prototype.ma=function(){this.s||(this.s=!0,this.N())},We.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var wn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return o}();function Ct(o,c){if(Ge.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(ae){e:{try{$(c.nodeName);var N=!0;break e}catch{}N=!1}N||(c=null)}}else d=="mouseover"?c=o.fromElement:d=="mouseout"&&(c=o.toElement);this.relatedTarget=c,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:mt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ct.aa.h.call(this)}}D(Ct,Ge);var mt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),re=0;function ee(o,c,d,g,N){this.listener=o,this.proxy=null,this.src=c,this.type=d,this.capture=!!g,this.ha=N,this.key=++re,this.da=this.fa=!1}function le(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Pe(o){this.src=o,this.g={},this.h=0}Pe.prototype.add=function(o,c,d,g,N){var L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);var J=A(o,c,g,N);return-1<J?(c=o[J],d||(c.fa=!1)):(c=new ee(c,this.src,L,!!g,N),c.fa=d,o.push(c)),c};function b(o,c){var d=c.type;if(d in o.g){var g=o.g[d],N=Array.prototype.indexOf.call(g,c,void 0),L;(L=0<=N)&&Array.prototype.splice.call(g,N,1),L&&(le(c),o.g[d].length==0&&(delete o.g[d],o.h--))}}function A(o,c,d,g){for(var N=0;N<o.length;++N){var L=o[N];if(!L.da&&L.listener==c&&L.capture==!!d&&L.ha==g)return N}return-1}var O="closure_lm_"+(1e6*Math.random()|0),j={};function q(o,c,d,g,N){if(Array.isArray(c)){for(var L=0;L<c.length;L++)q(o,c[L],d,g,N);return null}return d=me(d),o&&o[B]?o.K(c,d,h(g)?!!g.capture:!1,N):H(o,c,d,!1,g,N)}function H(o,c,d,g,N,L){if(!c)throw Error("Invalid event type");var J=h(N)?!!N.capture:!!N,He=Z(o);if(He||(o[O]=He=new Pe(o)),d=He.add(c,d,g,J,L),d.proxy)return d;if(g=te(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)wn||(N=J),N===void 0&&(N=!1),o.addEventListener(c.toString(),g,N);else if(o.attachEvent)o.attachEvent(W(c.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function te(){function o(d){return c.call(o.src,o.listener,d)}const c=fe;return o}function Y(o,c,d,g,N){if(Array.isArray(c))for(var L=0;L<c.length;L++)Y(o,c[L],d,g,N);else g=h(g)?!!g.capture:!!g,d=me(d),o&&o[B]?(o=o.i,c=String(c).toString(),c in o.g&&(L=o.g[c],d=A(L,d,g,N),-1<d&&(le(L[d]),Array.prototype.splice.call(L,d,1),L.length==0&&(delete o.g[c],o.h--)))):o&&(o=Z(o))&&(c=o.g[c.toString()],o=-1,c&&(o=A(c,d,g,N)),(d=-1<o?c[o]:null)&&Q(d))}function Q(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[B])b(c.i,o);else{var d=o.type,g=o.proxy;c.removeEventListener?c.removeEventListener(d,g,o.capture):c.detachEvent?c.detachEvent(W(d),g):c.addListener&&c.removeListener&&c.removeListener(g),(d=Z(c))?(b(d,o),d.h==0&&(d.src=null,c[O]=null)):le(o)}}}function W(o){return o in j?j[o]:j[o]="on"+o}function fe(o,c){if(o.da)o=!0;else{c=new Ct(c,this);var d=o.listener,g=o.ha||o.src;o.fa&&Q(o),o=d.call(g,c)}return o}function Z(o){return o=o[O],o instanceof Pe?o:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(o){return typeof o=="function"?o:(o[he]||(o[he]=function(c){return o.handleEvent(c)}),o[he])}function ge(){We.call(this),this.i=new Pe(this),this.M=this,this.F=null}D(ge,We),ge.prototype[B]=!0,ge.prototype.removeEventListener=function(o,c,d,g){Y(this,o,c,d,g)};function Ee(o,c){var d,g=o.F;if(g)for(d=[];g;g=g.F)d.push(g);if(o=o.M,g=c.type||c,typeof c=="string")c=new Ge(c,o);else if(c instanceof Ge)c.target=c.target||o;else{var N=c;c=new Ge(g,o),S(c,N)}if(N=!0,d)for(var L=d.length-1;0<=L;L--){var J=c.g=d[L];N=De(J,g,!0,c)&&N}if(J=c.g=o,N=De(J,g,!0,c)&&N,N=De(J,g,!1,c)&&N,d)for(L=0;L<d.length;L++)J=c.g=d[L],N=De(J,g,!1,c)&&N}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var d=o.g[c],g=0;g<d.length;g++)le(d[g]);delete o.g[c],o.h--}}this.F=null},ge.prototype.K=function(o,c,d,g){return this.i.add(String(o),c,!1,d,g)},ge.prototype.L=function(o,c,d,g){return this.i.add(String(o),c,!0,d,g)};function De(o,c,d,g){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,L=0;L<c.length;++L){var J=c[L];if(J&&!J.da&&J.capture==d){var He=J.listener,vt=J.ha||J.src;J.fa&&b(o.i,J),N=He.call(vt,g)!==!1&&N}}return N&&!g.defaultPrevented}function st(o,c,d){if(typeof o=="function")d&&(o=m(o,d));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function ht(o){o.g=st(()=>{o.g=null,o.i&&(o.i=!1,ht(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Yt extends We{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(o){We.call(this),this.h=o,this.g={}}D(ft,We);var Tn=[];function Er(o){ce(o.g,function(c,d){this.g.hasOwnProperty(d)&&Q(c)},o),o.g={}}ft.prototype.N=function(){ft.aa.N.call(this),Er(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=l.JSON.stringify,It=l.JSON.parse,Yn=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function wr(o){return o.h||(o.h=o.i())}function Kr(){}var Ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vs(){Ge.call(this,"d")}D(Vs,Ge);function ks(){Ge.call(this,"c")}D(ks,Ge);var y={},_=null;function M(){return _=_||new ge}y.La="serverreachability";function F(o){Ge.call(this,y.La,o)}D(F,Ge);function G(o){const c=M();Ee(c,new F(c))}y.STAT_EVENT="statevent";function se(o,c){Ge.call(this,y.STAT_EVENT,o),this.stat=c}D(se,Ge);function de(o){const c=M();Ee(c,new se(c,o))}y.Ma="timingevent";function ue(o,c){Ge.call(this,y.Ma,o),this.size=c}D(ue,Ge);function we(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function ie(){this.g=!0}ie.prototype.xa=function(){this.g=!1};function _e(o,c,d,g,N,L){o.info(function(){if(o.g)if(L)for(var J="",He=L.split("&"),vt=0;vt<He.length;vt++){var ke=He[vt].split("=");if(1<ke.length){var St=ke[0];ke=ke[1];var Rt=St.split("_");J=2<=Rt.length&&Rt[1]=="type"?J+(St+"="+ke+"&"):J+(St+"=redacted&")}}else J=null;else J=L;return"XMLHTTP REQ ("+g+") [attempt "+N+"]: "+c+`
`+d+`
`+J})}function $e(o,c,d,g,N,L,J){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+N+"]: "+c+`
`+d+`
`+L+" "+J})}function _t(o,c,d,g){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+Tr(o,d)+(g?" "+g:"")})}function Bt(o,c){o.info(function(){return"TIMEOUT: "+c})}ie.prototype.info=function(){};function Tr(o,c){if(!o.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var g=d[o];if(!(2>g.length)){var N=g[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var J=1;J<N.length;J++)N[J]=""}}}}return Ie(d)}catch{return c}}var pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function Wr(){}D(Wr,Ns),Wr.prototype.g=function(){return new XMLHttpRequest},Wr.prototype.i=function(){return{}},br=new Wr;function bn(o,c,d,g){this.j=o,this.i=c,this.l=d,this.R=g||1,this.U=new ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yi}function Yi(){this.i=null,this.g="",this.h=!1}var Qi={},Ls={};function Fs(o,c,d){o.L=1,o.v=no(kn(c)),o.m=d,o.P=!0,Ji(o,null)}function Ji(o,c){o.F=Date.now(),Zi(o),o.A=kn(o.v);var d=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),Vc(d.i,"t",g),o.C=0,d=o.j.J,o.h=new Yi,o.g=Zc(o.j,d?c:null,!o.m),0<o.O&&(o.M=new Yt(m(o.Y,o,o.g),o.O)),c=o.U,d=o.g,g=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(Tn[0]=N.toString()),N=Tn);for(var L=0;L<N.length;L++){var J=q(d,N[L],g||c.handleEvent,!1,c.h||c);if(!J)break;c.g[J.key]=J}c=o.H?w(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),G(),_e(o.i,o.u,o.A,o.l,o.R,o.m)}bn.prototype.ca=function(o){o=o.target;const c=this.M;c&&Ln(o)==3?c.j():this.Y(o)},bn.prototype.Y=function(o){try{if(o==this.g)e:{const Rt=Ln(this.g);var c=this.g.Ba();const Qr=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||$c(this.g)))){this.J||Rt!=4||c==7||(c==8||0>=Qr?G(3):G(2)),Fa(this);var d=this.g.Z();this.X=d;t:if(Xi(this)){var g=$c(this.g);o="";var N=g.length,L=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),Us(this);var J="";break t}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,o+=this.h.i.decode(g[c],{stream:!(L&&c==N-1)});g.length=0,this.h.g+=o,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=d==200,$e(this.i,this.u,this.A,this.l,this.R,Rt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var He,vt=this.g;if((He=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(He)){var ke=He;break t}}ke=null}if(d=ke)_t(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ua(this,d);else{this.o=!1,this.s=3,de(12),Ar(this),Us(this);break e}}if(this.P){d=!0;let mn;for(;!this.J&&this.C<J.length;)if(mn=Yg(this,J),mn==Ls){Rt==4&&(this.s=4,de(14),d=!1),_t(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Qi){this.s=4,de(15),_t(this.i,this.l,J,"[Invalid Chunk]"),d=!1;break}else _t(this.i,this.l,mn,null),Ua(this,mn);if(Xi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||J.length!=0||this.h.h||(this.s=1,de(16),d=!1),this.o=this.o&&d,!d)_t(this.i,this.l,J,"[Invalid Chunked Response]"),Ar(this),Us(this);else if(0<J.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),za(St),St.M=!0,de(11))}}else _t(this.i,this.l,J,null),Ua(this,J);Rt==4&&Ar(this),this.o&&!this.J&&(Rt==4?Yc(this.j,this):(this.o=!1,Zi(this)))}else fy(this.g),d==400&&0<J.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Ar(this),Us(this)}}}catch{}finally{}};function Xi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Yg(o,c){var d=o.C,g=c.indexOf(`
`,d);return g==-1?Ls:(d=Number(c.substring(d,g)),isNaN(d)?Qi:(g+=1,g+d>c.length?Ls:(c=c.slice(g,g+d),o.C=g+d,c)))}bn.prototype.cancel=function(){this.J=!0,Ar(this)};function Zi(o){o.S=Date.now()+o.I,bc(o,o.I)}function bc(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=we(m(o.ba,o),c)}function Fa(o){o.B&&(l.clearTimeout(o.B),o.B=null)}bn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Bt(this.i,this.A),this.L!=2&&(G(),de(17)),Ar(this),this.s=2,Us(this)):bc(this,this.S-o)};function Us(o){o.j.G==0||o.J||Yc(o.j,o)}function Ar(o){Fa(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,Er(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Ua(o,c){try{var d=o.j;if(d.G!=0&&(d.g==o||Ba(d.h,o))){if(!o.K&&Ba(d.h,o)&&d.G==3){try{var g=d.Da.g.parse(c)}catch{g=null}if(Array.isArray(g)&&g.length==3){var N=g;if(N[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)lo(d),oo(d);else break e;qa(d),de(18)}}else d.za=N[1],0<d.za-d.T&&37500>N[2]&&d.F&&d.v==0&&!d.C&&(d.C=we(m(d.Za,d),6e3));if(1>=Ic(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Ir(d,11)}else if((o.K||d.g==o)&&lo(d),!U(c))for(N=d.Da.g.parse(c),c=0;c<N.length;c++){let ke=N[c];if(d.T=ke[0],ke=ke[1],d.G==2)if(ke[0]=="c"){d.K=ke[1],d.ia=ke[2];const St=ke[3];St!=null&&(d.la=St,d.j.info("VER="+d.la));const Rt=ke[4];Rt!=null&&(d.Aa=Rt,d.j.info("SVER="+d.Aa));const Qr=ke[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(g=1.5*Qr,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const mn=o.g;if(mn){const co=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(co){var L=g.h;L.g||co.indexOf("spdy")==-1&&co.indexOf("quic")==-1&&co.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(ja(L,L.h),L.h=null))}if(g.D){const Ka=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(g.ya=Ka,Ye(g.I,g.D,Ka))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var J=o;if(g.qa=Xc(g,g.J?g.ia:null,g.W),J.K){Sc(g.h,J);var He=J,vt=g.L;vt&&(He.I=vt),He.B&&(Fa(He),Zi(He)),g.g=J}else Wc(g);0<d.i.length&&ao(d)}else ke[0]!="stop"&&ke[0]!="close"||Ir(d,7);else d.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ir(d,7):Ha(d):ke[0]!="noop"&&d.l&&d.l.ta(ke),d.v=0)}}G(4)}catch{}}var Qg=class{constructor(o,c){this.g=o,this.map=c}};function Ac(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ic(o){return o.h?1:o.g?o.g.size:0}function Ba(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function ja(o,c){o.g?o.g.add(c):o.h=c}function Sc(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Ac.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Rc(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const d of o.g.values())c=c.concat(d.D);return c}return C(o.i)}function Jg(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],d=o.length,g=0;g<d;g++)c.push(o[g]);return c}c=[],d=0;for(g in o)c[d++]=o[g];return c}function Xg(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var d=0;d<o;d++)c.push(d);return c}c=[],d=0;for(const g in o)c[d++]=g;return c}}}function Dc(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var d=Xg(o),g=Jg(o),N=g.length,L=0;L<N;L++)c.call(void 0,g[L],d&&d[L],o)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zg(o,c){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),N=null;if(0<=g){var L=o[d].substring(0,g);N=o[d].substring(g+1)}else L=o[d];c(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Cr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Cr){this.h=o.h,eo(this,o.j),this.o=o.o,this.g=o.g,to(this,o.s),this.l=o.l;var c=o.i,d=new $s;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),xc(this,d),this.m=o.m}else o&&(c=String(o).match(Pc))?(this.h=!1,eo(this,c[1]||"",!0),this.o=Bs(c[2]||""),this.g=Bs(c[3]||"",!0),to(this,c[4]),this.l=Bs(c[5]||"",!0),xc(this,c[6]||"",!0),this.m=Bs(c[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}Cr.prototype.toString=function(){var o=[],c=this.j;c&&o.push(js(c,Mc,!0),":");var d=this.g;return(d||c=="file")&&(o.push("//"),(c=this.o)&&o.push(js(c,Mc,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(js(d,d.charAt(0)=="/"?ny:ty,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",js(d,sy)),o.join("")};function kn(o){return new Cr(o)}function eo(o,c,d){o.j=d?Bs(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function to(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function xc(o,c,d){c instanceof $s?(o.i=c,iy(o.i,o.h)):(d||(c=js(c,ry)),o.i=new $s(c,o.h))}function Ye(o,c,d){o.i.set(c,d)}function no(o){return Ye(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Bs(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function js(o,c,d){return typeof o=="string"?(o=encodeURI(o).replace(c,ey),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ey(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Mc=/[#\/\?@]/g,ty=/[#\?:]/g,ny=/[#\?]/g,ry=/[#\?@]/g,sy=/#/g;function $s(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Qn(o){o.g||(o.g=new Map,o.h=0,o.i&&Zg(o.i,function(c,d){o.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}n=$s.prototype,n.add=function(o,c){Qn(this),this.i=null,o=Gr(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(c),this.h+=1,this};function Oc(o,c){Qn(o),c=Gr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Nc(o,c){return Qn(o),c=Gr(o,c),o.g.has(c)}n.forEach=function(o,c){Qn(this),this.g.forEach(function(d,g){d.forEach(function(N){o.call(c,N,g,this)},this)},this)},n.na=function(){Qn(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let g=0;g<c.length;g++){const N=o[g];for(let L=0;L<N.length;L++)d.push(c[g])}return d},n.V=function(o){Qn(this);let c=[];if(typeof o=="string")Nc(this,o)&&(c=c.concat(this.g.get(Gr(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)c=c.concat(o[d])}return c},n.set=function(o,c){return Qn(this),this.i=null,o=Gr(this,o),Nc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},n.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function Vc(o,c,d){Oc(o,c),0<d.length&&(o.i=null,o.g.set(Gr(o,c),C(d)),o.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var g=c[d];const L=encodeURIComponent(String(g)),J=this.V(g);for(g=0;g<J.length;g++){var N=L;J[g]!==""&&(N+="="+encodeURIComponent(String(J[g]))),o.push(N)}}return this.i=o.join("&")};function Gr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function iy(o,c){c&&!o.j&&(Qn(o),o.i=null,o.g.forEach(function(d,g){var N=g.toLowerCase();g!=N&&(Oc(this,g),Vc(this,N,d))},o)),o.j=c}function oy(o,c){const d=new ie;if(l.Image){const g=new Image;g.onload=v(Jn,d,"TestLoadImage: loaded",!0,c,g),g.onerror=v(Jn,d,"TestLoadImage: error",!1,c,g),g.onabort=v(Jn,d,"TestLoadImage: abort",!1,c,g),g.ontimeout=v(Jn,d,"TestLoadImage: timeout",!1,c,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else c(!1)}function ay(o,c){const d=new ie,g=new AbortController,N=setTimeout(()=>{g.abort(),Jn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:g.signal}).then(L=>{clearTimeout(N),L.ok?Jn(d,"TestPingServer: ok",!0,c):Jn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),Jn(d,"TestPingServer: error",!1,c)})}function Jn(o,c,d,g,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),g(d)}catch{}}function ly(){this.g=new Yn}function uy(o,c,d){const g=d||"";try{Dc(o,function(N,L){let J=N;h(N)&&(J=Ie(N)),c.push(g+L+"="+encodeURIComponent(J))})}catch(N){throw c.push(g+"type="+encodeURIComponent("_badmap")),N}}function ro(o){this.l=o.Ub||null,this.j=o.eb||!1}D(ro,Ns),ro.prototype.g=function(){return new so(this.l,this.j)},ro.prototype.i=function(o){return function(){return o}}({});function so(o,c){ge.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(so,ge),n=so.prototype,n.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,qs(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,qs(this)),this.g&&(this.readyState=3,qs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function kc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?Hs(this):qs(this),this.readyState==3&&kc(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Hs(this))},n.Qa=function(o){this.g&&(this.response=o,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(o){o.readyState=4,o.l=null,o.j=null,o.v=null,qs(o)}n.setRequestHeader=function(o,c){this.u.append(o,c)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=c.next();return o.join(`\r
`)};function qs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Lc(o){let c="";return ce(o,function(d,g){c+=g,c+=":",c+=d,c+=`\r
`}),c}function $a(o,c,d){e:{for(g in d){var g=!1;break e}g=!0}g||(d=Lc(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):Ye(o,c,d))}function et(o){ge.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(et,ge);var cy=/^https?$/i,hy=["POST","PUT"];n=et.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,c,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?wr(this.o):wr(br),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(L){Fc(this,L);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var N in g)d.set(N,g[N]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const L of g.keys())d.set(L,g.get(L));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(hy,c,void 0))||g||N||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,J]of d)this.g.setRequestHeader(L,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jc(this),this.u=!0,this.g.send(o),this.u=!1}catch(L){Fc(this,L)}};function Fc(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,Uc(o),io(o)}function Uc(o){o.A||(o.A=!0,Ee(o,"complete"),Ee(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ee(this,"complete"),Ee(this,"abort"),io(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),io(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Bc(this):this.bb())},n.bb=function(){Bc(this)};function Bc(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Ln(o)!=4||o.Z()!=2)){if(o.u&&Ln(o)==4)st(o.Ea,0,o);else if(Ee(o,"readystatechange"),Ln(o)==4){o.h=!1;try{const J=o.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var g;if(g=J===0){var N=String(o.D).match(Pc)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),g=!cy.test(N?N.toLowerCase():"")}d=g}if(d)Ee(o,"complete"),Ee(o,"success");else{o.m=6;try{var L=2<Ln(o)?o.g.statusText:""}catch{L=""}o.l=L+" ["+o.Z()+"]",Uc(o)}}finally{io(o)}}}}function io(o,c){if(o.g){jc(o);const d=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||Ee(o,"ready");try{d.onreadystatechange=g}catch{}}}function jc(o){o.I&&(l.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Ln(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),It(c)}};function $c(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function fy(o){const c={};o=(o.g&&2<=Ln(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(U(o[g]))continue;var d=P(o[g]);const N=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=c[N]||[];c[N]=L,L.push(d)}R(c,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(o,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||c}function Hc(o){this.Aa=0,this.i=[],this.j=new ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,o),this.cb=zs("retryDelaySeedMs",1e4,o),this.Wa=zs("forwardChannelMaxRetries",2,o),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ac(o&&o.concurrentRequestLimit),this.Da=new ly,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Hc.prototype,n.la=8,n.G=1,n.connect=function(o,c,d,g){de(0),this.W=o,this.H=c||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=Xc(this,null,this.W),ao(this)};function Ha(o){if(qc(o),o.G==3){var c=o.U++,d=kn(o.I);if(Ye(d,"SID",o.K),Ye(d,"RID",c),Ye(d,"TYPE","terminate"),Ks(o,d),c=new bn(o,o.j,c),c.L=2,c.v=no(kn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Zc(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Zi(c)}Jc(o)}function oo(o){o.g&&(za(o),o.g.cancel(),o.g=null)}function qc(o){oo(o),o.u&&(l.clearTimeout(o.u),o.u=null),lo(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function ao(o){if(!Cc(o.h)&&!o.s){o.s=!0;var c=o.Ga;Re||rn(),Se||(Re(),Se=!0),bt.add(c,o),o.B=0}}function dy(o,c){return Ic(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=we(m(o.Ga,o,c),Qc(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new bn(this,this.j,o);let L=this.o;if(this.S&&(L?(L=w(L),S(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(c+=g,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Kc(this,N,c),d=kn(this.I),Ye(d,"RID",o),Ye(d,"CVER",22),this.D&&Ye(d,"X-HTTP-Session-Id",this.D),Ks(this,d),L&&(this.O?c="headers="+encodeURIComponent(String(Lc(L)))+"&"+c:this.m&&$a(d,this.m,L)),ja(this.h,N),this.Ua&&Ye(d,"TYPE","init"),this.P?(Ye(d,"$req",c),Ye(d,"SID","null"),N.T=!0,Fs(N,d,null)):Fs(N,d,c),this.G=2}}else this.G==3&&(o?zc(this,o):this.i.length==0||Cc(this.h)||zc(this))};function zc(o,c){var d;c?d=c.l:d=o.U++;const g=kn(o.I);Ye(g,"SID",o.K),Ye(g,"RID",d),Ye(g,"AID",o.T),Ks(o,g),o.m&&o.o&&$a(g,o.m,o.o),d=new bn(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Kc(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),ja(o.h,d),Fs(d,g,c)}function Ks(o,c){o.H&&ce(o.H,function(d,g){Ye(c,g,d)}),o.l&&Dc({},function(d,g){Ye(c,g,d)})}function Kc(o,c,d){d=Math.min(o.i.length,d);var g=o.l?m(o.l.Na,o.l,o):null;e:{var N=o.i;let L=-1;for(;;){const J=["count="+d];L==-1?0<d?(L=N[0].g,J.push("ofs="+L)):L=0:J.push("ofs="+L);let He=!0;for(let vt=0;vt<d;vt++){let ke=N[vt].g;const St=N[vt].map;if(ke-=L,0>ke)L=Math.max(0,N[vt].g-100),He=!1;else try{uy(St,J,"req"+ke+"_")}catch{g&&g(St)}}if(He){g=J.join("&");break e}}}return o=o.i.splice(0,d),c.D=o,g}function Wc(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;Re||rn(),Se||(Re(),Se=!0),bt.add(c,o),o.v=0}}function qa(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=we(m(o.Fa,o),Qc(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=we(m(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),oo(this),Gc(this))};function za(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Gc(o){o.g=new bn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=kn(o.qa);Ye(c,"RID","rpc"),Ye(c,"SID",o.K),Ye(c,"AID",o.T),Ye(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ye(c,"TO",o.ja),Ye(c,"TYPE","xmlhttp"),Ks(o,c),o.m&&o.o&&$a(c,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=no(kn(c)),d.m=null,d.P=!0,Ji(d,o)}n.Za=function(){this.C!=null&&(this.C=null,oo(this),qa(this),de(19))};function lo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Yc(o,c){var d=null;if(o.g==c){lo(o),za(o),o.g=null;var g=2}else if(Ba(o.h,c))d=c.D,Sc(o.h,c),g=1;else return;if(o.G!=0){if(c.o)if(g==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var N=o.B;g=M(),Ee(g,new ue(g,d)),ao(o)}else Wc(o);else if(N=c.s,N==3||N==0&&0<c.X||!(g==1&&dy(o,c)||g==2&&qa(o)))switch(d&&0<d.length&&(c=o.h,c.i=c.i.concat(d)),N){case 1:Ir(o,5);break;case 4:Ir(o,10);break;case 3:Ir(o,6);break;default:Ir(o,2)}}}function Qc(o,c){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*c}function Ir(o,c){if(o.j.info("Error code "+c),c==2){var d=m(o.fb,o),g=o.Xa;const N=!g;g=new Cr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||eo(g,"https"),no(g),N?oy(g.toString(),d):ay(g.toString(),d)}else de(2);o.G=0,o.l&&o.l.sa(c),Jc(o),qc(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Jc(o){if(o.G=0,o.ka=[],o.l){const c=Rc(o.h);(c.length!=0||o.i.length!=0)&&(x(o.ka,c),x(o.ka,o.i),o.h.i.length=0,C(o.i),o.i.length=0),o.l.ra()}}function Xc(o,c,d){var g=d instanceof Cr?kn(d):new Cr(d);if(g.g!="")c&&(g.g=c+"."+g.g),to(g,g.s);else{var N=l.location;g=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var L=new Cr(null);g&&eo(L,g),c&&(L.g=c),N&&to(L,N),d&&(L.l=d),g=L}return d=o.D,c=o.ya,d&&c&&Ye(g,d,c),Ye(g,"VER",o.la),Ks(o,g),g}function Zc(o,c,d){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new et(new ro({eb:d})):new et(o.pa),c.Ha(o.J),c}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}n=eh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function uo(){}uo.prototype.g=function(o,c){return new sn(o,c)};function sn(o,c){ge.call(this),this.g=new Hc(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!U(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!U(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Yr(this)}D(sn,ge),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ha(this.g)},sn.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ie(o),o=d);c.i.push(new Qg(c.Ya++,o)),c.G==3&&ao(c)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,sn.aa.N.call(this)};function th(o){Vs.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const d in c){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}D(th,Vs);function nh(){ks.call(this),this.status=1}D(nh,ks);function Yr(o){this.g=o}D(Yr,eh),Yr.prototype.ua=function(){Ee(this.g,"a")},Yr.prototype.ta=function(o){Ee(this.g,new th(o))},Yr.prototype.sa=function(o){Ee(this.g,new nh)},Yr.prototype.ra=function(){Ee(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Wm=function(){return new uo},Km=function(){return M()},zm=y,au={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,xo=pn,Gi.COMPLETE="complete",qm=Gi,Kr.EventType=Ut,Ut.OPEN="a",Ut.CLOSE="b",Ut.ERROR="c",Ut.MESSAGE="d",ge.prototype.listen=ge.prototype.K,ti=Kr,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,Hm=et}).apply(typeof _o<"u"?_o:typeof self<"u"?self:typeof window<"u"?window:{});const xf="@firebase/firestore",Mf="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new km("@firebase/firestore");function ts(){return Hr.logLevel}function oe(n,...e){if(Hr.logLevel<=Oe.DEBUG){const t=e.map(ec);Hr.debug(`Firestore (${xs}): ${n}`,...t)}}function Wn(n,...e){if(Hr.logLevel<=Oe.ERROR){const t=e.map(ec);Hr.error(`Firestore (${xs}): ${n}`,...t)}}function ws(n,...e){if(Hr.logLevel<=Oe.WARN){const t=e.map(ec);Hr.warn(`Firestore (${xs}): ${n}`,...t)}}function ec(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Gm(n,r,t)}function Gm(n,e,t){let r=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Wn(r),new Error(r)}function Xe(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Gm(e,s,r)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ps{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xt.UNAUTHENTICATED))}shutdown(){}}class Db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pb{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let i=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ms)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new Ym(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new xt(e)}}class xb{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mb{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new xb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Of{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ob{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0,3512);const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Of(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Of(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Nb(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%62))}return r}}function xe(n,e){return n<e?-1:n>e?1:0}function lu(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),i=e.charAt(r);if(s!==i)return bl(s)===bl(i)?xe(s,i):bl(s)?1:-1}return xe(n.length,e.length)}const Vb=55296,kb=57343;function bl(n){const e=n.charCodeAt(0);return e>=Vb&&e<=kb}function Ts(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="__name__";class Sn{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Sn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sn?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=Sn.compareSegments(e.get(s),t.get(s));if(i!==0)return i}return xe(e.length,t.length)}static compareSegments(e,t){const r=Sn.isNumericId(e),s=Sn.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Sn.extractNumericId(e).compare(Sn.extractNumericId(t)):lu(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class Je extends Sn{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const Lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Sn{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return Lb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nf}static keyField(){return new Wt([Nf])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(r+=l,s++):(i(),s++)}if(i(),a)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(n,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ub(n,e,t,r){if(e===!0&&r===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vf(n){if(!ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bb(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function jb(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jb(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hi(n,e){if(!Bb(n))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const a=n[r];if(s&&typeof a!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){t=`Expected '${r}' field to equal '${i.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=-62135596800,Lf=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Lf);return new lt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kf)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lf}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hi(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:ut("string",lt._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new lt(0,0))}static max(){return new Te(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=-1;function $b(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Te.fromTimestamp(r===1e9?new lt(t+1,0):new lt(t,r));return new dr(s,ye.empty(),e)}function Hb(n){return new dr(n.readTime,n.key,Ni)}class dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new dr(Te.min(),ye.empty(),Ni)}static max(){return new dr(Te.max(),ye.empty(),Ni)}}function qb(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==zb)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):z.reject(t)}static resolve(e){return new z((t,r)=>{t(e)})}static reject(e){return new z((t,r)=>{r(e)})}static waitFor(e){return new z((t,r)=>{let s=0,i=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++i,a&&i===s&&t()},u=>r(u))}),a=!0,i===s&&t()})}static or(e){let t=z.resolve(!1);for(const r of e)t=t.next(s=>s?z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new z((r,s)=>{const i=e.length,a=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;t(e[h]).next(f=>{a[h]=f,++l,l===i&&r(a)},f=>s(f))}})}static doWhile(e,t){return new z((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function Wb(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ms(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sa.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=-1;function Ra(n){return n==null}function uu(n){return n===0&&1/n==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="";function Yb(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ff(e)),e=Qb(n.get(t),e);return Ff(e)}function Qb(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case Qm:t+="";break;default:t+=i}}return t}function Ff(n){return n+Qm+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Jb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Et.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Et.RED,this.left=s??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Et(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Et.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,s,i){return this}insert(e,t,r){return new Et(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bf(this.data.getIterator())}getIteratorFrom(e){return new Bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pt(this.comparator);return t.data=e,t}}class Bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new sr([])}unionWith(e){let t=new pt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new sr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Jm("Invalid base64 string: "+i):i}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Xe(!!n,39018),typeof n=="string"){let e=0;const t=Xb.exec(n);if(Xe(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?Tt.fromBase64String(n):Tt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="server_timestamp",Zm="__type__",eg="__previous_value__",tg="__local_write_time__";function nc(n){return(n?.mapValue?.fields||{})[Zm]?.stringValue===Xm}function Da(n){const e=n.mapValue.fields[eg];return nc(e)?Da(e):e}function Vi(n){const e=pr(n.mapValue.fields[tg].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,r,s,i,a,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Xo="(default)";class ki{constructor(e,t){this.projectId=e,this.database=t||Xo}static empty(){return new ki("","")}get isDefaultDatabase(){return this.database===Xo}isEqual(e){return e instanceof ki&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="__type__",t1="__max__",Eo={mapValue:{}},n1="__vector__",cu="value";function gr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nc(n)?4:s1(n)?9007199254740991:r1(n)?10:11:Ae(28295,{value:n})}function Nn(n,e){if(n===e)return!0;const t=gr(n);if(t!==gr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vi(n).isEqual(Vi(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=pr(s.timestampValue),l=pr(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return mr(s.bytesValue).isEqual(mr(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return nt(s.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(s.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return nt(s.integerValue)===nt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=nt(s.doubleValue),l=nt(i.doubleValue);return a===l?uu(a)===uu(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return Ts(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Uf(a)!==Uf(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Nn(a[u],l[u])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function Li(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function bs(n,e){if(n===e)return 0;const t=gr(n),r=gr(e);if(t!==r)return xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(n.booleanValue,e.booleanValue);case 2:return function(i,a){const l=nt(i.integerValue||i.doubleValue),u=nt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,e);case 3:return jf(n.timestampValue,e.timestampValue);case 4:return jf(Vi(n),Vi(e));case 5:return lu(n.stringValue,e.stringValue);case 6:return function(i,a){const l=mr(i),u=mr(a);return l.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=xe(l[h],u[h]);if(f!==0)return f}return xe(l.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const l=xe(nt(i.latitude),nt(a.latitude));return l!==0?l:xe(nt(i.longitude),nt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $f(n.arrayValue,e.arrayValue);case 10:return function(i,a){const l=i.fields||{},u=a.fields||{},h=l[cu]?.arrayValue,f=u[cu]?.arrayValue,p=xe(h?.values?.length||0,f?.values?.length||0);return p!==0?p:$f(h,f)}(n.mapValue,e.mapValue);case 11:return function(i,a){if(i===Eo.mapValue&&a===Eo.mapValue)return 0;if(i===Eo.mapValue)return 1;if(a===Eo.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=lu(u[p],f[p]);if(m!==0)return m;const v=bs(l[u[p]],h[f[p]]);if(v!==0)return v}return xe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function jf(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xe(n,e);const t=pr(n),r=pr(e),s=xe(t.seconds,r.seconds);return s!==0?s:xe(t.nanos,r.nanos)}function $f(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=bs(t[s],r[s]);if(i)return i}return xe(t.length,r.length)}function As(n){return hu(n)}function hu(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=pr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=hu(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${hu(t.fields[a])}`;return s+"}"}(n.mapValue):Ae(61005,{value:n})}function Oo(n){switch(gr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Da(n);return e?16+Oo(e):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Oo(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return qi(r.fields,(i,a)=>{s+=i.length+Oo(a)}),s}(n.mapValue);default:throw Ae(13486,{value:n})}}function fu(n){return!!n&&"integerValue"in n}function rc(n){return!!n&&"arrayValue"in n}function Hf(n){return!!n&&"nullValue"in n}function qf(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Al(n){return!!n&&"mapValue"in n}function r1(n){return(n?.mapValue?.fields||{})[e1]?.stringValue===n1}function yi(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yi(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yi(n.arrayValue.values[t]);return e}return{...n}}function s1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===t1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Al(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yi(t)}setAll(e){let t=Wt.emptyPath(),r={},s=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,r,s),r={},s=[],t=l.popLast()}a?r[l.lastSegment()]=yi(a):s.push(l.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Al(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Al(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){qi(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Dn(yi(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t,r,s,i,a,l){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Vt(e,0,Te.min(),Te.min(),Te.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,s){return new Vt(e,1,t,Te.min(),r,s,0)}static newNoDocument(e,t){return new Vt(e,2,t,Te.min(),Te.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new Vt(e,3,t,Te.min(),Te.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,t){this.position=e,this.inclusive=t}}function zf(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],a=n.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(a.referenceValue),t.key):r=bs(a,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kf(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,t="asc"){this.field=e,this.dir=t}}function i1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{}class dt extends ng{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new a1(e,t,r):t==="array-contains"?new c1(e,r):t==="in"?new h1(e,r):t==="not-in"?new f1(e,r):t==="array-contains-any"?new d1(e,r):new dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new l1(e,r):new u1(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bs(t,this.value)):t!==null&&gr(this.value)===gr(t)&&this.matchesComparison(bs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends ng{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Vn(e,t)}matches(e){return rg(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rg(n){return n.op==="and"}function sg(n){return o1(n)&&rg(n)}function o1(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function du(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+As(n.value);if(sg(n))return n.filters.map(e=>du(e)).join(",");{const e=n.filters.map(t=>du(t)).join(",");return`${n.op}(${e})`}}function ig(n,e){return n instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&Nn(r.value,s.value)}(n,e):n instanceof Vn?function(r,s){return s instanceof Vn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,l)=>i&&ig(a,s.filters[l]),!0):!1}(n,e):void Ae(19439)}function og(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${As(t.value)}`}(n):n instanceof Vn?function(t){return t.op.toString()+" {"+t.getFilters().map(og).join(" ,")+"}"}(n):"Filter"}class a1 extends dt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class l1 extends dt{constructor(e,t){super(e,"in",t),this.keys=ag("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class u1 extends dt{constructor(e,t){super(e,"not-in",t),this.keys=ag("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ag(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class c1 extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rc(t)&&Li(t.arrayValue,this.value)}}class h1 extends dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Li(this.value.arrayValue,t)}}class f1 extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Li(this.value.arrayValue,t)}}class d1 extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Li(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t=null,r=[],s=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}}function Wf(n,e=null,t=[],r=[],s=null,i=null,a=null){return new p1(n,e,t,r,s,i,a)}function sc(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>du(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ra(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>As(r)).join(",")),e.Te=t}return e.Te}function ic(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!i1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ig(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kf(n.startAt,e.startAt)&&Kf(n.endAt,e.endAt)}function pu(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t=null,r=[],s=[],i=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m1(n,e,t,r,s,i,a,l){return new Pa(n,e,t,r,s,i,a,l)}function oc(n){return new Pa(n)}function Gf(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function g1(n){return n.collectionGroup!==null}function _i(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pt(Wt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ea(i,r))}),t.has(Wt.keyField().canonicalString())||e.Ie.push(new ea(Wt.keyField(),r))}return e.Ie}function On(n){const e=Ne(n);return e.Ee||(e.Ee=y1(e,_i(n))),e.Ee}function y1(n,e){if(n.limitType==="F")return Wf(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ea(s.field,i)});const t=n.endAt?new Zo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zo(n.startAt.position,n.startAt.inclusive):null;return Wf(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mu(n,e,t){return new Pa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xa(n,e){return ic(On(n),On(e))&&n.limitType===e.limitType}function lg(n){return`${sc(On(n))}|lt:${n.limitType}`}function ns(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>og(s)).join(", ")}]`),Ra(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>As(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>As(s)).join(",")),`Target(${r})`}(On(n))}; limitType=${n.limitType})`}function Ma(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of _i(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(a,l,u){const h=zf(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,_i(r),s)||r.endAt&&!function(a,l,u){const h=zf(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,_i(r),s))}(n,e)}function _1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ug(n){return(e,t)=>{let r=!1;for(const s of _i(n)){const i=v1(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function v1(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(i,a,l){const u=a.data.field(i),h=l.data.field(i);return u!==null&&h!==null?bs(u,h):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Jb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new rt(ye.comparator);function yr(){return E1}const cg=new rt(ye.comparator);function ni(...n){let e=cg;for(const t of n)e=e.insert(t.key,t);return e}function w1(n){let e=cg;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function kr(){return vi()}function hg(){return vi()}function vi(){return new zr(n=>n.toString(),(n,e)=>n.isEqual(e))}const T1=new pt(ye.comparator);function Ve(...n){let e=T1;for(const t of n)e=e.add(t);return e}const b1=new pt(xe);function A1(){return b1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uu(e)?"-0":e}}function I1(n){return{integerValue:""+n}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this._=void 0}}function S1(n,e,t){return n instanceof gu?function(s,i){const a={fields:{[Zm]:{stringValue:Xm},[tg]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nc(i)&&(i=Da(i)),i&&(a.fields[eg]=i),{mapValue:a}}(t,e):n instanceof ta?fg(n,e):n instanceof na?dg(n,e):function(s,i){const a=D1(s,i),l=Yf(a)+Yf(s.Ae);return fu(a)&&fu(s.Ae)?I1(l):C1(s.serializer,l)}(n,e)}function R1(n,e,t){return n instanceof ta?fg(n,e):n instanceof na?dg(n,e):t}function D1(n,e){return n instanceof yu?function(r){return fu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gu extends Oa{}class ta extends Oa{constructor(e){super(),this.elements=e}}function fg(n,e){const t=pg(e);for(const r of n.elements)t.some(s=>Nn(s,r))||t.push(r);return{arrayValue:{values:t}}}class na extends Oa{constructor(e){super(),this.elements=e}}function dg(n,e){let t=pg(e);for(const r of n.elements)t=t.filter(s=>!Nn(s,r));return{arrayValue:{values:t}}}class yu extends Oa{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Yf(n){return nt(n.integerValue||n.doubleValue)}function pg(n){return rc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function P1(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof ta&&s instanceof ta||r instanceof na&&s instanceof na?Ts(r.elements,s.elements,Nn):r instanceof yu&&s instanceof yu?Nn(r.Ae,s.Ae):r instanceof gu&&s instanceof gu}(n.transform,e.transform)}class Ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ac{}function mg(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new M1(n.key,Ur.none()):new lc(n.key,n.data,Ur.none());{const t=n.data,r=Dn.empty();let s=new pt(Wt.comparator);for(let i of e.fields)if(!s.has(i)){let a=t.field(i);a===null&&i.length>1&&(i=i.popLast(),a=t.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Na(n.key,r,new sr(s.toArray()),Ur.none())}}function x1(n,e,t){n instanceof lc?function(s,i,a){const l=s.value.clone(),u=Jf(s.fieldTransforms,i,a.transformResults);l.setAll(u),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Na?function(s,i,a){if(!No(s.precondition,i))return void i.convertToUnknownDocument(a.version);const l=Jf(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(gg(s)),u.setAll(l),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Ei(n,e,t,r){return n instanceof lc?function(i,a,l,u){if(!No(i.precondition,a))return l;const h=i.value.clone(),f=Xf(i.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof Na?function(i,a,l,u){if(!No(i.precondition,a))return l;const h=Xf(i.fieldTransforms,u,a),f=a.data;return f.setAll(gg(i)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(i,a,l){return No(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,e,t)}function Qf(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ts(r,s,(i,a)=>P1(i,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends ac{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Na extends ac{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gg(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Jf(n,e,t){const r=new Map;Xe(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const i=n[s],a=i.transform,l=e.data.field(i.field);r.set(i.field,R1(a,l,t[s]))}return r}function Xf(n,e,t){const r=new Map;for(const s of n){const i=s.transform,a=t.data.field(s.field);r.set(s.field,S1(i,a,e))}return r}class M1 extends ac{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x1(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ei(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ei(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=hg();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=t.has(s.key)?null:l;const u=mg(a,l);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(t,r)=>Qf(t,r))&&Ts(this.baseMutations,e.baseMutations,(t,r)=>Qf(t,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Me;function yg(n){if(n===void 0)return Wn("GRPC error has no .code"),X.UNKNOWN;switch(n){case it.OK:return X.OK;case it.CANCELLED:return X.CANCELLED;case it.UNKNOWN:return X.UNKNOWN;case it.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case it.INTERNAL:return X.INTERNAL;case it.UNAVAILABLE:return X.UNAVAILABLE;case it.UNAUTHENTICATED:return X.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case it.NOT_FOUND:return X.NOT_FOUND;case it.ALREADY_EXISTS:return X.ALREADY_EXISTS;case it.PERMISSION_DENIED:return X.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case it.ABORTED:return X.ABORTED;case it.OUT_OF_RANGE:return X.OUT_OF_RANGE;case it.UNIMPLEMENTED:return X.UNIMPLEMENTED;case it.DATA_LOSS:return X.DATA_LOSS;default:return Ae(39323,{code:n})}}(Me=it||(it={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new ur([4294967295,4294967295],0);function Zf(n){const e=k1().encode(n),t=new $m;return t.update(e),new Uint8Array(t.digest())}function ed(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ur([t,r],0),new ur([s,i],0)]}class uc{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ri(`Invalid padding: ${t}`);if(r<0)throw new ri(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ri(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ri(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ur.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ur.fromNumber(r)));return s.compare(L1)===1&&(s=new ur([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Zf(e),[r,s]=ed(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new uc(i,s,t);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const t=Zf(e),[r,s]=ed(t);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ri extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,zi.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Va(Te.min(),s,new rt(xe),yr(),Ve())}}class zi{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zi(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class _g{constructor(e,t){this.targetId=e,this.Ce=t}}class vg{constructor(e,t,r=Tt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class td{constructor(){this.ve=0,this.Fe=nd(),this.Me=Tt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:i})}}),new zi(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=nd()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F1{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=wo(),this.He=wo(),this.Ye=new rt(xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const i=s.target;if(pu(i))if(r===0){const a=new ye(i.path);this.et(t,a,Vt.newNoDocument(a,Te.min()))}else Xe(r===1,20013,{expectedCount:r});else{const a=this._t(t);if(a!==r){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let a,l;try{a=mr(r).toUint8Array()}catch(u){if(u instanceof Jm)return ws("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new uc(a,s,i)}catch(u){return ws(u instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(t,i,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&pu(l.target)){const u=new ye(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Vt.newNoDocument(u,e))}i.Be&&(t.set(a,i.ke()),i.qe())}});let r=Ve();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const s=new Va(e,t,this.Ye,this.je,r);return this.je=yr(),this.Je=wo(),this.He=wo(),this.Ye=new rt(xe),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new td,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new pt(xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new pt(xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new td),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wo(){return new rt(ye.comparator)}function nd(){return new rt(ye.comparator)}const U1={asc:"ASCENDING",desc:"DESCENDING"},B1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1={and:"AND",or:"OR"};class $1{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _u(n,e){return n.useProto3Json||Ra(e)?e:{value:e}}function H1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gs(n){return Xe(!!n,49232),Te.fromTimestamp(function(t){const r=pr(t);return new lt(r.seconds,r.nanos)}(n))}function z1(n,e){return vu(n,e).canonicalString()}function vu(n,e){const t=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Eg(n){const e=Je.fromString(n);return Xe(Cg(e),10190,{key:e.toString()}),e}function Cl(n,e){const t=Eg(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Tg(t))}function wg(n,e){return z1(n.databaseId,e)}function K1(n){const e=Eg(n);return e.length===4?Je.emptyPath():Tg(e)}function rd(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tg(n){return Xe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function W1(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ae(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(Xe(f===void 0||typeof f=="string",58123),Tt.fromBase64String(f||"")):(Xe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Tt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?X.UNKNOWN:yg(h.code);return new pe(f,h.message||"")}(a);t=new vg(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Cl(n,r.document.name),i=gs(r.document.updateTime),a=r.document.createTime?gs(r.document.createTime):Te.min(),l=new Dn({mapValue:{fields:r.document.fields}}),u=Vt.newFoundDocument(s,i,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];t=new Vo(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Cl(n,r.document),i=r.readTime?gs(r.readTime):Te.min(),a=Vt.newNoDocument(s,i),l=r.removedTargetIds||[];t=new Vo([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Cl(n,r.document),i=r.removedTargetIds||[];t=new Vo([],i,s,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new V1(s,i),l=r.targetId;t=new _g(l,a)}}return t}function G1(n,e){return{documents:[wg(n,e.path)]}}function Y1(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wg(n,s);const i=function(h){if(h.length!==0)return Ag(Vn.create(h,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(h){if(h.length!==0)return h.map(f=>function(m){return{field:rs(m.field),direction:X1(m.dir)}}(f))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=_u(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:t,parent:s}}function Q1(n){let e=K1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Xe(r===1,65062);const f=t.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];t.where&&(i=function(p){const m=bg(p);return m instanceof Vn&&sg(m)?m.getFilters():[m]}(t.where));let a=[];t.orderBy&&(a=function(p){return p.map(m=>function(D){return new ea(ss(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(t.orderBy));let l=null;t.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Ra(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new Zo(v,m)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const m=!p.before,v=p.values||[];return new Zo(v,m)}(t.endAt)),m1(e,s,a,i,l,"F",u,h)}function J1(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bg(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ss(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ss(t.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ss(t.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ss(t.unaryFilter.field);return dt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return dt.create(ss(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vn.create(t.compositeFilter.filters.map(r=>bg(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function X1(n){return U1[n]}function Z1(n){return B1[n]}function eA(n){return j1[n]}function rs(n){return{fieldPath:n.canonicalString()}}function ss(n){return Wt.fromServerFormat(n.fieldPath)}function Ag(n){return n instanceof dt?function(t){if(t.op==="=="){if(qf(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NAN"}};if(Hf(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qf(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NOT_NAN"}};if(Hf(t.value))return{unaryFilter:{field:rs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(t.field),op:Z1(t.op),value:t.value}}}(n):n instanceof Vn?function(t){const r=t.getFilters().map(s=>Ag(s));return r.length===1?r[0]:{compositeFilter:{op:eA(t.op),filters:r}}}(n):Ae(54877,{filter:n})}function Cg(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t,r,s,i=Te.min(),a=Te.min(),l=Tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.yt=e}}function nA(n){const e=Q1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.Cn=new sA}addToCollectionParentIndex(e,t){return this.Cn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(dr.min())}updateCollectionGroup(e,t,r){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class sA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new pt(Je.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new pt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ig=41943040;class Jt{static withCacheSize(e){return new Jt(e,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(Ig,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Cs(0)}static cr(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id="LruGarbageCollector",iA=1048576;function od([n,e],[t,r]){const s=xe(n,t);return s===0?xe(e,r):s}class oA{constructor(e){this.Ir=e,this.buffer=new pt(od),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();od(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aA{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(id,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ms(t)?oe(id,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.Vr(3e5)})}}class lA{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return z.resolve(Sa.ce);const r=new oA(t);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(sd)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sd):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,i,a,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,t))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),ts()<=Oe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function uA(n,e){return new lA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.changes=new zr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ei(r.mutation,s,sr.empty(),lt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const s=kr();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let a=ni();return i.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const r=kr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,r,s){let i=yr();const a=vi(),l=function(){return vi()}();return t.forEach((u,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Na)?i=i.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),Ei(f.mutation,h,f.mutation.getFieldMask(),lt.now())):a.set(h.key,sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,f)=>a.set(h,f)),t.forEach((h,f)=>l.set(h,new hA(f,a.get(h)??null))),l))}recalculateAndSaveOverlays(e,t){const r=vi();let s=new rt((a,l)=>a-l),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let f=r.get(u)||sr.empty();f=l.applyToLocalView(h,f),r.set(u,f);const p=(s.get(l.batchId)||Ve()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=hg();f.forEach(m=>{if(!i.has(m)){const v=mg(t.get(m),r.get(m));v!==null&&p.set(m,v),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(a){return ye.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):z.resolve(kr());let l=Ni,u=i;return a.next(h=>z.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?z.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,Ve())).next(f=>({batchId:l,changes:w1(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=ni();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let a=ni();return this.indexManager.getCollectionParents(e,i).next(l=>z.forEach(l,u=>{const h=function(p,m){return new Pa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(f=>{f.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(a=>{i.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,Vt.newInvalidDocument(f)))});let l=ni();return a.forEach((u,h)=>{const f=i.get(u);f!==void 0&&Ei(f.mutation,h,sr.empty(),lt.now()),Ma(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:gs(s.createTime)}}(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:nA(s.bundledQuery),readTime:gs(s.readTime)}}(t)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.overlays=new rt(ye.comparator),this.qr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=kr();return z.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.St(e,t,i)}),z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,t,r){const s=kr(),i=t.length+1,a=new ye(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new rt((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=kr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=kr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return z.resolve(l)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new N1(t,r));let i=this.qr.get(t);i===void 0&&(i=Ve(),this.qr.set(t,i)),this.qr.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this.Qr=new pt(gt.$r),this.Ur=new pt(gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new gt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new gt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Je([])),r=new gt(t,e),s=new gt(t,e+1),i=[];return this.Ur.forEachInRange([r,s],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Je([])),r=new gt(t,e),s=new gt(t,e+1);let i=Ve();return this.Ur.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const t=new gt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||xe(e.Yr,t.Yr)}static Kr(e,t){return xe(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new pt(gt.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new O1(i,t,r,s);this.mutationQueue.push(a);for(const l of s)this.Zr=this.Zr.add(new gt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(a)}lookupMutationBatch(e,t){return z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Gb:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gt(t,0),s=new gt(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],a=>{const l=this.Xr(a.Yr);i.push(l)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pt(xe);return t.forEach(s=>{const i=new gt(s,0),a=new gt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{r=r.add(l.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const a=new gt(new ye(i),0);let l=new pt(xe);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Yr)),!0)},a),z.resolve(this.ti(l))}ti(e){const t=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Xe(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(t.mutations,s=>{const i=new gt(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new gt(t,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.ri=e,this.docs=function(){return new rt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return z.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=yr();const a=t.path,l=new ye(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||qb(Hb(f),r)<=0||(s.has(f.key)||Ma(t,f))&&(i=i.insert(f.key,f.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,t,r,s){Ae(9500)}ii(e,t){return z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _A(this)}getSize(e){return z.resolve(this.size)}}class _A extends cA{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.persistence=e,this.si=new zr(t=>sc(t),ic),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new cc,this.targetCount=0,this.ai=Cs.ur()}forEachTarget(e,t){return this.si.forEach((r,s)=>t(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Cs(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Pr(t),z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return z.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),z.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return z.resolve(r)}containsKey(e,t){return z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.ui={},this.overlays={},this.ci=new Sa(0),this.li=!1,this.li=!0,this.hi=new mA,this.referenceDelegate=e(this),this.Pi=new vA(this),this.indexManager=new rA,this.remoteDocumentCache=function(s){return new yA(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new tA(t),this.Ii=new dA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new gA(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){oe("MemoryPersistence","Starting transaction:",e);const s=new EA(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,t){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class EA extends Kb{constructor(e){super(),this.currentSequenceNumber=e}}class hc{constructor(e){this.persistence=e,this.Ri=new cc,this.Vi=null}static mi(e){return new hc(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),z.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(i=>{i||t.removeEntry(s,Te.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return z.or([()=>z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ra{constructor(e,t){this.persistence=e,this.pi=new zr(r=>Yb(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=uA(this,t)}static mi(e,t){return new ra(e,t)}Ei(){}di(e){return z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,a=>this.br(e,a,t).next(l=>{l||(r++,i.removeEntry(a,Te.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oo(e.data.value)),t}br(e,t,r){return z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Ve(),s=Ve();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new fc(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return l0()?8:Wb(o0())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.ys(e,t).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,t,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new wA;return this.Ss(e,t,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,t,a,l.size)})}).next(()=>i.result)}bs(e,t,r,s){return r.documentReadCount<this.fs?(ts()<=Oe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ts()<=Oe.DEBUG&&oe("QueryEngine","Query:",ns(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ts()<=Oe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,On(t))):z.resolve())}ys(e,t){if(Gf(t))return z.resolve(null);let r=On(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=mu(t,null,"F"),r=On(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=Ve(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(t,l);return this.Cs(t,h,a,u.readTime)?this.ys(e,mu(t,null,"F")):this.vs(e,h,t,u)}))})))}ws(e,t,r,s){return Gf(t)||s.isEqual(Te.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const a=this.Ds(t,i);return this.Cs(t,a,r,s)?z.resolve(null):(ts()<=Oe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ns(t)),this.vs(e,a,t,$b(s,Ni)).next(l=>l))})}Ds(e,t){let r=new pt(ug(e));return t.forEach((s,i)=>{Ma(e,i)&&(r=r.add(i))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,t,r){return ts()<=Oe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ns(t)),this.ps.getDocumentsMatchingQuery(e,t,dr.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="LocalStore",bA=3e8;class AA{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new rt(xe),this.xs=new zr(i=>sc(i),ic),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function CA(n,e,t,r){return new AA(n,e,t,r)}async function Rg(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],l=[];let u=Ve();for(const h of s){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:a,addedBatchIds:l}))})})}function Dg(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function IA(n,e){const t=Ne(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const l=[];e.targetChanges.forEach((f,p)=>{const m=s.get(p);if(!m)return;l.push(t.Pi.removeMatchingKeys(i,f.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(i,f.addedDocuments,p)));let v=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Tt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),s=s.insert(p,v),function(C,x,K){return C.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=bA?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(m,v,f)&&l.push(t.Pi.updateTargetData(i,v))});let u=yr(),h=Ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(SA(i,a,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!r.isEqual(Te.min())){const f=t.Pi.getLastRemoteSnapshotVersion(i).next(p=>t.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return z.waitFor(l).next(()=>a.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(t.Ms=s,i))}function SA(n,e,t){let r=Ve(),s=Ve();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=yr();return t.forEach((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(Te.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):oe(dc,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:a,qs:s}})}function RA(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Pi.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):t.Pi.allocateTargetId(r).next(a=>(s=new ir(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Eu(n,e,t){const r=Ne(n),s=r.Ms.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ms(a))throw a;oe(dc,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function ad(n,e,t){const r=Ne(n);let s=Te.min(),i=Ve();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const p=Ne(u),m=p.xs.get(f);return m!==void 0?z.resolve(p.Ms.get(m)):p.Pi.getTargetData(h,f)}(r,a,On(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,t?s:Te.min(),t?i:Ve())).next(l=>(DA(r,_1(e),l),{documents:l,Qs:i})))}function DA(n,e,t){let r=n.Os.get(e)||Te.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.Os.set(e,r)}class ld{constructor(){this.activeTargetIds=A1()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PA{constructor(){this.Mo=new ld,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ld,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="ConnectivityMonitor";class cd{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ud,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ud,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To=null;function wu(){return To===null?To=function(){return 268435456+Math.round(2147483648*Math.random())}():To++,"0x"+To.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RestConnection",MA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Xo?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,i){const a=wu(),l=this.zo(e,t.toUriEncodedString());oe(Il,`Sending RPC '${e}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:h}=new URL(l),f=Xu(h);return this.Jo(e,l,u,r,f).then(p=>(oe(Il,`Received RPC '${e}' ${a}: `,p),p),p=>{throw ws(Il,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Ho(e,t,r,s,i,a){return this.Go(e,t,r,s,i)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,t){const r=MA[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class VA extends OA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,i){const a=wu();return new Promise((l,u)=>{const h=new Hm;h.setWithCredentials(!0),h.listenOnce(qm.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case xo.NO_ERROR:const p=h.getResponseJson();oe(Dt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case xo.TIMEOUT:oe(Dt,`RPC '${e}' ${a} timed out`),u(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case xo.HTTP_ERROR:const m=h.getStatus();if(oe(Dt,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const D=v?.error;if(D&&D.status&&D.message){const C=function(K){const U=K.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(U)>=0?U:X.UNKNOWN}(D.status);u(new pe(C,D.message))}else u(new pe(X.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{oe(Dt,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);oe(Dt,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",f,r,15)})}T_(e,t,r){const s=wu(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Wm(),l=Km(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=i.join("");oe(Dt,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=a.createWebChannel(f,u);this.I_(p);let m=!1,v=!1;const D=new NA({Yo:x=>{v?oe(Dt,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(oe(Dt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),oe(Dt,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},Zo:()=>p.close()}),C=(x,K,U)=>{x.listen(K,V=>{try{U(V)}catch($){setTimeout(()=>{throw $},0)}})};return C(p,ti.EventType.OPEN,()=>{v||(oe(Dt,`RPC '${e}' stream ${s} transport opened.`),D.o_())}),C(p,ti.EventType.CLOSE,()=>{v||(v=!0,oe(Dt,`RPC '${e}' stream ${s} transport closed`),D.a_(),this.E_(p))}),C(p,ti.EventType.ERROR,x=>{v||(v=!0,ws(Dt,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),D.a_(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),C(p,ti.EventType.MESSAGE,x=>{if(!v){const K=x.data[0];Xe(!!K,16349);const U=K,V=U?.error||U[0]?.error;if(V){oe(Dt,`RPC '${e}' stream ${s} received error:`,V);const $=V.status;let ae=function(w){const E=it[w];if(E!==void 0)return yg(E)}($),ce=V.message;ae===void 0&&(ae=X.INTERNAL,ce="Unknown error status: "+$+" with message "+V.message),v=!0,D.a_(new pe(ae,ce)),p.close()}else oe(Dt,`RPC '${e}' stream ${s} received:`,K),D.u_(K)}}),C(l,zm.STAT_EVENT,x=>{x.stat===au.PROXY?oe(Dt,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===au.NOPROXY&&oe(Dt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.__()},0),D}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Sl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(n){return new $1(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="PersistentStream";class kA{constructor(e,t,r,s,i,a,l,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xg(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Wn(t.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===t&&this.G_(r,s)},r=>{e(()=>{const s=new pe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return oe(hd,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(oe(hd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LA extends kA{constructor(e,t,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=W1(this.serializer,e),r=function(i){if(!("targetChange"in i))return Te.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Te.min():a.readTime?gs(a.readTime):Te.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=rd(this.serializer),t.addTarget=function(i,a){let l;const u=a.target;if(l=pu(u)?{documents:G1(i,u)}:{query:Y1(i,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=q1(i,a.resumeToken);const h=_u(i,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Te.min())>0){l.readTime=H1(i,a.snapshotVersion.toTimestamp());const h=_u(i,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=J1(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=rd(this.serializer),t.removeTarget=e,this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{}class UA extends FA{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,vu(t,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(X.UNKNOWN,i.toString())})}Ho(e,t,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,vu(t,r),s,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(X.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class BA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wn(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class jA{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Wi(this)&&(oe(Is,"Restarting streams for network reachability change."),await async function(u){const h=Ne(u);h.Ea.add(4),await Ki(h),h.Ra.set("Unknown"),h.Ea.delete(4),await ka(h)}(this))})}),this.Ra=new BA(r,s)}}async function ka(n){if(Wi(n))for(const e of n.da)await e(!0)}async function Ki(n){for(const e of n.da)await e(!1)}function Mg(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),yc(t)?gc(t):Os(t).O_()&&mc(t,e))}function pc(n,e){const t=Ne(n),r=Os(t);t.Ia.delete(e),r.O_()&&Og(t,e),t.Ia.size===0&&(r.O_()?r.L_():Wi(t)&&t.Ra.set("Unknown"))}function mc(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Os(n).Y_(e)}function Og(n,e){n.Va.Ue(e),Os(n).Z_(e)}function gc(n){n.Va=new F1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Os(n).start(),n.Ra.ua()}function yc(n){return Wi(n)&&!Os(n).x_()&&n.Ia.size>0}function Wi(n){return Ne(n).Ea.size===0}function Ng(n){n.Va=void 0}async function $A(n){n.Ra.set("Online")}async function HA(n){n.Ia.forEach((e,t)=>{mc(n,e)})}async function qA(n,e){Ng(n),yc(n)?(n.Ra.ha(e),gc(n)):n.Ra.set("Unknown")}async function zA(n,e,t){if(n.Ra.set("Online"),e instanceof vg&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const l of i.targetIds)s.Ia.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ia.delete(l),s.Va.removeTarget(l))}(n,e)}catch(r){oe(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(n,r)}else if(e instanceof Vo?n.Va.Ze(e):e instanceof _g?n.Va.st(e):n.Va.tt(e),!t.isEqual(Te.min()))try{const r=await Dg(n.localStore);t.compareTo(r)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.Ia.get(h);f&&i.Ia.set(h,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const f=i.Ia.get(u);if(!f)return;i.Ia.set(u,f.withResumeToken(Tt.EMPTY_BYTE_STRING,f.snapshotVersion)),Og(i,u);const p=new ir(f.target,u,h,f.sequenceNumber);mc(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(r){oe(Is,"Failed to raise snapshot:",r),await fd(n,r)}}async function fd(n,e,t){if(!Ms(e))throw e;n.Ea.add(1),await Ki(n),n.Ra.set("Offline"),t||(t=()=>Dg(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{oe(Is,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ka(n)})}async function dd(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),oe(Is,"RemoteStore received new credentials");const r=Wi(t);t.Ea.add(3),await Ki(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ka(t)}async function KA(n,e){const t=Ne(n);e?(t.Ea.delete(2),await ka(t)):e||(t.Ea.add(2),await Ki(t),t.Ra.set("Unknown"))}function Os(n){return n.ma||(n.ma=function(t,r,s){const i=Ne(t);return i.sa(),new LA(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Xo:$A.bind(null,n),t_:HA.bind(null,n),r_:qA.bind(null,n),H_:zA.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),yc(n)?gc(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ng(n))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const a=Date.now()+r,l=new _c(e,t,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(n,e){if(Wn("AsyncQueue",`${e}: ${n}`),Ms(n))return new pe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{static emptySet(e){return new ys(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=ni(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ys)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.ga=new rt(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ss{constructor(e,t,r,s,i,a,l,u,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,i){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new Ss(e,t,ys.emptySet(t),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GA{constructor(){this.queries=md(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ne(t),i=s.queries;s.queries=md(),i.forEach((a,l)=>{for(const u of l.Sa)u.onError(r)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function md(){return new zr(n=>lg(n),xa)}async function YA(n,e){const t=Ne(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new WA,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await t.onListen(s,!0);break;case 1:i.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const l=Vg(a,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,i),i.Sa.push(e),e.va(t.onlineState),i.wa&&e.Fa(i.wa)&&vc(t)}async function QA(n,e){const t=Ne(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function JA(n,e){const t=Ne(n);let r=!1;for(const s of e){const i=s.query,a=t.queries.get(i);if(a){for(const l of a.Sa)l.Fa(s)&&(r=!0);a.wa=s}}r&&vc(t)}function XA(n,e,t){const r=Ne(n),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(t);r.queries.delete(e)}function vc(n){n.Ca.forEach(e=>{e.next()})}var Tu,gd;(gd=Tu||(Tu={})).Ma="default",gd.Cache="cache";class ZA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.key=e}}class Lg{constructor(e){this.key=e}}class eC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=ug(e),this.tu=new ys(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new pd,s=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const m=s.get(f),v=Ma(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;m&&v?m.data.isEqual(v.data)?D!==C&&(r.track({type:3,doc:v}),x=!0):this.su(m,v)||(r.track({type:2,doc:v}),x=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),x=!0):m&&!v&&(r.track({type:1,doc:m}),x=!0,(u||h)&&(l=!0)),x&&(v?(a=a.add(v),i=C?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:l,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,p)=>function(v,D){const C=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:x})}};return C(v)-C(D)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),s=s??!1;const l=t&&!s?this._u():[],u=this.Xa.size===0&&this.current&&!s?1:0,h=u!==this.Za;return this.Za=u,a.length!==0||h?{snapshot:new Ss(this.query,e.tu,i,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Lg(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new kg(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ss.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ec="SyncEngine";class tC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nC{constructor(e){this.key=e,this.hu=!1}}class rC{constructor(e,t,r,s,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zr(l=>lg(l),xa),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ye.comparator),this.Au=new Map,this.Ru=new cc,this.Vu={},this.mu=new Map,this.fu=Cs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sC(n,e,t=!0){const r=$g(n);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await Fg(r,e,t,!0),s}async function iC(n,e){const t=$g(n);await Fg(t,e,!0,!1)}async function Fg(n,e,t,r){const s=await RA(n.localStore,On(e)),i=s.targetId,a=n.sharedClientState.addLocalQueryTarget(i,t);let l;return r&&(l=await oC(n,e,i,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&Mg(n.remoteStore,s),l}async function oC(n,e,t,r,s){n.pu=(p,m,v)=>async function(C,x,K,U){let V=x.view.ru(K);V.Cs&&(V=await ad(C.localStore,x.query,!1).then(({documents:R})=>x.view.ru(R,V)));const $=U&&U.targetChanges.get(x.targetId),ae=U&&U.targetMismatches.get(x.targetId)!=null,ce=x.view.applyChanges(V,C.isPrimaryClient,$,ae);return _d(C,x.targetId,ce.au),ce.snapshot}(n,p,m,v);const i=await ad(n.localStore,e,!0),a=new eC(e,i.Qs),l=a.ru(i.documents),u=zi.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=a.applyChanges(l,n.isPrimaryClient,u);_d(n,t,h.au);const f=new tC(e,t,a);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),h.snapshot}async function aC(n,e,t){const r=Ne(n),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(a=>!xa(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Eu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&pc(r.remoteStore,s.targetId),bu(r,s.targetId)}).catch(Ia)):(bu(r,s.targetId),await Eu(r.localStore,s.targetId,!0))}async function lC(n,e){const t=Ne(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pc(t.remoteStore,r.targetId))}async function Ug(n,e){const t=Ne(n);try{const r=await IA(t.localStore,e);e.targetChanges.forEach((s,i)=>{const a=t.Au.get(i);a&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Xe(a.hu,14607):s.removedDocuments.size>0&&(Xe(a.hu,42227),a.hu=!1))}),await jg(t,r,e)}catch(r){await Ia(r)}}function yd(n,e,t){const r=Ne(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=Ne(a);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const m of p.Sa)m.va(l)&&(h=!0)}),h&&vc(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uC(n,e,t){const r=Ne(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new rt(ye.comparator);a=a.insert(i,Vt.newNoDocument(i,Te.min()));const l=Ve().add(i),u=new Va(Te.min(),new Map,new rt(xe),a,l);await Ug(r,u),r.du=r.du.remove(i),r.Au.delete(e),wc(r)}else await Eu(r.localStore,e,!1).then(()=>bu(r,e,t)).catch(Ia)}function bu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||Bg(n,r)})}function Bg(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(pc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),wc(n))}function _d(n,e,t){for(const r of t)r instanceof kg?(n.Ru.addReference(r.key,e),cC(n,r)):r instanceof Lg?(oe(Ec,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Bg(n,r.key)):Ae(19791,{wu:r})}function cC(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(oe(Ec,"New document in limbo: "+t),n.Eu.add(r),wc(n))}function wc(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Je.fromString(e)),r=n.fu.next();n.Au.set(r,new nC(t)),n.du=n.du.insert(t,r),Mg(n.remoteStore,new ir(On(oc(t.path)),r,"TargetPurposeLimboResolution",Sa.ce))}}async function jg(n,e,t){const r=Ne(n),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((l,u)=>{a.push(r.pu(u,e,t).then(h=>{if((h||t)&&r.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){s.push(h);const f=fc.As(u.targetId,h);i.push(f)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(u,h){const f=Ne(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>z.forEach(h,m=>z.forEach(m.Es,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>z.forEach(m.ds,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Ms(p))throw p;oe(dc,"Failed to update sequence numbers: "+p)}for(const p of h){const m=p.targetId;if(!p.fromCache){const v=f.Ms.get(m),D=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(D);f.Ms=f.Ms.insert(m,C)}}}(r.localStore,i))}async function hC(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){oe(Ec,"User change. New user:",e.toKey());const r=await Rg(t.localStore,e);t.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(u=>{u.reject(new pe(X.CANCELLED,a))})}),i.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jg(t,r.Ls)}}function fC(n,e){const t=Ne(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let s=Ve();const i=t.Iu.get(e);if(!i)return s;for(const a of i){const l=t.Tu.get(a);s=s.unionWith(l.view.nu)}return s}}function $g(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ug.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uC.bind(null,e),e.Pu.H_=JA.bind(null,e.eventManager),e.Pu.yu=XA.bind(null,e.eventManager),e}class sa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CA(this.persistence,new TA,e.initialUser,this.serializer)}Cu(e){return new Sg(hc.mi,this.serializer)}Du(e){return new PA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sa.provider={build:()=>new sa};class dC extends sa{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xe(this.persistence.referenceDelegate instanceof ra,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aA(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new Sg(r=>ra.mi(r,t),this.serializer)}}class Au{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hC.bind(null,this.syncEngine),await KA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GA}()}createDatastore(e){const t=Pg(e.databaseInfo.databaseId),r=function(i){return new VA(i)}(e.databaseInfo);return function(i,a,l,u){return new UA(i,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,a,l){return new jA(r,s,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>yd(this.syncEngine,t,0),function(){return cd.v()?new cd:new xA}())}createSyncEngine(e,t){return function(s,i,a,l,u,h,f){const p=new rC(s,i,a,l,u,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Ne(t);oe(Is,"RemoteStore shutting down."),r.Ea.add(5),await Ki(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Au.provider={build:()=>new Au};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class mC{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=tc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{oe(_r,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(oe(_r,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rl(n,e){n.asyncQueue.verifyOperationInProgress(),oe(_r,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Rg(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function vd(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gC(n);oe(_r,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dd(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>dd(e.remoteStore,s)),n._onlineComponents=e}async function gC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(_r,"Using user provided OfflineComponentProvider");try{await Rl(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ws("Error using user provided cache. Falling back to memory cache: "+t),await Rl(n,new sa)}}else oe(_r,"Using default OfflineComponentProvider"),await Rl(n,new dC(void 0));return n._offlineComponents}async function yC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(_r,"Using user provided OnlineComponentProvider"),await vd(n,n._uninitializedComponentsProvider._online)):(oe(_r,"Using default OnlineComponentProvider"),await vd(n,new Au))),n._onlineComponents}async function Ed(n){const e=await yC(n),t=e.eventManager;return t.onListen=sC.bind(null,e.syncEngine),t.onUnlisten=aC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lC.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="firestore.googleapis.com",Td=!0;class bd{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qg,this.ssl=Td}else this.host=e.host,this.ssl=e.ssl??Td;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ig;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iA)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ub("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hg(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rb;switch(r.type){case"firstParty":return new Mb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=wd.get(t);r&&(oe("ComponentProvider","Removing Datastore"),wd.delete(t),r.terminate())}(this),Promise.resolve()}}function _C(n,e,t,r={}){n=Mo(n,Tc);const s=Xu(e),i=n._getSettings(),a={...i,emulatorOptions:n._getEmulatorOptions()},l=`${e}:${t}`;s&&(t0(`https://${l}`),i0("Firestore",!0)),i.host!==qg&&i.host!==l&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:s,emulatorOptions:r};if(!Yo(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=xt.MOCK_USER;else{h=n0(r.mockUserToken,n._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new xt(p)}n._authCredentials=new Db(new Ym(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hi(t,Gt._jsonSchema))return new Gt(e,r||null,new ye(Je.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:ut("string",Gt._jsonSchemaVersion),referencePath:ut("string")};class Fi extends La{constructor(e,t,r){super(e,t,oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new ye(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function vC(n,e,...t){if(n=Vm(n),arguments.length===1&&(e=tc.newId()),Fb("doc","path",e),n instanceof Tc){const r=Je.fromString(e,...t);return Vf(r),new Gt(n,null,new ye(r))}{if(!(n instanceof Gt||n instanceof Fi))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return Vf(r),new Gt(n.firestore,n instanceof Fi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad="AsyncQueue";class Cd{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xg(this,"async_queue_retry"),this._c=()=>{const r=Sl();r&&oe(Ad,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Sl();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sl();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ms(e))throw e;oe(Ad,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wn("INTERNAL UNHANDLED ERROR: ",Id(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=_c.createAndSchedule(this,e,t,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Ae(47125,{Pc:Id(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Id(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(n,["next","error","complete"])}class Cu extends Tc{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Cd,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cd(e),this._firestoreClient=void 0,await e}}}function EC(n,e){const t=typeof n=="object"?n:mb(),r=typeof n=="string"?n:Xo,s=cb(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ZT("firestore");i&&_C(s,...i)}return s}function wC(n){if(n._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TC(n),n._firestoreClient}function TC(n){const e=n._freezeSettings(),t=function(s,i,a,l){return new Zb(s,i,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Hg(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new mC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(s){const i=s?._online.build();return{_offline:s?._offline.build(i),_online:i}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(Tt.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pn(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hi(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:ut("string",Pn._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Hi(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:ut("string",cr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hi(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new hr(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:ut("string",hr._jsonSchemaVersion),vectorValues:ut("object")};const bC=new RegExp("[~\\*/\\[\\]]");function AC(n,e,t){if(e.search(bC)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n);try{return new zg(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n)}}function Rd(n,e,t,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let a="";return new pe(X.INVALID_ARGUMENT,i+n+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CC extends Kg{data(){return super.data()}}function Wg(n,e){return typeof e=="string"?AC(n,e):e instanceof zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SC{convertValue(e,t="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return qi(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){const t=e.fields?.[cu].arrayValue?.values?.map(r=>nt(r.doubleValue));return new hr(t)}convertGeoPoint(e){return new cr(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Da(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vi(e));default:return null}}convertTimestamp(e){const t=pr(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);Xe(Cg(r),9688,{name:e});const s=new ki(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(t)||Wn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class si{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends Kg{constructor(e,t,r,s,i,a){super(e,t,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ko(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Br._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:ut("string",Br._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class ko extends Br{data(e={}){return super.data(e)}}class _s{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new si(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ko(this._firestore,this._userDataWriter,r.key,r,new si(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new si(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const u=new ko(s._firestore,s._userDataWriter,l.doc.key,l.doc,new si(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:RC(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_s._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(t.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}_s._jsonSchemaVersion="firestore/querySnapshot/1.0",_s._jsonSchema={type:ut("string",_s._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class Gg extends SC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function DC(n,...e){n=Vm(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sd(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Sd(e[r])){const u=e[r];e[r]=u.next?.bind(u),e[r+1]=u.error?.bind(u),e[r+2]=u.complete?.bind(u)}let i,a,l;if(n instanceof Gt)a=Mo(n.firestore,Cu),l=oc(n._key.path),i={next:u=>{e[r]&&e[r](PC(a,n,u))},error:e[r+1],complete:e[r+2]};else{const u=Mo(n,La);a=Mo(u.firestore,Cu),l=u._query;const h=new Gg(a);i={next:f=>{e[r]&&e[r](new _s(a,h,u,f))},error:e[r+1],complete:e[r+2]},IC(n._query)}return function(h,f,p,m){const v=new pC(m),D=new ZA(f,v,p);return h.asyncQueue.enqueueAndForget(async()=>YA(await Ed(h),D)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>QA(await Ed(h),D))}}(wC(a),l,s,i)}function PC(n,e,t){const r=t.docs.get(e._key),s=new Gg(n);return new Br(n,s,e._key,r,new si(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){xs=s})(pb),Jo(new Mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new Cu(new Pb(r.getProvider("auth-internal")),new Ob(a,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ki(h.options.projectId,f)}(a,s),a);return i={useFetchStreams:t,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ps(xf,Mf,e),ps(xf,Mf,"esm2020")})();const xC={apiKey:"AIzaSyBwNIB5dukrM1rWeuu2bjEitJKSut9chg0",authDomain:"factgraph-38be7.firebaseapp.com",projectId:"factgraph-38be7",storageBucket:"factgraph-38be7.firebasestorage.app",messagingSenderId:"671154684730",appId:"1:671154684730:web:94c81f0af3589fc603",measurementId:"G-YGF3FZ1SG3"},MC=Um(xC),OC=EC(MC),NC={class:"header"},VC={class:"header-right"},kC={class:"menu-dropdown",ref:"menu"},LC={class:"container"},FC={class:"tab-switch"},UC=["innerHTML"],BC={class:"knowledge-wrapper"},jC=["innerHTML"],Xs="這裡會顯示結果。",Zs="這裡會顯示對照知識。",$C={__name:"TaskStatus",setup(n){const t=qE().params.id,r=ot("writing"),s=ot(!0),i=ot(!0),a=ot("");function l(D){a.value=D}const u=ot(Xs),h=ot(Zs),f=ot(Xs),p=ot(Zs),m=Zt(()=>r.value==="writing"?u.value:f.value),v=Zt(()=>r.value==="writing"?h.value:p.value);return pa(()=>{const D=vC(OC,"url-results",t);DC(D,C=>{if(!C.exists()){s.value=!1;return}const x=C.data();if((x.mode==="writing"||x.mode==="question")&&(r.value=x.mode),x.status==="FAILED"){s.value=!1,l("任務執行失敗，請稍後重試");return}if(x.status!=="DONE"){s.value=!0;return}s.value=!1,u.value=x.writingAnswer||Xs,h.value=x.writingKnowledge||Zs,f.value=x.questionAnswer||Xs,p.value=x.questionKnowledge||Zs},C=>{console.error("Firestore 監聽失敗：",C),s.value=!1,l("無法連線到 Firestore")})}),(D,C)=>(Ht(),un(Nt,null,[a.value?(Ht(),un("div",{key:0,class:Mt(["error-message",{show:a.value}])},as(a.value),3)):$l("",!0),C[12]||(C[12]=ne("img",{src:hs,class:"dog-hand dog-hand-1",alt:"dog hand"},null,-1)),C[13]||(C[13]=ne("img",{src:hs,class:"dog-hand dog-hand-2",alt:"dog hand"},null,-1)),C[14]||(C[14]=ne("img",{src:hs,class:"dog-hand dog-hand-3",alt:"dog hand"},null,-1)),ne("header",NC,[C[6]||(C[6]=ne("div",{class:"header-left"},[ne("span",{class:"header-icon",role:"img","aria-label":"camera"},[ne("img",{src:tm,alt:"camera icon",style:{width:"60px",height:"60px",display:"block"}})]),ne("span",{class:"header-title"},"圖破謠言，新聞真偽辨識AI")],-1)),ne("div",VC,[ne("button",{class:"menu-btn",onClick:C[0]||(C[0]=x=>D.$refs.menu.classList.toggle("show"))},C[4]||(C[4]=[ne("span",{class:"menu-bar"},null,-1),ne("span",{class:"menu-bar"},null,-1),ne("span",{class:"menu-bar"},null,-1)])),ne("nav",kC,C[5]||(C[5]=[ne("a",{href:"#"},"首頁",-1),ne("a",{href:"#"},"服務介紹",-1),ne("a",{href:"#"},"關於我們",-1)]),512)])]),C[15]||(C[15]=ne("img",{src:nm,class:"bg-dog",alt:"dog icon"},null,-1)),ne("div",LC,[C[11]||(C[11]=ne("h1",null,"查詢結果",-1)),ne("div",FC,[ne("button",{class:Mt(["tab-btn",{active:r.value==="writing"}]),onClick:C[1]||(C[1]=x=>r.value="writing")}," 文案查詢 ",2),ne("button",{class:Mt(["tab-btn",{active:r.value==="question"}]),onClick:C[2]||(C[2]=x=>r.value="question")}," 詢問模式 ",2)]),ne("div",{class:Mt(["answer-card",{default:!s.value&&m.value===Xs}])},[s.value?(Ht(),un(Nt,{key:0},[C[7]||(C[7]=ne("div",{class:"loading-spinner"},null,-1)),C[8]||(C[8]=ne("p",{class:"loading-text"},"偵探調查中… 請稍候",-1))],64)):(Ht(),un("div",{key:1,innerHTML:m.value},null,8,UC))],2),ne("div",BC,[ne("button",{class:"collapse-btn",onClick:C[3]||(C[3]=x=>i.value=!i.value)},[$u(as(i.value?"展開對照知識":"收起對照知識")+" ",1),ne("span",{class:Mt(["triangle",{rotated:!i.value}])},"…",2)]),Lt(zl,{name:"fade"},{default:Bo(()=>[kl(ne("div",{class:Mt(["knowledge-card",{default:!s.value&&v.value===Zs}])},[s.value?(Ht(),un(Nt,{key:0},[C[9]||(C[9]=ne("div",{class:"loading-spinner"},null,-1)),C[10]||(C[10]=ne("p",{class:"loading-text"},"偵探調查中… 請稍候",-1))],64)):(Ht(),un("div",{key:1,innerHTML:v.value},null,8,jC))],2),[[$p,s.value||!i.value]])]),_:1})])])],64))}},HC=Pm($C,[["__scopeId","data-v-0ef8e36c"]]),qC=[{path:"/",name:"ServicePage",component:$T},{path:"/tasks/:id",name:"TaskStatus",component:HC}],zC=$E({history:yE(),routes:qC});Lv(Bv).use(zC).mount("#app");
